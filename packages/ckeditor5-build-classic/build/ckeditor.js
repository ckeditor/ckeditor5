!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClassicEditor=t():e.ClassicEditor=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=499)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n){r(this,t),n&&(e+=" "+JSON.stringify(n));var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.name="CKEditorError",i.data=n,i}return i(t,e),a(t,null,[{key:"isCKEditorError",value:function(e){return e instanceof t}}]),t}(Error);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(33),u=r(a),l=n(18),f=r(l),s=n(49),c=r(s),d=n(0),h=r(d),p=n(23),v=r(p),y=function(){function e(t,n){if(o(this,e),!t.is("element")&&!t.is("documentFragment"))throw new h.default("model-position-root-invalid: Position root invalid.");if(!(n instanceof Array)||0===n.length)throw new h.default("model-position-path-incorrect: Position path must be an Array with at least one item.",{path:n});n=t.getPath().concat(n),t=t.root,this.root=t,this.path=n}return i(e,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=(0,c.default)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new u.default(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeNode:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=(0,c.default)(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getShiftedBy",value:function(t){var n=e.createFromPosition(this),r=n.offset+t;return n.offset=r<0?0:r,n}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,r=null;switch(this.compareWith(t)){case"same":return!0;case"before":n=e.createFromPosition(this),r=e.createFromPosition(t);break;case"after":n=e.createFromPosition(t),r=e.createFromPosition(this);break;default:return!1}for(var o=n.parent;n.path.length+r.path.length;){if(n.isEqual(r))return!0;if(n.path.length>r.path.length){if(n.offset!==o.maxOffset)return!1;n.path=n.path.slice(0,-1),o=o.parent,n.offset++}else{if(0!==r.offset)return!1;r.path=r.path.slice(0,-1)}}}},{key:"_getTransformedByDeletion",value:function(t,n){var r=e.createFromPosition(this);if(this.root!=t.root)return r;if("same"==(0,c.default)(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;r.offset-=n}}else if("prefix"==(0,c.default)(t.getParentPath(),this.getParentPath())){var o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+n>this.path[o])return null;r.path[o]-=n}}return r}},{key:"_getTransformedByInsertion",value:function(t,n,r){var o=e.createFromPosition(this);if(this.root!=t.root)return o;if("same"==(0,c.default)(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&r)&&(o.offset+=n);else if("prefix"==(0,c.default)(t.getParentPath(),this.getParentPath())){var i=t.path.length-1;t.offset<=this.path[i]&&(o.path[i]+=n)}return o}},{key:"_getTransformedByMove",value:function(e,t,n,r,o){var i=this._getTransformedByDeletion(e,n);return t=t._getTransformedByDeletion(e,n),i=null===i||o&&i.isEqual(e)?this._getCombined(e,t):i._getTransformedByInsertion(t,n,r)}},{key:"_getCombined",value:function(t,n){var r=t.path.length-1,o=e.createFromPosition(n);return o.offset=o.offset+this.path[r]-t.offset,o.path=o.path.concat(this.path.slice(r+1)),o}},{key:"offset",get:function(){return(0,f.default)(this.path)},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)e=e.getChild(e.offsetToIndex(this.path[t]));return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){var e=this.parent.getChild(this.index);return e instanceof v.default&&e.startOffset<this.offset?e:null}},{key:"nodeAfter",get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:"nodeBefore",get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"createAt",value:function(t,n){if(t instanceof e)return this.createFromPosition(t);var r=t;if("end"==n)n=r.maxOffset;else{if("before"==n)return this.createBefore(r);if("after"==n)return this.createAfter(r);n||(n=0)}return this.createFromParentAndOffset(r,n)}},{key:"createAfter",value:function(e){if(!e.parent)throw new h.default("model-position-after-root: You can not make position after root.",{root:e});return this.createFromParentAndOffset(e.parent,e.endOffset)}},{key:"createBefore",value:function(e){if(!e.parent)throw new h.default("model-position-before-root: You can not make position before root.",{root:e});return this.createFromParentAndOffset(e.parent,e.startOffset)}},{key:"createFromParentAndOffset",value:function(e,t){if(!e.is("element")&&!e.is("documentFragment"))throw new h.default("model-position-parent-incorrect: Position parent have to be a element or document fragment.");var n=e.getPath();return n.push(t),new this(e.root,n)}},{key:"createFromPosition",value:function(e){return new this(e.root,e.path.slice())}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root)return new e(n.graveyard,t.path);if(!n.hasRoot(t.root))throw new h.default("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",{rootName:t.root});return new e(n.getRoot(t.root),t.path)}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(31),u=r(a),l=n(4),f=r(l),s=function(){function e(t){o(this,e),this.editor=t}return i(e,[{key:"init",value:function(){}},{key:"afterInit",value:function(){}},{key:"destroy",value:function(){}}]),e}();t.default=s,(0,f.default)(s,u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),f=n(33),s=r(f),c=n(0),d=r(c),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this.start=l.default.createFromPosition(t),this.end=n?l.default.createFromPosition(n):l.default.createFromPosition(t)}return a(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){return this.containsPosition(e.start)&&this.containsPosition(e.end)}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(e.createFromRange(this)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,r=l.default.createFromPosition(this.start),o=r.parent;r.path.length>n+1;){var i=o.maxOffset-r.offset;0!==i&&t.push(new e(r,r.getShiftedBy(i))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}for(;r.path.length<=this.end.path.length;){var a=this.end.path[r.path.length-1],u=a-r.offset;0!==u&&t.push(new e(r,r.getShiftedBy(u))),r.offset=a,r.path.push(0)}return t}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.boundaries=this,l.ignoreElementEnd=!0,t=new s.default(l),n=!0,r=!1,o=void 0,e.prev=6,i=t[Symbol.iterator]();case 8:if(n=(a=i.next()).done){e.next=15;break}return u=a.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=!0,o=e.t0;case 21:e.prev=21,e.prev=22,!n&&i.return&&i.return();case 24:if(e.prev=24,!r){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.boundaries=this,t=new s.default(l),e.next=4,t.position;case 4:n=!0,r=!1,o=void 0,e.prev=7,i=t[Symbol.iterator]();case 9:if(n=(a=i.next()).done){e.next=16;break}return u=a.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),r=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!n&&i.return&&i.return();case 25:if(e.prev=25,!r){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:"getTransformedByDelta",value:function(t){var n=[e.createFromRange(this)],r=new Set(["insert","move","remove","reinsert"]),i=!0,a=!1,u=void 0;try{for(var l,f=t.operations[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value;if(r.has(s.type))for(var c=0;c<n.length;c++){var d=n[c]._getTransformedByDocumentChange(s.type,t.type,s.targetPosition||s.position,s.howMany||s.nodes.maxOffset,s.sourcePosition);n.splice.apply(n,[c,1].concat(o(d))),c+=d.length-1}}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return n}},{key:"getTransformedByDeltas",value:function(t){var n=[e.createFromRange(this)],r=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0)for(var f=u.value,s=0;s<n.length;s++){var c=n[s].getTransformedByDelta(f);n.splice.apply(n,[s,1].concat(o(c))),s+=c.length-1}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}for(var d=0;d<n.length;d++)for(var h=n[d],p=d+1;p<n.length;p++){var v=n[p];(h.containsRange(v)||v.containsRange(h)||h.isEqual(v))&&n.splice(p,1)}return n}},{key:"_getTransformedByDocumentChange",value:function(t,n,r,o,i){if("insert"==t)return this._getTransformedByInsertion(r,o,!1,!1);var a=this._getTransformedByMove(i,r,o);if("move"==t){var u=e.createFromPositionAndShift(i,o);if("split"==n&&this.containsPosition(i))return[new e(a[0].start,a[1].end)];if("merge"==n&&this.isCollapsed&&a[0].start.isEqual(i))return[new e(r.getShiftedBy(this.start.offset))];if("wrap"==n){if(u.containsPosition(this.start)&&this.containsPosition(u.end))return[new e(a[2].start,a[1].end)];if(u.containsPosition(this.end)&&this.containsPosition(u.start))return[new e(a[0].start,a[1].end)]}else if("unwrap"==n){if(u.containsPosition(this.start)&&this.containsPosition(u.end))return[new e(a[1].start,a[0].end)];if(u.containsPosition(this.end)&&this.containsPosition(u.start))return[new e(a[0].start,a[2].end)]}}return a}},{key:"_getTransformedByInsertion",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r&&this.containsPosition(t))return[new e(this.start,t),new e(t._getTransformedByInsertion(t,n,!0),this.end._getTransformedByInsertion(t,n,this.isCollapsed))];var i=e.createFromRange(this),a=!!i.isCollapsed||!o,u=!!i.isCollapsed||o;return i.start=i.start._getTransformedByInsertion(t,n,a),i.end=i.end._getTransformedByInsertion(t,n,u),[i]}},{key:"_getTransformedByMove",value:function(t,n,r){if(this.isCollapsed){return[new e(this.start._getTransformedByMove(t,n,r,!0,!1))]}var o=void 0,i=new e(t,t.getShiftedBy(r)),a=this.getDifference(i),u=null,l=this.getIntersection(i);1==a.length?u=new e(a[0].start._getTransformedByDeletion(t,r),a[0].end._getTransformedByDeletion(t,r)):2==a.length&&(u=new e(this.start,this.end._getTransformedByDeletion(t,r)));var f=n._getTransformedByDeletion(t,r);return o=u?u._getTransformedByInsertion(f,r,null!==l):[],l&&o.push(new e(l.start._getCombined(i.start,f),l.end._getCombined(i.start,f))),o}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"createFromPositionAndShift",value:function(e,t){var n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}},{key:"createFromParentsAndOffsets",value:function(e,t,n,r){return new this(l.default.createFromParentAndOffset(e,t),l.default.createFromParentAndOffset(n,r))}},{key:"createFromRange",value:function(e){return new this(e.start,e.end)}},{key:"createIn",value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.maxOffset)}},{key:"createOn",value:function(e){return this.createFromPositionAndShift(l.default.createBefore(e),e.offsetSize)}},{key:"createFromRanges",value:function(e){if(0===e.length)throw new d.default("range-create-from-ranges-empty-array: At least one range has to be passed.");if(1==e.length)return this.createFromRange(e[0]);var t=e[0];e.sort(function(e,t){return e.start.isAfter(t.start)});for(var n=e.indexOf(t),r=new this(t.start,t.end),o=n-1;o>=0&&e[o].end.isEqual(r.start);o++)r.start=l.default.createFromPosition(e[o].start);for(var i=n+1;i<e.length&&e[i].start.isEqual(r.end);i++)r.end=l.default.createFromPosition(e[i].end);return r}},{key:"fromJSON",value:function(e,t){return new this(l.default.fromJSON(e.start,t),l.default.fromJSON(e.end,t))}}]),e}();t.default=h},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(n){if(!(n in e.prototype)){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e.prototype,n,r)}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return"string"==typeof e?[new v.default(e)]:((0,b.default)(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new v.default(e):e}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(56),c=r(s),d=n(67),h=r(d),p=n(23),v=r(p),y=n(41),b=r(y),_=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.name=e,a._children=new h.default,r&&a.insertChildren(0,r),a}return a(t,e),l(t,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?"element"==e&&t==this.name:"element"==e||e==this.name}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e?Array.from(this._children).map(function(e){return e.clone()}):Array.from(this._children);return new t(this.name,this.getAttributes(),n)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"appendChildren",value:function(e){this.insertChildren(this.childCount,e)}},{key:"insertChildren",value:function(e,t){t=u(t);var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.parent=this}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this._children.insertNodes(e,t)}},{key:"removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children.removeNodes(e,t),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){a.value.parent=null}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}},{key:"getNodeByPath",value:function(e){var t=this,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t=t.getChild(u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"toJSON",value:function(){var e=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var n=!0,r=!1,o=void 0;try{for(var i,a=this._children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.children.push(u.toJSON())}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}return e}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var n=null;if(e.children){n=[];var r=!0,o=!1,i=void 0;try{for(var a,u=e.children[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.name?n.push(t.fromJSON(l)):n.push(v.default.fromJSON(l))}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}return new t(e.name,e.attributes,n)}}]),t}(c.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(l):e instanceof Z)}function f(e,t){return e.map(function(e){return e instanceof Z?e.getValue(t):e})}function s(e,t,n){var r=n.node,o=f(e,r);o=1==e.length&&e[0]instanceof te?o[0]:o.reduce(w,""),P(o)?t.remove():t.set(o)}function c(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function d(e,t,n){return{set:function(r){e.setAttributeNS(n,t,r)},remove:function(){e.removeAttributeNS(n,t)}}}function h(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function p(e){return(0,U.default)(e,function(e){if(e&&(e instanceof Z||M(e)||j(e)||x(e)))return e})}function v(e){if("string"==typeof e?e=_(e):e.text&&m(e),e.on&&(e.eventListeners=b(e.on),delete e.on),!e.text){e.attributes&&y(e.attributes);var t=new L.default;if(e.children)if(x(e.children))t.add(e.children);else{var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;M(u)||j(u)?t.add(u):t.add(new X(u))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}e.children=t}return e}function y(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),g(e,t)}function b(e){for(var t in e)g(e,t);return e}function _(e){return{text:[e]}}function m(e){Array.isArray(e.text)||(e.text=[e.text])}function g(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function w(e,t){return P(t)?e:P(e)?t:e+" "+t}function O(e,t){for(var n in t)if(e[n]){var r;(r=e[n]).push.apply(r,o(t[n]))}else e[n]=t[n]}function k(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),O(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),O(e.eventListeners,t.eventListeners)),t.text){var n;(n=e.text).push.apply(n,o(t.text))}if(t.children&&t.children.length){if(e.children.length!=t.children.length)throw new F.default("ui-template-extend-children-mismatch: The number of children in extended definition does not match.");var r=0,i=!0,a=!1,u=void 0;try{for(var l,f=t.children[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value;k(e.children.get(r++),s)}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}}}function P(e){return!e&&0!==e}function j(e){return e instanceof W.default}function M(e){return e instanceof X}function x(e){return e instanceof K.default}function E(){return{children:[],bindings:[],attributes:{}}}function S(e){return"class"==e||"style"==e}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateIfBinding=t.TemplateToBinding=t.TemplateBinding=void 0;var T=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},C=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=n(0),F=r(R),N=n(4),V=r(N),I=n(7),D=r(I),B=n(76),L=r(B),q=n(9),W=r(q),z=n(116),K=r(z),$=n(477),U=r($),H=n(14),J=r(H),G=n(55),Y=r(G),Q="http://www.w3.org/1999/xhtml",X=function(){function e(t){u(this,e),Object.assign(this,v(p(t))),this._isRendered=!1,this._revertData=null}return A(e,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData=E(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new F.default("ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.");this._revertTemplateFromNode(e,this._revertData)}},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new F.default('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||Q,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),l(this.text)?this._bindToObservable({schema:this.text,updater:c(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){var t=void 0,n=void 0,r=void 0,o=void 0;if(this.attributes){var i=e.node,a=e.revertData;for(t in this.attributes)if(r=i.getAttribute(t),n=this.attributes[t],a&&(a.attributes[t]=r),o=(0,J.default)(n[0])&&n[0].ns?n[0].ns:null,l(n)){var u=o?n[0].value:n;a&&S(t)&&u.unshift(r),this._bindToObservable({schema:u,updater:d(i,t,o),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(a&&r&&S(t)&&n.unshift(r),n=n.map(function(e){return e?e.value||e:e}).reduce(function(e,t){return e.concat(t)},[]).reduce(w,""),P(n)||i.setAttributeNS(o,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var r in e){var o=e[r];l(o)?this._bindToObservable({schema:[o],updater:h(n,r),data:t}):n.style[r]=o}}},{key:"_renderElementChildren",value:function(e){var t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying,o=0,i=!0,a=!1,u=void 0;try{for(var l,f=this.children[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value;if(x(s)){if(!r){s.setParent(t);var c=!0,d=!1,h=void 0;try{for(var p,v=s[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;n.appendChild(y.element)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}}else if(j(s))r||n.appendChild(s.element);else if(r){var b=e.revertData,_=E();b.children.push(_),s._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:_})}else n.appendChild(s.render())}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}e.intoFragment&&t.appendChild(n)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var r=t.eventListeners[n].map(function(t){var r=n.split("@"),o=C(r,2),i=o[0],a=o[1];return t.activateDomEventListener(i,a,e)});e.revertData&&e.revertData.bindings.push(r)};for(var r in this.eventListeners)n(r)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,r=e.data,o=r.revertData;s(t,n,r);var i=t.filter(function(e){return!P(e)}).filter(function(e){return e.observable}).map(function(e){return e.activateAttributeListener(t,n,r)});o&&o.bindings.push(i)}},{key:"_revertTemplateFromNode",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.bindings[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,f=!1,s=void 0;try{for(var c,d=u[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){(0,c.value)()}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}if(t.text)return void(e.textContent=t.text);for(var h in t.attributes){var p=t.attributes[h];null===p?e.removeAttribute(h):e.setAttribute(h,p)}for(var v=0;v<t.children.length;++v)this._revertTemplateFromNode(e.childNodes[v],t.children[v])}}],[{key:"bind",value:function(e,t){return{to:function(n,r){return new ee({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r})},if:function(n,r,o){return new te({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:o})}}}},{key:"extend",value:function(e,t){e._isRendered&&Y.default.warn("template-extend-render: Attempting to extend a template which has already been rendered."),k(e,v(p(t)))}}]),e}();t.default=X,(0,V.default)(X,D.default);var Z=t.TemplateBinding=function(){function e(t){u(this,e),Object.assign(this,t)}return A(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var r=this,o=function(){return s(e,t,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){r.emitter.stopListening(r.observable,"change:"+r.attribute,o)}}}]),e}(),ee=t.TemplateToBinding=function(e){function t(){return u(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),A(t,[{key:"activateDomEventListener",value:function(e,t,n){var r=this,o=function(e,n){t&&!n.target.matches(t)||("function"==typeof r.eventNameOrFunction?r.eventNameOrFunction(n):r.observable.fire(r.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,o),function(){r.emitter.stopListening(n.node,e,o)}}}]),t}(Z),te=t.TemplateIfBinding=function(e){function t(){return u(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),A(t,[{key:"getValue",value:function(e){return!P(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),t}(Z)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e[w]&&e[w][t]?e[w][t].emitter:null}function a(e,t){e[O]||(e[O]=t||(0,_.default)())}function u(e){return e[O]}function l(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function f(){return{callbacks:[],childEvents:[]}}function s(e,t){var n=l(e);if(!n[t]){for(var r=t,o=null,i=[];""!==r&&!n[r];)n[r]=f(),i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){var a=!0,u=!1,s=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){c.value.callbacks=n[r].callbacks.slice()}}catch(e){u=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(u)throw s}}n[r].childEvents.push(o)}}}function c(e,t){var n=l(e)[t];if(!n)return[];for(var r=[n.callbacks],o=0;o<n.childEvents.length;o++){var i=c(e,n.childEvents[o]);r=r.concat(i)}return r}function d(e,t){var n=void 0;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?d(e,t.substr(0,t.lastIndexOf(":"))):null}function h(e,t,n){var r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=p(u.value,2),s=f[0],c=f[1];c?"function"==typeof c&&(c=c(t.name)):c=t.name;var d=new y.default(t.source,c);d.path=[].concat(o(t.path)),s.fire.apply(s,[d].concat(o(n)))}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */
t._getEmitterListenedTo=i,t._setEmitterId=a,t._getEmitterId=u;var v=n(395),y=r(v),b=n(66),_=r(b),m=n(496),g=r(m),w=Symbol("listeningTo"),O=Symbol("emitterId"),k={on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e);var r=c(this,e),o=g.default.get(n.priority);t={callback:t,context:n.context||this,priority:o};var i=!0,a=!1,u=void 0;try{for(var l,f=r[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){for(var d=l.value,h=!1,p=0;p<d.length;p++)if(d[p].priority<o){d.splice(p,0,t),h=!0;break}h||d.push(t)}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}},once:function(e,t,n){var r=function(e){e.off(),t.apply(this,arguments)};this.on(e,r,n)},off:function(e,t,n){var r=c(this,e),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)for(var f=u.value,s=0;s<f.length;s++)f[s].callback==t&&(n&&n!=f[s].context||(f.splice(s,1),s--))}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}},listenTo:function(e,t,n,r){var o=void 0,i=void 0,l=void 0,f=void 0;this[w]||(this[w]={}),o=this[w],u(e)||a(e),i=u(e),(l=o[i])||(l=o[i]={emitter:e,callbacks:{}}),(f=l.callbacks[t])||(f=l.callbacks[t]=[]),f.push(n),e.on(t,n,r)},stopListening:function(e,t,n){var r=this[w],o=e&&u(e),i=r&&o&&r[o],a=i&&t&&i.callbacks[t];if(!(!r||e&&!i||t&&!a))if(n)e.off(t,n);else if(a){for(;n=a.pop();)e.off(t,n);delete i.callbacks[t]}else if(i){for(t in i.callbacks)this.stopListening(e,t);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[w]}},fire:function(e){var t=e instanceof y.default?e:new y.default(this,e),n=t.name,r=d(this,n);t.path.push(this);for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r){var u=[t].concat(i);r=Array.from(r);for(var l=0;l<r.length&&(r[l].callback.apply(r[l].context,u),t.off.called&&(delete t.off.called,this.off(n,r[l].callback,r[l].context)),!t.stop.called);l++);}if(this._delegations){var f=this._delegations.get(n),s=this._delegations.get("*");f&&h(f,t,i),s&&h(s,t,i)}},delegate:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return{to:function(t,r){e._delegations||(e._delegations=new Map);var o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value,s=e._delegations.get(f);s?s.set(t,r):e._delegations.set(f,new Map([[t,r]]))}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}},stopDelegating:function(e,t){if(this._delegations)if(e)if(t){var n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("function"!=typeof e)throw new TypeError(f);return t=s(void 0===t?e.length-1:(0,l.default)(t),0),function(){for(var n=arguments,r=-1,o=s(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var u=Array(t+1);for(r=-1;++r<t;)u[r]=n[r];return u[t]=i,(0,a.default)(e,this,u)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(189),a=r(i),u=n(15),l=r(u),f="Expected a function",s=Math.max;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=n(116),f=r(l),s=n(6),c=r(s),d=n(77),h=r(d),p=n(31),v=r(p),y=n(76),b=r(y),_=n(4),m=r(_),g=n(41),w=r(g),O=function(){function e(t){o(this,e),this.locale=t,this.t=t&&t.t,this.set("ready",!1),this._viewCollections=new b.default,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,n){n.locale=t})}return i(e,[{key:"createCollection",value:function(){var e=new f.default;return this._viewCollections.add(e),e}},{key:"addChildren",value:function(e){(0,w.default)(e)||(e=[e]);var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._unboundChildren.add(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"init",value:function(){var e=this;if(this.ready)throw new u.default("ui-view-init-reinit: This View has already been initialized.");return Promise.resolve().then(function(){return Promise.all(e._viewCollections.map(function(e){return e.init()}))}).then(function(){e.ready=!0})}},{key:"destroy",value:function(){this.stopListening();var e=this._viewCollections.map(function(e){return e.destroy()});return this._unboundChildren.clear(),this._viewCollections.clear(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null,Promise.all(e)}},{key:"_addTemplateChildren",value:function(){var t=this;!function n(r){if(r.children){var o=!0,i=!1,a=void 0;try{for(var u,l=r.children[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f instanceof e?t.addChildren(f):n(f)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}(this.template)}},{key:"element",get:function(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null},set:function(e){this._element=e}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=c.default.bind(this,this)}}]),e}();t.default=O,(0,m.default)(O,h.default),(0,m.default)(O,v.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"function"==typeof e?e:null==e?c.default:"object"==(void 0===e?"undefined":i(e))?(0,h.default)(e)?(0,f.default)(e[0],e[1]):(0,u.default)(e):(0,v.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(417),u=r(a),l=n(418),f=r(l),s=n(223),c=r(s),d=n(11),h=r(d),p=n(488),v=r(p);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Array.isArray;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){t.isEnabled=!1}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(31),l=r(u),f=n(4),s=r(f),c=function(){function e(t){var n=this;o(this,e),this.editor=t,this.set("isEnabled",!0),this._checkEnabled&&this.on("refreshState",function(e,t){t.isEnabled=n._checkEnabled()})}return a(e,[{key:"destroy",value:function(){this.stopListening()}},{key:"refreshState",value:function(){var e={isEnabled:!0};this.fire("refreshState",e),this.isEnabled=e.isEnabled}},{key:"_execute",value:function(e){this.isEnabled&&this._doExecute(e)}},{key:"_disable",value:function(){this.on("refreshState",i),this.refreshState()}},{key:"_enable",value:function(){this.off("refreshState",i),this.refreshState()}},{key:"_doExecute",value:function(){}}]),e}();t.default=c,(0,s.default)(c,l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,l.default)(e)&&(0,a.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(93),a=r(i),u=n(43),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){var t=void 0===e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.default)(e),n=t%1;return t===t?n?t-n:t:0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(490),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(f.prototype[e])throw new l.default("model-batch-register-taken: This batch method name is already taken.",{name:e});f.prototype[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
t.register=i;var u=n(0),l=r(u),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";o(this,e),this.document=t,this.deltas=[],this.type=n}return a(e,[{key:"addDelta",value:function(e){return e.batch=this,this.deltas.push(e),e}},{key:"getOperations",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this.deltas[Symbol.iterator]();case 5:if(t=(i=o.next()).done){e.next=11;break}return a=i.value,e.delegateYield(a.operations,"t0",8);case 8:t=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),n=!0,r=e.t1;case 17:e.prev=17,e.prev=18,!t&&o.return&&o.return();case 20:if(e.prev=20,!n){e.next=23;break}throw r;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}},e,this,[[3,13,17,25],[18,,20,24]])})},{key:"baseVersion",get:function(){return this.deltas.length>0?this.deltas[0].baseVersion:null}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=n(307),f=r(l),s=new Map,c=function(){function e(){o(this,e)}return i(e,null,[{key:"fromJSON",value:function(e,t){if(!s.has(e.__className))throw new u.default("delta-fromjson-no-deserializer: This delta has no defined deserializer",{name:e.__className});var n=s.get(e.__className),r=new n,o=!0,i=!1,a=void 0;try{for(var l,c=e.operations[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var d=l.value;r.addOperation(f.default.fromJSON(d,t))}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}return r}},{key:"register",value:function(e){s.set(e.className,e)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){var t=e?e.length:0;return t?e[t-1]:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(92),u=r(a),l=n(17),f=r(l),s=function(){function e(){o(this,e),this.batch=null,this.operations=[]}return i(e,[{key:"addOperation",value:function(e){return e.delta=this,this.operations.push(e),e}},{key:"clone",value:function(){var e=new this.constructor,t=!0,n=!1,r=void 0;try{for(var o,i=this.operations[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.addOperation(a.clone())}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e}},{key:"getReversed",value:function(){var e=new this._reverseDeltaClass,t=!0,n=!1,r=void 0;try{for(var o,i=this.operations[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.addOperation(a.getReversed())}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e.operations.reverse();for(var u=0;u<e.operations.length;u++)e.operations[u].baseVersion=this.operations[this.operations.length-1].baseVersion+u+1;return e}},{key:"toJSON",value:function(){var e=(0,u.default)(this);return e.__className=this.constructor.className,delete e.batch,e}},{key:"baseVersion",get:function(){return this.operations.length>0?this.operations[0].baseVersion:null},set:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.operations[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.baseVersion=e++}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"_reverseDeltaClass",get:function(){return e}}],[{key:"className",get:function(){return"engine.model.delta.Delta"}},{key:"_priority",get:function(){return 0}}]),e}();t.default=s,f.default.register(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,r=void 0;for(e.clear();null!==(r=n.exec(t));)e.set(r[1],r[2].trim())}function f(e,t){var n=t.split(/\s+/);e.clear(),n.forEach(function(t){return e.add(t)})}function s(e){return"string"==typeof e?[new y.default(e)]:((0,g.default)(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new y.default(e):e}))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(72),p=r(h),v=n(29),y=r(v),b=n(268),_=r(b),m=n(41),g=r(m),w=n(95),O=r(w),k=n(163),P=r(k),j=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(o.name=e,(0,O.default)(n)?o._attrs=(0,_.default)(n):o._attrs=new Map(n),o._children=[],r&&o.insertChildren(0,r),o._classes=new Set,o._attrs.has("class")){var u=o._attrs.get("class");f(o._classes,u),o._attrs.delete("class")}return o._styles=new Map,o._attrs.has("style")&&(l(o._styles,o._attrs.get("style")),o._attrs.delete("style")),o._customProperties=new Map,o}return u(t,e),d(t,[{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?"element"==e&&t==this.name:"element"==e||e==this.name}},{key:"clone",value:function(e){var t=[];if(e){var n=!0,r=!1,o=void 0;try{for(var i,a=this.getChildren()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t.push(u.clone(e))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}var l=new this.constructor(this.name,this._attrs,t);return l._classes=new Set(this._classes),l._styles=new Map(this._styles),l._customProperties=new Map(this._customProperties),l.getFillerOffset=this.getFillerOffset,l}},{key:"appendChildren",value:function(e){return this.insertChildren(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._classes.size>0)){e.next=3;break}return e.next=3,"class";case 3:if(!(this._styles.size>0)){e.next=6;break}return e.next=6,"style";case 6:t=!0,n=!1,r=void 0,e.prev=9,o=this._attrs.keys()[Symbol.iterator]();case 11:if(t=(i=o.next()).done){e.next=18;break}return a=i.value,e.next=15,a;case 15:t=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),n=!0,r=e.t0;case 24:e.prev=24,e.prev=25,!t&&o.return&&o.return();case 27:if(e.prev=27,!n){e.next=30;break}throw r;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,this,[[9,20,24,32],[25,,27,31]])})},{key:"getAttributes",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(!(this._classes.size>0)){e.next=4;break}return e.next=4,["class",this.getAttribute("class")];case 4:if(!(this._styles.size>0)){e.next=7;break}return e.next=7,["style",this.getAttribute("style")];case 7:case"end":return e.stop()}},e,this)})},{key:"getAttribute",value:function(e){if("class"!=e){if("style"!=e)return this._attrs.get(e);if(this._styles.size>0){var t="",n=!0,r=!1,i=void 0;try{for(var a,u=this._styles[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=c(a.value,2);t+=l[0]+":"+l[1]+";"}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return t}}else if(this._classes.size>0)return[].concat(o(this._classes)).join(" ")}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?this._styles.size>0:this._attrs.has(e)}},{key:"setAttribute",value:function(e,t){this._fireChange("attributes",this),"class"==e?f(this._classes,t):"style"==e?l(this._styles,t):this._attrs.set(e,t)}},{key:"insertChildren",value:function(e,t){this._fireChange("children",this);var n=0;t=s(t);var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.parent=this,this._children.splice(e,0,l),e++,n++}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}},{key:"removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"isSimilar",value:function(e){if(!(e instanceof t))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var n=!0,r=!1,o=void 0;try{for(var i,a=this._attrs[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=c(i.value,2),l=u[0],f=u[1];if(!e._attrs.has(l)||e._attrs.get(l)!==f)return!1}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=!0,d=!1,h=void 0;try{for(var p,v=this._classes[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var y=p.value;if(!e._classes.has(y))return!1}}catch(e){d=!0,h=e}finally{try{!s&&v.return&&v.return()}finally{if(d)throw h}}var b=!0,_=!1,m=void 0;try{for(var g,w=this._styles[Symbol.iterator]();!(b=(g=w.next()).done);b=!0){var O=c(g.value,2),k=O[0],f=O[1];if(!e._styles.has(k)||e._styles.get(k)!==f)return!1}}catch(e){_=!0,m=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw m}}return!0}},{key:"addClass",value:function(){var e=this;this._fireChange("attributes",this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e._classes.add(t)})}},{key:"removeClass",value:function(){var e=this;this._fireChange("attributes",this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e._classes.delete(t)})}},{key:"hasClass",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(!this._classes.has(l))return!1}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"setStyle",value:function(e,t){if(this._fireChange("attributes",this),(0,O.default)(e)){var n=Object.keys(e),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this._styles.set(l,e[l])}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}else this._styles.set(e,t)}},{key:"getStyle",value:function(e){return this._styles.get(e)}},{key:"getStyleNames",value:function(){return this._styles.keys()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(!this._styles.has(l))return!1}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return!0}},{key:"removeStyle",value:function(){var e=this;this._fireChange("attributes",this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e._styles.delete(t)})}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=new(Function.prototype.bind.apply(P.default,[null].concat(t))),o=this.parent;o;){if(r.match(o))return o;o=o.parent}return null}},{key:"setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"getCustomProperties",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),t}(p.default);t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=void 0;if("string"==typeof e){if(!(t=h[e.toLowerCase()]))throw new s.default("keyboard-unknown-key: Unknown key name.",{key:e})}else t=e.keyCode+(e.altKey?h.alt:0)+(e.ctrlKey?h.ctrl:0)+(e.shiftKey?h.shift:0);return t}function i(e){return"string"==typeof e&&(e=l(e)),e.map(function(e){return"string"==typeof e?o(e):e}).reduce(function(e,t){return t+e},0)}function a(e){var t=l(e);return d.default.mac&&"ctrl"==t[0].toLowerCase()?""+(t[1]||""):e}function u(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65;t<=90;t++){e[String.fromCharCode(t).toLowerCase()]=t}for(var n=48;n<=57;n++)e[n-48]=n;for(var r=112;r<=123;r++)e["f"+(r-111)]=r;return e}function l(e){return e.split(/\s*\+\s*/)}Object.defineProperty(t,"__esModule",{value:!0}),t.keyCodes=void 0,t.getCode=o,t.parseKeystroke=i,t.getEnvKeystrokeText=a;var f=n(0),s=r(f),c=n(394),d=r(c),h=t.keyCodes=u()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i){var u=-1,f=e.length;for(n||(n=l.default),i||(i=[]);++u<f;){var s=e[u];t>0&&n(s)?t>1?o(s,t-1,n,r,i):(0,a.default)(i,s):r||(i[i.length]=s)}return i}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=r(i),u=n(451),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(56),s=r(f),c=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.data=e||"",r}return a(t,e),u(t,[{key:"is",value:function(e){return"text"==e}},{key:"clone",value:function(){return new t(this.data,this.getAttributes())}},{key:"toJSON",value:function(){var e=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"offsetSize",get:function(){return this.data.length}}],[{key:"fromJSON",value:function(e){return new t(e.data,e.attributes)}}]),t}(s.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=f(t);var n=t.reduce(function(e,t){return e+t.offsetSize},0),r=e.parent;c(e);var o=e.index;return r.insertChildren(o,t),s(r,o+t.length),s(r,o),new g.default(e,e.getShiftedBy(n))}function i(e){if(!e.isFlat)throw new M.default("model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.");var t=e.start.parent;c(e.start),c(e.end);var n=t.removeChildren(e.start.index,e.end.index-e.start.index);return s(t,e.start.index),n}function a(e,t){if(!e.isFlat)throw new M.default("model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.");var n=this.remove(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),this.insert(t,n)}function u(e,t,n){c(e.start),c(e.end);var r=!0,o=!1,i=void 0;try{for(var a,u=e.getItems()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f=l.is("textProxy")?l.textNode:l;null!==n?f.setAttribute(t,n):f.removeAttribute(t),s(f.parent,f.index)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}s(e.end.parent,e.end.index)}function l(e,t){this.setAttribute(e,t,null)}function f(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new y.default(e[n]));else if(e[n]instanceof _.default)t.push(new y.default(e[n].data,e[n].getAttributes()));else if(e[n]instanceof O.default||e[n]instanceof P.default){var r=!0,o=!1,i=void 0;try{for(var a,u=e[n][Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t.push(l)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}else e[n]instanceof p.default&&t.push(e[n]);for(var f=1;f<t.length;f++){var s=t[f],c=t[f-1];s instanceof y.default&&c instanceof y.default&&d(s,c)&&(t.splice(f-1,2,new y.default(c.data+s.data,c.getAttributes())),f--)}return t}function s(e,t){var n=e.getChild(t-1),r=e.getChild(t);if(n&&r&&n.is("text")&&r.is("text")&&d(n,r)){var o=new y.default(n.data+r.data,n.getAttributes());e.removeChildren(t-1,2),e.insertChildren(t-1,o)}}function c(e){var t=e.textNode,n=e.parent;if(t){var r=e.offset-t.startOffset,o=t.index;n.removeChildren(o,1);var i=new y.default(t.data.substr(0,r),t.getAttributes()),a=new y.default(t.data.substr(r),t.getAttributes());n.insertChildren(o,[i,a])}}function d(e,t){var n=e.getAttributes(),r=t.getAttributes(),o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;if(f[1]!==t.getAttribute(f[0]))return!1;r.next()}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return r.next().done}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=o,t.remove=i,t.move=a,t.setAttribute=u,t.removeAttribute=l,t.normalizeNodes=f;var h=n(56),p=r(h),v=n(23),y=r(v),b=n(70),_=r(b),m=n(3),g=r(m),w=n(47),O=r(w),k=n(67),P=r(k),j=n(0),M=r(j),x={insert:o,remove:i,move:a,setAttribute:u,removeAttribute:l,normalizeNodes:f};/**
    * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
    * For licensing, see LICENSE.md.
    */
t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(74),u=r(a),l=n(49),f=r(l),s=n(0),c=r(s),d=n(71),h=r(d),p=function(){function e(t,n){o(this,e),this.parent=t,this.offset=n}return i(e,[{key:"getShiftedBy",value:function(t){var n=e.createFromPosition(this),r=n.offset+t;return n.offset=r<0?0:r,n}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new u.default(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeNode:!0})}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.isEqual(e))return"same";if(this.parent===e.parent)return this.offset-e.offset<0?"before":"after";var t=this.getAncestors(),n=e.getAncestors(),r=(0,f.default)(t,n),o=void 0;switch(r){case 0:return"different";case"prefix":o=t.length-1;break;case"extension":o=n.length-1;break;default:o=r-1}var i=t[o],a=t[o+1],u=n[o+1];if(i===this.parent){return this.offset-u.index<=0?"before":"after"}if(i===e.parent){return a.index-e.offset<0?"before":"after"}return a.index-u.index<0?"before":"after"}},{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof h.default);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"createAt",value:function(t,n){if(t instanceof e)return this.createFromPosition(t);var r=t;if("end"==n)n=r.is("text")?r.data.length:r.childCount;else{if("before"==n)return this.createBefore(r);if("after"==n)return this.createAfter(r);n||(n=0)}return new e(r,n)}},{key:"createAfter",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new c.default("view-position-after-root: You can not make position after root.",{root:t});return new e(t.parent,t.index+1)}},{key:"createBefore",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new c.default("view-position-before-root: You can not make position before root.",{root:t});return new e(t.parent,t.index)}},{key:"createFromPosition",value:function(e){return new this(e.parent,e.offset)}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=n(369),p=r(h),v=n(21),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.set("label"),n.set("keystroke"),n.set("tooltip"),n.set("type","button"),n.set("isOn",!1),n.set("isEnabled",!0),n.set("withText",!1),n.set("icon"),n.set("tabindex",-1),n.bind("_tooltipString").to(n,"tooltip",n,"label",n,"keystroke",n._getTooltipString.bind(n));var r=n.bindTemplate;return n.template=new d.default({tag:"button",attributes:{class:["ck-button",r.if("_tooltipString","ck-tooltip_s"),r.to("isEnabled",function(e){return e?"ck-enabled":"ck-disabled"}),r.to("isOn",function(e){return e?"ck-on":"ck-off"}),r.if("withText","ck-button_with-text")],type:r.to("type",function(e){return e?e:"button"}),"data-ck-tooltip":[r.to("_tooltipString")],tabindex:r.to("tabindex")},children:[{tag:"span",attributes:{class:["ck-button__label"]},children:[{text:r.to("label")}]}],on:{mousedown:r.to(function(e){e.preventDefault()}),click:r.to(function(e){n.isEnabled?n.fire("execute"):e.preventDefault()})}}),n}return a(t,e),u(t,[{key:"init",value:function(){var e=this,n=Promise.resolve();if(this.icon&&!this.iconView){var r=this.iconView=new p.default;r.bind("content").to(this,"icon"),this.element.insertBefore(r.element,this.element.firstChild),n=n.then(function(){return e.addChildren(r)})}return n.then(function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",e).call(e)})}},{key:"focus",value:function(){this.element.focus()}},{key:"_getTooltipString",value:function(e,t,n){if(e){if("string"==typeof e)return e;if(n&&(n=(0,v.getEnvKeystrokeText)(n)),e instanceof Function)return e(t,n);if(e===!0)return t+(n?" ("+n+")":"")}return!1}}]),t}(s.default);t.default=y},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),f=r(l),s=n(1),c=r(s),d=n(3),h=r(d),p=n(0),v=r(p),y=n(49),b=r(y),_=n(24),m=r(_),g=function(e){function t(e,n,r,a){o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return u.sourcePosition=c.default.createFromPosition(e),u.howMany=n,u.targetPosition=c.default.createFromPosition(r),u.isSticky=!1,u}return a(t,e),u(t,[{key:"clone",value:function(){var e=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return e.isSticky=this.isSticky,e}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),t=new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1);return t.isSticky=this.isSticky,t}},{key:"_execute",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(!e||!t)throw new v.default("move-operation-position-invalid: Source position or target position is invalid.");if(n+this.howMany>e.maxOffset)throw new v.default("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.");if(e===t&&n<r&&r<n+this.howMany)throw new v.default("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.");if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==(0,b.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=n&&this.targetPosition.path[o]<n+this.howMany)throw new v.default("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.")}var i=m.default.move(h.default.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:i}}},{key:"type",get:function(){return"move"}}],[{key:"fromJSON",value:function(e,t){var n=c.default.fromJSON(e.sourcePosition,t),r=c.default.fromJSON(e.targetPosition,t),o=new this(n,e.howMany,r,e.baseVersion);return e.isSticky&&(o.isSticky=!0),o}},{key:"className",get:function(){return"engine.model.operation.MoveOperation"}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(72),f=r(l),s=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._data=e,n}return a(t,e),u(t,[{key:"clone",value:function(){return new t(this.data)}},{key:"is",value:function(e){return"text"==e}},{key:"isSimilar",value:function(e){return e instanceof t&&(this===e||this.data===e.data)}},{key:"data",get:function(){return this._data},set:function(e){this._fireChange("text",this),this._data=e}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(424),u=o(a),l={function:!0,object:!0},f=l[i(t)]&&t&&!t.nodeType?t:void 0,s=l[i(e)]&&e&&!e.nodeType?e:void 0,c=(0,u.default)(f&&s&&"object"==(void 0===r?"undefined":i(r))&&r),d=(0,u.default)(l["undefined"==typeof self?"undefined":i(self)]&&self),h=(0,u.default)(l["undefined"==typeof window?"undefined":i(window)]&&window),p=(0,u.default)(l[i(void 0)]&&void 0),v=c||h!==(p&&p.window)&&h||d||p||Function("return this")();t.default=v}).call(t,n(148)(e),n(272))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){w in e||(Object.defineProperty(e,w,{value:new Map}),Object.defineProperty(e,O,{value:new Map}),Object.defineProperty(e,k,{value:new Map}))}function i(){var e=this,t=u.apply(void 0,arguments),n=Array.from(this._bindings.keys()),r=n.length;if(!t.callback&&t.to.length>1)throw new y.default("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(r>1&&t.callback)throw new y.default("observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.");t.to.forEach(function(t){if(t.attrs.length&&t.attrs.length!==r)throw new y.default("observable-bind-to-attrs-length: The number of attributes must match.");t.attrs.length||(t.attrs=e._bindAttrs)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),c(this._observable,this._to),f(this),this._bindAttrs.forEach(function(t){s(e._observable,t)})}function a(e){return e.every(function(e){return"string"==typeof e})}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new y.default("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");var r={to:[]},o=void 0;return"function"==typeof t[t.length-1]&&(r.callback=t.pop()),t.forEach(function(e){if("string"==typeof e)o.attrs.push(e);else{if("object"!=(void 0===e?"undefined":d(e)))throw new y.default("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");o={observable:e,attrs:[]},r.to.push(o)}}),r}function l(e,t,n,r){var o=e[O],i=o.get(n),a=i||{};a[r]||(a[r]=new Set),a[r].add(t),i||o.set(n,a)}function f(e){var t=void 0;e._bindings.forEach(function(n,r){e._to.forEach(function(o){t=o.attrs[n.callback?0:e._bindAttrs.indexOf(r)],n.to.push([o.observable,t]),l(e._observable,n,o.observable,t)})})}function s(e,t){var n=e[k],r=n.get(t),o=void 0;r.callback?o=r.callback.apply(e,r.to.map(function(e){return e[0][e[1]]})):(o=r.to[0],o=o[0][o[1]]),e.hasOwnProperty(t)?e[t]=o:e.set(t,o)}function c(e,t){t.forEach(function(t){var n=e[O],r=void 0;n.get(t.observable)||e.listenTo(t.observable,"change",function(o,i){(r=n.get(t.observable)[i])&&r.forEach(function(t){s(e,t.attr)})})})}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(7),p=r(h),v=n(0),y=r(v),b=n(54),_=r(b),m=n(14),g=r(m),w=Symbol("attributes"),O=Symbol("boundObservables"),k=Symbol("boundAttributes"),P={set:function(e,t){var n=this;if((0,g.default)(e))return void Object.keys(e).forEach(function(t){n.set(t,e[t])},this);o(this);var r=this[w];if(e in this&&!r.has(e))throw new y.default("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return r.get(e)},set:function(t){var n=r.get(e);n===t&&r.has(e)||(r.set(e,t),this.fire("change:"+e,e,t,n))}}),this[e]=t},bind:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length||!a(t))throw new y.default("observable-bind-wrong-attrs: All attributes must be strings.");if(new Set(t).size!==t.length)throw new y.default("observable-bind-duplicate-attrs: Attributes must be unique.");o(this);var r=this[k];t.forEach(function(e){if(r.has(e))throw new y.default("observable-bind-rebind: Cannot bind the same attribute more that once.")});var u=new Map;return t.forEach(function(e){var t={attr:e,to:[]};r.set(e,t),u.set(e,t)}),{to:i,_observable:this,_bindAttrs:t,_to:[],_bindings:u}},unbind:function(){var e=this;if(w in this){for(var t=this[k],n=this[O],r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];if(o.length){if(!a(o))throw new y.default("observable-unbind-wrong-attrs: Attributes must be strings.");o.forEach(function(r){var o=t.get(r),i=void 0,a=void 0,u=void 0,l=void 0;o.to.forEach(function(t){i=t[0],a=t[1],u=n.get(i),l=u[a],l.delete(o),l.size||delete u[a],Object.keys(u).length||(n.delete(i),e.stopListening(i,"change"))}),t.delete(r)})}else n.forEach(function(t,n){e.stopListening(n,"change")}),n.clear(),t.clear()}}};t.default=P,(0,_.default)(P,p.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(92),u=r(a),l=function(){function e(t){o(this,e),this.baseVersion=t}return i(e,[{key:"toJSON",value:function(){var e=(0,u.default)(this,!0);return e.__className=this.constructor.className,delete e.delta,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.Operation"}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r,o){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:o}}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(23),l=r(u),f=n(70),s=r(f),c=n(5),d=r(c),h=n(1),p=r(h),v=n(0),y=r(v),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),!t.boundaries&&!t.startPosition)throw new y.default("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new y.default("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:n});this.direction=n,this.boundaries=t.boundaries||null,t.startPosition?this.position=p.default.createFromPosition(t.startPosition):this.position=p.default.createFromPosition(this.boundaries["backward"==this.direction?"end":"start"]),this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return a(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t=void 0,n=void 0,r=void 0,o=void 0;do{r=this.position,o=this._visitedParent;var i=this.next();t=i.done,n=i.value}while(!t&&e(n));t||(this.position=r,this._visitedParent=o)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=p.default.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var r=t.textNode?t.textNode:t.nodeAfter;if(r instanceof d.default)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=r),this.position=t,i("elementStart",r,e,t,1);if(r instanceof l.default){var o=void 0,a=void 0;if(this.singleCharacters)o=1;else{var u=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<u&&(u=this.boundaries.end.offset),o=u-t.offset}a=t.offset-r.startOffset;var f=new s.default(r,a,o);return t.offset+=o,this.position=t,i("text",f,e,t,o)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():i("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=p.default.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var r=t.textNode?t.textNode:t.nodeBefore;if(r instanceof d.default)return t.offset--,this.shallow?(this.position=t,i("elementStart",r,e,t,1)):(t.path.push(r.maxOffset),this.position=t,this._visitedParent=r,this.ignoreElementEnd?this._previous():i("elementEnd",r,e,t));if(r instanceof l.default){var o=void 0,a=void 0;if(this.singleCharacters)o=1;else{var u=r.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),o=t.offset-u}a=t.offset-r.startOffset;var f=new s.default(r,a-o,o);return t.offset-=o,this.position=t,i("text",f,e,t,o)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,i("elementStart",n,e,t,1)}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(25),l=r(u),f=n(74),s=r(f),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,e),this.start=l.default.createFromPosition(t),this.end=n?l.default.createFromPosition(n):l.default.createFromPosition(t)}return a(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new s.default({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(i,{direction:"backward"}),n=this.end.getLastMatchingPosition(i);return t.parent.is("text")&&t.isAtStart&&(t=l.default.createBefore(t.parent)),n.parent.is("text")&&n.isAtEnd&&(n=l.default.createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(i),n=this.end.getLastMatchingPosition(i,{direction:"backward"}),r=t.nodeAfter,o=n.nodeBefore;return r&&r.is("text")&&(t=new l.default(r,0)),o&&o.is("text")&&(n=new l.default(o,o.data.length)),new e(t,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){return this.containsPosition(e.start)&&this.containsPosition(e.end)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(e.createFromRange(this)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new s.default(e)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.boundaries=this,l.ignoreElementEnd=!0,t=new s.default(l),n=!0,r=!1,o=void 0,e.prev=6,i=t[Symbol.iterator]();case 8:if(n=(a=i.next()).done){e.next=15;break}return u=a.value,e.next=12,u.item;case 12:n=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=!0,o=e.t0;case 21:e.prev=21,e.prev=22,!n&&i.return&&i.return();case 24:if(e.prev=24,!r){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}},e,this,[[6,17,21,29],[22,,24,28]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.boundaries=this,t=new s.default(l),e.next=4,t.position;case 4:n=!0,r=!1,o=void 0,e.prev=7,i=t[Symbol.iterator]();case 9:if(n=(a=i.next()).done){e.next=16;break}return u=a.value,e.next=13,u.nextPosition;case 13:n=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),r=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!n&&i.return&&i.return();case 25:if(e.prev=25,!r){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"createFromParentsAndOffsets",value:function(e,t,n,r){return new this(new l.default(e,t),new l.default(n,r))}},{key:"createFromRange",value:function(e){return new this(e.start,e.end)}},{key:"createFromPositionAndShift",value:function(e,t){var n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}},{key:"createIn",value:function(e){return this.createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"createOn",value:function(e){return this.createFromPositionAndShift(l.default.createBefore(e),1)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}Object.defineProperty(t,"__esModule",{value:!0});var o=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(32),s=r(f),c=n(1),d=r(c),h=n(67),p=r(h),v=n(38),y=r(v),b=n(24),_=r(b),m=n(23),g=r(m),w=n(5),O=r(w),k=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return o.position=d.default.createFromPosition(e),o.nodes=new p.default((0,b.normalizeNodes)(n)),o}return u(t,e),l(t,[{key:"clone",value:function(){var e=new p.default([].concat(o(this.nodes)).map(function(e){return e.clone(!0)}));return new t(this.position,e,this.baseVersion)}},{key:"getReversed",value:function(){return new y.default(this.position,this.nodes.maxOffset,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.nodes;return this.nodes=new p.default([].concat(o(e)).map(function(e){return e.clone(!0)})),{range:_.default.insert(this.position,e)}}},{key:"type",get:function(){return"insert"}}],[{key:"fromJSON",value:function(e,n){var r=[],o=!0,i=!1,a=void 0;try{for(var u,l=e.nodes[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.name?r.push(O.default.fromJSON(f)):r.push(g.default.fromJSON(f))}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return new t(d.default.fromJSON(e.position,n),r,e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.InsertOperation"}}]),t}(s.default);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(28),s=r(f),c=n(1),d=r(c),h=n(5),p=r(h),v=n(107),y=r(v),b=function(e){function t(e,n,r){o(this,t);var a=e.root.document.graveyard,u=new d.default(a,[a.maxOffset,0]);return i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,u,r))}return a(t,e),u(t,[{key:"getReversed",value:function(){return new y.default(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}},{key:"clone",value:function(){var e=new t(this.sourcePosition,this.howMany,this.baseVersion);return e.targetPosition=d.default.createFromPosition(this.targetPosition),e}},{key:"_execute",value:function(){if(this._needsHolderElement){var e=this.targetPosition.root,n=new p.default("$graveyardHolder");e.insertChildren(this._holderElementOffset,n),this.sourcePosition.root==e&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_execute",this).call(this)}},{key:"type",get:function(){return"remove"}},{key:"_holderElementOffset",get:function(){return this.targetPosition.path[0]},set:function(e){this.targetPosition.path[0]=e}},{key:"_needsHolderElement",get:function(){if(this.delta){var e=!0,n=!1,r=void 0;try{for(var o,i=this.delta.operations[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(a instanceof t){if(a==this)return!0;if(a._holderElementOffset==this._holderElementOffset)return!1}}}catch(e){n=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}return!0}}],[{key:"fromJSON",value:function(e,n){var r=d.default.fromJSON(e.sourcePosition,n),o=new t(r,e.howMany,e.baseVersion);return o.targetPosition=d.default.fromJSON(e.targetPosition,n),o}},{key:"className",get:function(){return"engine.model.operation.RemoveOperation"}}]),t}(s.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return 0===this.childCount?0:null}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(20),c=r(s),d=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a.getFillerOffset=u,a}return a(t,e),l(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?"containerElement"==e&&n==this.name||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"containerElement"==e||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){function n(){var n=e.getChild(0),r=n.getAttribute("alt");return r?r+" "+t:t}return e.setCustomProperty(s,!0),(0,u.widgetize)(e,{label:n})}function i(e){return!!e.getCustomProperty(s)&&(0,u.isWidget)(e)}function a(e){return e instanceof f.default&&"image"==e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.toImageWidget=o,t.isImageWidget=i,t.isImage=a;var u=n(113),l=n(5),f=r(l),s=Symbol("isImage")},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return!(!e||!e[Symbol.iterator])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=-1,o=l.default,i=e.length,u=!0,f=[],c=f;if(n)u=!1,o=s.default;else if(i>=b){var h=t?null:(0,p.default)(e);if(h)return(0,y.default)(h);u=!1,o=d.default,c=new a.default}else c=t?[]:f;e:for(;++r<i;){var v=e[r],_=t?t(v):v;if(v=n||0!==v?v:0,u&&_===_){for(var m=c.length;m--;)if(c[m]===_)continue e;t&&c.push(_),f.push(v)}else o(c,_,n)||(c!==f&&c.push(_),f.push(v))}return f}Object.defineProperty(t,"__esModule",{value:!0});var i=n(79),a=r(i),u=n(120),l=r(u),f=n(121),s=r(f),c=n(131),d=r(c),h=n(435),p=r(h),v=n(91),y=r(v),b=200;t.default=o},function(e,t,n){"use strict";function r(e){return!!e&&"object"==(void 0===e?"undefined":o(e))}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"symbol"==(void 0===e?"undefined":i(e))||(0,u.default)(e)&&s.call(e)==l}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(43),u=r(a),l="[object Symbol]",f=Object.prototype,s=f.toString;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return new b}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
t.default=i;var u=n(97),l=n(153),f=n(110),s=r(f),c=n(39),d=r(c),h=n(166),p=r(h),v=n(0),y=r(v),b=function(){function e(){o(this,e),this._dispatchers=[],this._from=null}return a(e,[{key:"for",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._dispatchers=t,this}},{key:"fromElement",value:function(e){return this._from={type:"element",name:e,priority:null},this}},{key:"fromAttribute",value:function(e){return this._from={type:"attribute",key:e,priority:null},this}},{key:"fromMarker",value:function(e){return this._from={type:"marker",name:e,priority:null},this}},{key:"withPriority",value:function(e){return this._from.priority=e,this}},{key:"toElement",value:function(e){var t=null===this._from.priority?"normal":this._from.priority,n=!0,r=!1,o=void 0;try{for(var i,a=this._dispatchers[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var f=i.value;"element"==this._from.type?(e="string"==typeof e?new d.default(e):e,f.on("insert:"+this._from.name,(0,u.insertElement)(e),{priority:t})):"attribute"==this._from.type?(e="string"==typeof e?new s.default(e):e,f.on("addAttribute:"+this._from.key,(0,u.wrapItem)(e),{priority:t}),f.on("changeAttribute:"+this._from.key,(0,u.wrapItem)(e),{priority:t}),f.on("removeAttribute:"+this._from.key,(0,u.unwrapItem)(e),{priority:t}),f.on("selectionAttribute:"+this._from.key,(0,l.convertSelectionAttribute)(e),{priority:t})):(e="string"==typeof e?new s.default(e):e,f.on("addMarker:"+this._from.name,(0,u.wrapRange)(e),{priority:t}),f.on("removeMarker:"+this._from.name,(0,u.unwrapRange)(e),{priority:t}),f.on("selectionMarker:"+this._from.name,(0,l.convertSelectionMarker)(e),{priority:t}))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"toStamp",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._dispatchers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if("marker"!=this._from.type)throw new y.default("build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.");var l=null===this._from.priority?"normal":this._from.priority;e="string"==typeof e?new p.default(e):e,a.on("addMarker:"+this._from.name,(0,u.insertUIElement)(e),{priority:l}),a.on("removeMarker:"+this._from.name,(0,u.removeUIElement)(e),{priority:l})}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"toAttribute",value:function(e,t){if("attribute"!=this._from.type)throw new y.default("build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.");var n=void 0;n=e?"string"==typeof e?t?function(){return{key:e,value:t}}:function(t){return{key:e,value:t}}:e:void 0;var r=!0,o=!1,i=void 0;try{for(var a,l=this._dispatchers[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var f=a.value,s={priority:this._from.priority||"normal"};f.on("addAttribute:"+this._from.key,(0,u.setAttribute)(n),s),f.on("changeAttribute:"+this._from.key,(0,u.setAttribute)(n),s),f.on("removeAttribute:"+this._from.key,(0,u.removeAttribute)(n),s)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){if((0,m.default)(e)){var o=!0,a=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){i(l.value,t,n,r)}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}}else{var s=Array.from(e.getAttributeKeys());s.push(t.key);var c={name:e.name||"$text",attributes:s,inside:n.context};r.schema.check(c)&&e.setAttribute(t.key,t.value)}}function a(){return new g}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
t.default=a;var l=n(163),f=r(l),s=n(5),c=r(s),d=n(1),h=r(d),p=n(24),v=r(p),y=n(0),b=r(y),_=n(41),m=r(_),g=function(){function e(){o(this,e),this._dispatchers=[],this._from=[]}return u(e,[{key:"for",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._dispatchers=t,this}},{key:"fromElement",value:function(e){return this.from({name:e})}},{key:"fromAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/.*/,n={};return n[e]=t,this.from(n)}},{key:"from",value:function(e){return e instanceof f.default||(e=new f.default(e)),this._from.push({matcher:e,consume:!1,priority:null}),this}},{key:"consuming",value:function(e){return this._from[this._from.length-1].consume=e,this}},{key:"withPriority",value:function(e){return this._from[this._from.length-1].priority=e,this}},{key:"toElement",value:function(e){function t(t){return function(n,r,o,i){var a=t.matcher.matchAll(r.input);if(a){var u=!0,l=!1,f=void 0;try{for(var s,d=a[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var p=s.value,y=e instanceof Function?e(r.input):new c.default(e),b=Array.from(y.getAttributeKeys());if(i.schema.check({name:y.name,attributes:b,inside:r.context})&&o.consume(r.input,t.consume||p.match)){r.context.push(y);var _=i.convertChildren(r.input,o,r),m=h.default.createAt(y,"end");v.default.insert(m,_),r.context.pop(),r.output=y;break}}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}}}}this._setCallback(t,"normal")}},{key:"toAttribute",value:function(e,t){function n(n){return function(r,o,a,u){var l=n.matcher.matchAll(o.input);if(l){var f=!0,s=!1,c=void 0;try{for(var d,h=l[Symbol.iterator]();!(f=(d=h.next()).done);f=!0){var p=d.value;if(a.consume(o.input,n.consume||p.match)){o.output||(o.output=u.convertChildren(o.input,a,o));var v=e instanceof Function?e(o.input):{key:e,value:t};i(o.output,v,o,u);break}}}catch(e){s=!0,c=e}finally{try{!f&&h.return&&h.return()}finally{if(s)throw c}}}}}this._setCallback(n,"low")}},{key:"toMarker",value:function(e){function t(t){return function(n,r,o){var i=t.matcher.matchAll(r.input);if(i){var a=void 0;if(a=e instanceof Function?e(r.input):new c.default("$marker",{"data-name":r.input.getAttribute("data-name")}),"$marker"!=a.name||"string"!=typeof a.getAttribute("data-name"))throw new b.default("build-view-converter-invalid-marker: Invalid model element to mark marker range.");var u=!0,l=!1,f=void 0;try{for(var s,d=i[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var h=s.value;if(o.consume(r.input,t.consume||h.match)){r.output=a;break}}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}}}}this._setCallback(t,"normal")}},{key:"_setCallback",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this._from[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=u.matcher.getElementName(),f=l?"element:"+l:"element",s=e(u),c=null===u.priority?t:u.priority,d=!0,h=!1,p=void 0;try{for(var v,y=this._dispatchers[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){v.value.on(f,s,{priority:c})}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"string"==typeof e?[new d.default(e)]:((0,p.default)(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new d.default(e):e}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(67),l=r(u),f=n(5),s=r(f),c=n(23),d=r(c),h=n(41),p=r(h),v=function(){function e(t){o(this,e),this.markers=new Map,this._children=new l.default,t&&this.insertChildren(0,t)}return a(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"==e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"appendChildren",value:function(e){this.insertChildren(this.childCount,e)}},{key:"insertChildren",value:function(e,t){t=i(t);var n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){a.value.parent=this}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}this._children.insertNodes(e,t)}},{key:"removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children.removeNodes(e,t),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){a.value.parent=null}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}},{key:"toJSON",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this._children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(a.toJSON())}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.name?n.push(s.default.fromJSON(l)):n.push(d.default.fromJSON(l))}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return new e(n)}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(77),u=r(a),l=n(4),f=r(l),s=function(){function e(t){o(this,e),this.document=t,this.isEnabled=!1}return i(e,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),e}();t.default=s,(0,f.default)(s,u.default)},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e[t];return(0,a.default)(n)?n:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(229),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if((0,u.default)(e))return!1;var n=void 0===e?"undefined":i(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,f.default)(e))||(c.test(e)||!s.test(e)||null!=t&&e in Object(t))}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(11),u=r(a),l=n(44),f=r(l),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("string"==typeof e||(0,a.default)(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=r(i),u=1/0;t.default=o},function(e,t,n){"use strict";function r(e,t){return e===t||e!==e&&t!==t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(476);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var r={error:function(e,t){console.error(e,t)},warn:function(e,t){console.warn(e,t)}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(147),l=r(u),f=n(0),s=r(f),c=function(){function e(t){i(this,e),this.parent=null,this._attrs=(0,l.default)(t)}return a(e,[{key:"clone",value:function(){return new e(this._attrs)}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},t=[],n=e.includeNode?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"remove",value:function(){this.parent.removeChildren(this.index)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"setAttributesTo",value:function(e){this._attrs=(0,l.default)(e)}},{key:"removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"clearAttributes",value:function(){this._attrs.clear()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=[].concat(o(this._attrs))),e}},{key:"index",get:function(){var e=void 0;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new s.default("model-node-not-found-in-parent: The node's parent does not contain this node.");return e}},{key:"startOffset",get:function(){var e=void 0;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new s.default("model-node-not-found-in-parent: The node's parent does not contain this node.");return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"document",get:function(){return this.root==this?null:this.root.document||null}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return!t.has(e)&&(t.add(e),e.document.schema.itemExtends(e.name,"$block")&&e.parent)}function a(e,t){var n=e.parent.getAncestors({parentFirst:!0,includeNode:!0}),r=n.find(function(e){return i(e,t)});return n.forEach(function(e){return t.add(e)}),r}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),s=r(f),c=n(5),d=r(c),h=n(3),p=r(h),v=n(7),y=r(v),b=n(0),_=r(b),m=n(4),g=r(m),w=n(147),O=r(w),k=n(495),P=r(k),j=function(){function e(){o(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map}return l(e,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=!1,l=!0,f=!1,s=void 0;try{for(var c,d=e._ranges[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;if(a.isEqual(h)){u=!0;break}}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}if(!u)return!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!0}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this._ranges[Symbol.iterator]();case 5:if(t=(i=o.next()).done){e.next=12;break}return a=i.value,e.next=9,p.default.createFromRange(a);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&o.return&&o.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"getFirstRange",value:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e&&!a.start.isBefore(e.start)||(e=a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e?p.default.createFromRange(e):null}},{key:"getLastRange",value:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e&&!a.end.isAfter(e.end)||(e=a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e?p.default.createFromRange(e):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?s.default.createFromPosition(e.start):null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?s.default.createFromPosition(e.end):null}},{key:"addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._pushRange(e),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}},{key:"removeAllRanges",value:function(){this._ranges.length>0&&(this._removeAllRanges(),this.fire("change:range",{directChange:!0}))}},{key:"setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e);var r=e.some(function(e){if(!(e instanceof p.default))throw new _.default("model-selection-added-not-range: Trying to add an object that is not an instance of Range.");return t._ranges.every(function(t){return!t.isEqual(e)})});if(e.length!==this._ranges.length||r){this._removeAllRanges();var o=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;this._pushRange(f)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setTo",value:function(e){this.setRanges(e.getRanges(),e.isBackward)}},{key:"collapse",value:function(e,t){var n=s.default.createAt(e,t),r=new p.default(n,n);this.setRanges([r])}},{key:"collapseToStart",value:function(){var e=this.getFirstPosition();null!==e&&this.setRanges([new p.default(e,e)])}},{key:"collapseToEnd",value:function(){var e=this.getLastPosition();null!==e&&this.setRanges([new p.default(e,e)])}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new _.default("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");var n=s.default.createAt(e,t);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?this.addRange(new p.default(n,r),!0):this.addRange(new p.default(r,n))}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"clearAttributes",value:function(){if(this._attrs.size>0){var e=Array.from(this._attrs.keys());this._attrs.clear(),this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttributesTo",value:function(e){if(e=(0,O.default)(e),!(0,P.default)(e,this._attrs)){var t=new Set(Array.from(e.keys()).concat(Array.from(this._attrs.keys()))),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=u(i.value,2),f=l[0],s=l[1];this._attrs.get(f)===s&&t.delete(f)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this._attrs=e,this.fire("change:attribute",{attributeKeys:Array.from(t),directChange:!0})}}},{key:"getSelectedElement",value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,n=e.end.nodeBefore;return t instanceof d.default&&t==n?t:null}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark(function e(){var t,n,r,o,u,l,f,s,c,d,h,p,v,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=!0,r=!1,o=void 0,e.prev=4,u=this.getRanges()[Symbol.iterator]();case 6:if(n=(l=u.next()).done){e.next=46;break}if(f=l.value,!(s=a(f.start,t))){e.next=12;break}return e.next=12,s;case 12:c=!0,d=!1,h=void 0,e.prev=15,p=f.getWalker()[Symbol.iterator]();case 17:if(c=(v=p.next()).done){e.next=25;break}if(y=v.value,"elementEnd"!=y.type||!i(y.item,t)){e.next=22;break}return e.next=22,y.item;case 22:c=!0,e.next=17;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(15),d=!0,h=e.t0;case 31:e.prev=31,e.prev=32,!c&&p.return&&p.return();case 34:if(e.prev=34,!d){e.next=37;break}throw h;case 37:return e.finish(34);case 38:return e.finish(31);case 39:if(!(b=a(f.end,t))){e.next=43;break}return e.next=43,b;case 43:n=!0,e.next=6;break;case 46:e.next=52;break;case 48:e.prev=48,e.t1=e.catch(4),r=!0,o=e.t1;case 52:e.prev=52,e.prev=53,!n&&u.return&&u.return();case 55:if(e.prev=55,!r){e.next=58;break}throw o;case 58:return e.finish(55);case 59:return e.finish(52);case 60:case"end":return e.stop()}},e,this,[[4,48,52,60],[15,27,31,39],[32,,34,38],[53,,55,59]])})},{key:"_pushRange",value:function(e){if(!(e instanceof p.default))throw new _.default("model-selection-added-not-range: Trying to add an object that is not an instance of Range.");this._checkRange(e),this._ranges.push(p.default.createFromRange(e))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new _.default("model-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}],[{key:"createFromSelection",value:function(e){var t=new this;return t.setTo(e),t}}]),e}();t.default=j,(0,g.default)(j,y.default)},function(e,t,n){"use strict";function r(e){return e instanceof Text&&e.data.substr(0,s)===c}function o(e){return e.data.length==s&&r(e)}function i(e){return r(e)?e.data.slice(s):e.data}function a(e,t){var n=h.get(t);return n||(n=t(window.document),h.set(t,n)),e.isEqualNode(n)}function u(e){e.on("keydown",l)}function l(e,t){if(t.keyCode==f.keyCodes.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var o=n.getRangeAt(0).startContainer,i=n.getRangeAt(0).startOffset;if(r(o)&&i<=s){var a=new Range;a.setStart(o,0),a.collapse(!0),n.removeAllRanges(),n.addRange(a)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.INLINE_FILLER=t.INLINE_FILLER_LENGTH=t.NBSP_FILLER=t.BR_FILLER=void 0,t.startsWithFiller=r,t.isInlineFiller=o,t.getDataWithoutFiller=i,t.isBlockFiller=a,t.injectQuirksHandling=u;for(var f=n(21),s=(t.BR_FILLER=function(e){var t=e.createElement("br");return t.dataset.ckeFiller=!0,t},t.NBSP_FILLER=function(e){return e.createTextNode("")},t.INLINE_FILLER_LENGTH=7),c=t.INLINE_FILLER="",d=0;d<s;d++)t.INLINE_FILLER=c+="";var h=new WeakMap},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(48),f=r(l),s=n(112),c=r(s),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.useCapture=!1,n}return a(t,e),u(t,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(function(n){t.listenTo(e,n,function(e,n){t.isEnabled&&t.onDomEvent(n)},{useCapture:t.useCapture})})}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new c.default(this.document,t,n))}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
t.default={window:window,document:document}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(77),u=r(a),l=n(31),f=r(l),s=n(0),c=r(s),d=n(4),h=r(d),p=function(){function e(){o(this,e),this.set("isFocused",!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}return i(e,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new c.default("focusTracker-add-element-already-exist");this.listenTo(e,"focus",function(){return t._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return t._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),e}();t.default=p,(0,h.default)(p,u.default),(0,h.default)(p,f.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(77),u=r(a),l=n(21),f=function(){function e(){o(this,e),this._listener=Object.create(u.default),this._keystrokes=new Map}return i(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",function(e,n){t.press(n)})}},{key:"set",value:function(e,t){var n=(0,l.parseKeystroke)(e),r=this._keystrokes.get(n);r?r.push(t):this._keystrokes.set(n,[t])}},{key:"press",value:function(e){var t=(0,l.getCode)(e),n=this._keystrokes.get(t);if(!n)return!1;var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){(0,a.value)(e,function(){e.preventDefault(),e.stopPropagation()})}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return!0}},{key:"destroy",value:function(){this._keystrokes=new Map,this._listener.stopListening()}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e[t];l.call(e,t)&&(0,a.default)(r,n)&&(void 0!==n||t in e)||(e[t]=n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),a=r(i),u=Object.prototype,l=u.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=-1,i=l.default,u=!0,f=e.length,c=[],h=t.length;if(!f)return c;n&&(t=(0,d.default)(t,(0,p.default)(n))),r?(i=s.default,u=!1):t.length>=b&&(i=y.default,u=!1,t=new a.default(t));e:for(;++o<f;){var v=e[o],_=n?n(v):v;if(v=r||0!==v?v:0,u&&_===_){for(var m=h;m--;)if(t[m]===_)continue e;c.push(v)}else i(t,_,r)||c.push(v)}return c}Object.defineProperty(t,"__esModule",{value:!0});var i=n(79),a=r(i),u=n(120),l=r(u),f=n(121),s=r(f),c=n(27),d=r(c),h=n(129),p=r(h),v=n(131),y=r(v),b=200;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,y.default)(e);if(!t&&!(0,d.default)(e))return(0,l.default)(e);var n=(0,s.default)(e),r=!!n,o=n||[],i=o.length;for(var u in e)!(0,a.default)(e,u)||r&&("length"==u||(0,p.default)(u,i))||t&&"constructor"==u||o.push(u);return o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(193),a=r(i),u=n(415),l=r(u),f=n(201),s=r(f),c=n(93),d=r(c),h=n(36),p=r(h),v=n(89),y=r(v);t.default=o},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(){for(var e="e",t=0;t<8;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(56),l=r(u),f=n(0),s=r(f),c=function(){function e(t){i(this,e),this._nodes=[],t&&this.insertNodes(0,t)}return a(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return t==-1?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(function(e,t){return e+t.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new s.default("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.");return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=this._nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(e>=t&&e<t+u.offsetSize)return this.getNodeIndex(u);t+=u.offsetSize}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}if(t!=e)throw new s.default("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.");return this.length}},{key:"insertNodes",value:function(e,t){var n,r=!0,i=!1,a=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){if(!(u.value instanceof l.default))throw new s.default("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.")}}catch(e){i=!0,a=e}finally{try{!r&&f.return&&f.return()}finally{if(i)throw a}}(n=this._nodes).splice.apply(n,[e,0].concat(o(t)))}},{key:"removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,t){return e+t.offsetSize},0)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),f=r(l),s=n(3),c=r(s),d=n(0),h=r(d),p=n(24),v=r(p),y=n(482),b=r(y),_=function(e){function t(e,n,r,a,u){o(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return l.range=c.default.createFromRange(e),l.key=n,l.oldValue=void 0===r?null:r,l.newValue=void 0===a?null:a,l}return a(t,e),u(t,[{key:"clone",value:function(){return new t(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_execute",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.range.getItems()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if(null!==this.oldValue&&!(0,b.default)(i.getAttribute(this.key),this.oldValue))throw new h.default("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{item:i,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&i.hasAttribute(this.key))throw new h.default("attribute-operation-attribute-exists: The attribute with given key already exists.",{node:i,key:this.key});if((0,b.default)(this.oldValue,this.newValue))return}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return v.default.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,n){return new t(c.default.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.AttributeOperation"}}]),t}(f.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),f=r(l),s=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"clone",value:function(){return new t(this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"engine.model.operation.NoOperation"}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=function(){function e(t,n,r){if(o(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new u.default("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(r<0||n+r>t.offsetSize)throw new u.default("model-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(n,n+r),this.offsetInText=n}return i(e,[{key:"is",value:function(e){return"textProxy"==e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},t=[],n=e.includeNode?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(39),f=r(l),s=n(0),c=r(s),d=n(4),h=r(d),p=n(31),v=r(p),y=Symbol("document"),b=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a.set("isReadOnly",!1),a.set("isFocused",!1),a}return a(t,e),u(t,[{key:"document",get:function(){return this.getCustomProperty(y)},set:function(e){var t=this;if(this.getCustomProperty(y))throw new c.default("view-editableelement-document-already-set: View document is already set.");this.setCustomProperty(y,e),this.bind("isFocused").to(e,"isFocused",function(n){return n&&e.selection.editableElement==t}),this.listenTo(e,"render",function(){t.isFocused=e.isFocused&&e.selection.editableElement==t},{priority:"high"})}}]),t}(f.default);t.default=b,(0,h.default)(b,v.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=n(7),f=r(l),s=n(4),c=r(s),d=function(){function e(){o(this,e),this.parent=null}return i(e,[{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},t=[],n=e.includeNode?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"remove",value:function(){this.parent.removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"index",get:function(){var e=void 0;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new u.default("view-node-not-found-in-parent: The node's parent does not contain this node.");return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"document",get:function(){return this.parent instanceof e?this.parent.document:null}}]),e}();t.default=d,(0,c.default)(d,f.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=n(34),f=r(l),s=n(25),c=r(s),d=n(4),h=r(d),p=n(7),v=r(p),y=n(20),b=r(y),_=function(){function e(){o(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=""}return i(e,[{key:"setFake",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._isFake=e,this._fakeSelectionLabel=e?t.label||"":"",this.fire("change")}},{key:"addRange",value:function(e,t){if(!(e instanceof f.default))throw new u.default("view-selection-invalid-range: Invalid Range.");this._pushRange(e),this._lastRangeBackward=!!t,this.fire("change")}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this._ranges[Symbol.iterator]();case 5:if(t=(i=o.next()).done){e.next=12;break}return a=i.value,e.next=9,f.default.createFromRange(a);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&o.return&&o.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"getFirstRange",value:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e&&!a.start.isBefore(e.start)||(e=a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e?f.default.createFromRange(e):null}},{key:"getLastRange",value:function(){var e=null,t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e&&!a.end.isAfter(e.end)||(e=a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e?f.default.createFromRange(e):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?c.default.createFromPosition(e.start):null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?c.default.createFromPosition(e.end):null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=!1,l=!0,f=!1,s=void 0;try{for(var c,d=e._ranges[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;if(a.isEqual(h)){u=!0;break}}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}if(!u)return!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!0}},{key:"removeAllRanges",value:function(){this._ranges.length&&(this._ranges=[],this.fire("change"))}},{key:"setRanges",value:function(e,t){this._ranges=[];var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(!(l instanceof f.default))throw new u.default("view-selection-invalid-range: Invalid Range.");this._pushRange(l)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this._lastRangeBackward=!!t,this.fire("change")}},{key:"setTo",value:function(e){this._isFake=e._isFake,this._fakeSelectionLabel=e._fakeSelectionLabel,this.setRanges(e.getRanges(),e.isBackward)}},{key:"collapse",value:function(e,t){var n=c.default.createAt(e,t),r=new f.default(n,n);this.setRanges([r])}},{key:"collapseToStart",value:function(){var e=this.getFirstPosition();null!==e&&this.setRanges([new f.default(e,e)])}},{key:"collapseToEnd",value:function(){var e=this.getLastPosition();null!==e&&this.setRanges([new f.default(e,e)])}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new u.default("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");var n=c.default.createAt(e,t);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this.addRange(new f.default(n,r),!0):this.addRange(new f.default(r,n))}}},{key:"getSelectedElement",value:function(){if(1!==this.rangeCount)return null;var e=this.getFirstRange(),t=e.start.nodeAfter,n=e.end.nodeBefore;return t instanceof b.default&&t==n?t:null}},{key:"_pushRange",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._ranges[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(e.isIntersecting(a))throw new u.default("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:e,intersectingRange:a})}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}this._ranges.push(f.default.createFromRange(e))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.end:e.start;return c.default.createFromPosition(t)}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.start:e.end;return c.default.createFromPosition(t)}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}],[{key:"createFromSelection",value:function(t){var n=new e;return n.setTo(t),n}}]),e}();t.default=_,(0,h.default)(_,v.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20),u=r(a),l=n(29),f=r(l),s=n(319),c=r(s),d=n(25),h=r(d),p=n(0),v=r(p),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),!t.boundaries&&!t.startPosition)throw new v.default("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new v.default("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=h.default.createFromPosition(t.startPosition):this.position=h.default.createFromPosition(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return i(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t=void 0,n=void 0,r=void 0;do{r=this.position;var o=this.next();t=o.done,n=o.value}while(!t&&e(n));t||(this.position=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=h.default.createFromPosition(this.position),t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var r=void 0;if(n instanceof f.default){if(e.isAtEnd)return this.position=h.default.createAfter(n),this._next();r=n.data[e.offset]}else r=n.getChild(e.offset);if(r instanceof u.default)return this.shallow?e.offset++:e=new h.default(r,0),this.position=e,this._formatReturnValue("elementStart",r,t,e,1);if(r instanceof f.default){if(this.singleCharacters)return e=new h.default(r,0),this.position=e,this._next();var o=r.data.length,i=r;return r==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new c.default(r,0,o),e=h.default.createAfter(i)):e.offset++,this.position=e,this._formatReturnValue("text",i,t,e,o)}if("string"==typeof r){var a=void 0;if(this.singleCharacters)a=1;else{a=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset}var l=new c.default(n,e.offset,a);return e.offset+=a,this.position=e,this._formatReturnValue("text",l,t,e,a)}return e=h.default.createAfter(n),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}},{key:"_previous",value:function(){var e=h.default.createFromPosition(this.position),t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var r=void 0;if(n instanceof f.default){if(e.isAtStart)return this.position=h.default.createBefore(n),this._previous();r=n.data[e.offset-1]}else r=n.getChild(e.offset-1);if(r instanceof u.default)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new h.default(r,r.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof f.default){if(this.singleCharacters)return e=new h.default(r,r.data.length),this.position=e,this._previous();var o=r.data.length,i=r;if(r==this._boundaryStartParent){var a=this.boundaries.start.offset;i=new c.default(r,a,r.data.length-a),o=i.data.length,e=h.default.createBefore(i)}else e.offset--;return this.position=e,this._formatReturnValue("text",i,t,e,o)}if("string"==typeof r){var l=void 0;if(this.singleCharacters)l=1;else{var s=n===this._boundaryStartParent?this.boundaries.start.offset:0;l=e.offset-s}e.offset-=l;var d=new c.default(n,e.offset,l);return this.position=e,this._formatReturnValue("text",d,t,e,l)}return e=h.default.createBefore(n),this.position=e,this._formatReturnValue("elementStart",n,t,e,1)}},{key:"_formatReturnValue",value:function(e,t,n,r,o){return t instanceof c.default&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=h.default.createAfter(t.textNode):(r=h.default.createAfter(t.textNode),this.position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=h.default.createBefore(t.textNode):(r=h.default.createBefore(t.textNode),this.position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:o}}}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return e instanceof R.default?g(e):m(e)}function a(e){var t=e.parent;if(!t.is("containerElement"))throw new G.default("view-writer-break-non-container-element: Trying to break an element which is not a container element.");if(!t.parent)throw new G.default("view-writer-break-root: Trying to break root element.");if(e.isAtStart)return R.default.createBefore(t);if(!e.isAtEnd){var n=t.clone(!1);s(R.default.createAfter(t),n);h(new $.default(e,R.default.createAt(t,"end")),new R.default(n,0))}return R.default.createAfter(t)}function u(e){var t=e.offset,n=e.parent;if(n.is("text"))return e;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,o=n.index;return n.remove(),u(new R.default(r,o))}var i=n.getChild(t-1),a=n.getChild(t);if(!i||!a)return e;if(i.is("text")&&a.is("text"))return j(i,a);if(i.is("attributeElement")&&a.is("attributeElement")&&i.isSimilar(a)){var l=i.childCount;return i.appendChildren(a.getChildren()),a.remove(),u(new R.default(i,l))}return e}function l(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new G.default("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.");var r=t.getChild(t.childCount-1),o=r instanceof z.default?R.default.createAt(r,"end"):R.default.createAt(t,"end");return h($.default.createIn(n),R.default.createAt(t,"end")),c($.default.createOn(n)),o}function f(e){var t=[],n=new H.default({boundaries:e}),r=e.start,o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.item.is("containerElement")&&(r.isEqual(f.previousPosition)||t.push(new $.default(r,f.previousPosition)),r=f.nextPosition)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return t.push(new $.default(r,e.end)),t}function s(e,t){t=(0,Z.default)(t)?[].concat(o(t)):[t],S(t);var n=_(e);if(!n)throw new G.default("view-writer-invalid-position-container");var r=g(e,!0),i=n.insertChildren(r.offset,t),a=r.getShiftedBy(i),l=u(r);if(0===i)return new $.default(l,l);l.isEqual(r)||a.offset--;var f=u(a);return new $.default(l,f)}function c(e){if(C(e),e.isCollapsed)return new Q.default;var t=m(e,!0),n=t.start,r=t.end,o=n.parent,i=r.offset-n.offset,a=o.removeChildren(n.offset,i),l=u(n);return e.start=l,e.end=R.default.createFromPosition(l),new Q.default(a)}function d(e,t){C(e);var n=e.getWalker({direction:"backward",ignoreElementEnd:!0}),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f=l.item,s=void 0;if(f.is("element")&&t.isSimilar(f))s=$.default.createOn(f);else if(!l.nextPosition.isAfter(e.start)&&(f.is("text")||f.is("textProxy"))){var d=f.getAncestors().find(function(e){return e.is("element")&&t.isSimilar(e)});d&&(s=$.default.createIn(d))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),c(s))}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}function h(e,t){var n=void 0;if(t.isAfter(e.end)){t=g(t,!0);var r=t.parent,o=r.childCount;e=m(e,!0),n=c(e),t.offset+=r.childCount-o}else n=c(e);return s(t,n)}function p(e,t){if(!(t instanceof I.default))throw new G.default("view-writer-wrap-invalid-attribute");if(C(e),e.isCollapsed)return e;if(e.end.isEqual(e.start.getShiftedBy(1))){var n=e.start.nodeAfter;if(n instanceof I.default&&M(t,n))return e}if(E(e)&&M(t,e.start.parent)){var r=e.start.parent.parent,o=e.start.parent.index;return $.default.createFromParentsAndOffsets(r,o,r,o+1)}var i=m(e,!0),a=i.start,l=i.end,f=a.parent,s=w(f,a.offset,l.offset,t),c=O(f,s.start.offset,s.end.offset,t),d=u(c.start);d.isEqual(c.start)||c.end.offset--;var h=u(c.end);return new $.default(d,h)}function v(e,t){if(!(t instanceof I.default))throw new G.default("view-writer-wrap-invalid-attribute");if(t.isSimilar(e.parent))return k(R.default.createFromPosition(e));e.parent.is("text")&&(e=P(e));var n=new I.default;n.priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent.insertChildren(e.offset,n),p(new $.default(e,e.getShiftedBy(1)),t);var r=new R.default(n.parent,n.index);n.remove();var o=r.nodeBefore,i=r.nodeAfter;return o instanceof z.default&&i instanceof z.default?j(o,i):k(r)}function y(e,t){if(!(t instanceof I.default))throw new G.default("view-writer-unwrap-invalid-attribute");if(C(e),e.isCollapsed)return e;if(e.end.isEqual(e.start.getShiftedBy(1))){var n=e.start.nodeAfter;if(!t.isSimilar(n)&&n instanceof I.default&&x(t,n))return e}var r=m(e,!0),o=r.start,i=r.end,a=o.parent,l=w(a,o.offset,i.offset,t),f=u(l.start);f.isEqual(l.start)||l.end.offset--;var s=u(l.end);return new $.default(f,s)}function b(e,t){var n=new N.default(t,e.getAttributes());return s(R.default.createAfter(e),n),h($.default.createIn(e),R.default.createAt(n)),c($.default.createOn(e)),n}function _(e){for(var t=e.parent;!T(t);){if(!t)return;t=t.parent}return t}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,r=e.end;if(C(e),e.isCollapsed){var o=g(e.start,t);return new $.default(o,o)}var i=g(r,t),a=i.parent.childCount,u=g(n,t);return i.offset+=i.parent.childCount-a,new $.default(u,i)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new G.default("view-writer-cannot-break-empty-element");if(e.parent.is("uiElement"))throw new G.default("view-writer-cannot-break-ui-element");if(!t&&r.is("text")&&T(r.parent))return R.default.createFromPosition(e);if(T(r))return R.default.createFromPosition(e);if(r.is("text"))return g(P(e),t);if(n==r.childCount)return g(new R.default(r.parent,r.index+1),t);if(0===n){return g(new R.default(r.parent,r.index),t)}var o=r.index+1,i=r.clone();r.parent.insertChildren(o,i);var a=r.childCount-n,u=r.removeChildren(n,a);return i.appendChildren(u),g(new R.default(r.parent,o),t)}function w(e,t,n,r){for(var o=t,i=[];o<n;){var a=e.getChild(o);if(a.isSimilar(r)){var l=a.getChildren(),f=a.childCount;a.remove(),e.insertChildren(o,l),i.push(new R.default(e,o),new R.default(e,o+f)),o+=f,n+=f-1}else a.is("attributeElement")&&w(a,0,a.childCount,r),o++}var s=0,c=!0,d=!1,h=void 0;try{for(var p,v=i[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;if(y.offset-=s,y.offset!=t&&y.offset!=n){u(y).isEqual(y)||(s++,n--)}}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}return $.default.createFromParentsAndOffsets(e,t,e,n)}function O(e,t,n,r){for(var o=t,i=[];o<n;){var a=e.getChild(o),l=a.is("text"),f=a.is("attributeElement"),s=a.is("emptyElement"),c=a.is("uiElement");if(l||s||c||f&&r.priority<=a.priority){var d=r.clone();a.remove(),d.appendChildren(a),e.insertChildren(o,d),i.push(new R.default(e,o))}else f&&O(a,0,a.childCount,r);o++}var h=0,p=!0,v=!1,y=void 0;try{for(var b,_=i[Symbol.iterator]();!(p=(b=_.next()).done);p=!0){var m=b.value;if(m.offset-=h,m.offset!=t){u(m).isEqual(m)||(h++,n--)}}}catch(e){v=!0,y=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw y}}return $.default.createFromParentsAndOffsets(e,t,e,n)}function k(e){var t=e.nodeBefore;if(t&&t.is("text"))return new R.default(t,t.data.length);var n=e.nodeAfter;return n&&n.is("text")?new R.default(n,0):e}function P(e){if(e.offset==e.parent.data.length)return new R.default(e.parent.parent,e.parent.index+1);if(0===e.offset)return new R.default(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent.data=e.parent.data.slice(0,e.offset),e.parent.parent.insertChildren(e.parent.index+1,new z.default(t)),new R.default(e.parent.parent,e.parent.index+1)}function j(e,t){var n=e.data.length;return e.data+=t.data,t.remove(),new R.default(e,n)}function M(e,t){if(e.name!==t.name||e.priority!==t.priority)return!1;var n=!0,r=!1,o=void 0;try{for(var i,a=e.getAttributeKeys()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if("class"!==u&&"style"!==u&&t.hasAttribute(u)&&t.getAttribute(u)!==e.getAttribute(u))return!1}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var l=!0,f=!1,s=void 0;try{for(var c,d=e.getStyleNames()[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;if(t.hasStyle(h)&&t.getStyle(h)!==e.getStyle(h))return!1}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}var p=!0,v=!1,y=void 0;try{for(var b,_=e.getAttributeKeys()[Symbol.iterator]();!(p=(b=_.next()).done);p=!0){var m=b.value;"class"!==m&&"style"!==m&&(t.hasAttribute(m)||t.setAttribute(m,e.getAttribute(m)))}}catch(e){v=!0,y=e}finally{try{!p&&_.return&&_.return()}finally{if(v)throw y}}var g=!0,w=!1,O=void 0;try{for(var k,P=e.getStyleNames()[Symbol.iterator]();!(g=(k=P.next()).done);g=!0){var j=k.value;t.hasStyle(j)||t.setStyle(j,e.getStyle(j))}}catch(e){w=!0,O=e}finally{try{!g&&P.return&&P.return()}finally{if(w)throw O}}var M=!0,x=!1,E=void 0;try{for(var S,T=e.getClassNames()[Symbol.iterator]();!(M=(S=T.next()).done);M=!0){var C=S.value;t.hasClass(C)||t.addClass(C)}}catch(e){x=!0,E=e}finally{try{!M&&T.return&&T.return()}finally{if(x)throw E}}return!0}function x(e,t){if(e.name!==t.name||e.priority!==t.priority)return!1;var n=!0,r=!1,i=void 0;try{for(var a,u=e.getAttributeKeys()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;if("class"!==l&&"style"!==l&&(!t.hasAttribute(l)||t.getAttribute(l)!==e.getAttribute(l)))return!1}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}if(!t.hasClass.apply(t,o(e.getClassNames())))return!1;var f=!0,s=!1,c=void 0;try{for(var d,h=e.getStyleNames()[Symbol.iterator]();!(f=(d=h.next()).done);f=!0){var p=d.value;if(!t.hasStyle(p)||t.getStyle(p)!==e.getStyle(p))return!1}}catch(e){s=!0,c=e}finally{try{!f&&h.return&&h.return()}finally{if(s)throw c}}var v=!0,y=!1,b=void 0;try{for(var _,m=e.getAttributeKeys()[Symbol.iterator]();!(v=(_=m.next()).done);v=!0){var g=_.value;"class"!==g&&"style"!==g&&t.removeAttribute(g)}}catch(e){y=!0,b=e}finally{try{!v&&m.return&&m.return()}finally{if(y)throw b}}return t.removeClass.apply(t,o(e.getClassNames())),t.removeStyle.apply(t,o(e.getStyleNames())),!0}function E(e){return e.start.parent==e.end.parent&&e.start.parent.is("attributeElement")&&0===e.start.offset&&e.end.offset===e.start.parent.childCount}function S(e){var t=!0,n=!1,r=void 0;try{for(var o,i=function(){var e=o.value;if(!te.some(function(t){return e instanceof t}))throw new G.default("view-writer-insert-invalid-node");e.is("text")||S(e.getChildren())},a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)i()}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function T(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function C(e){var t=_(e.start),n=_(e.end);if(!t||!n||t!==n)throw new G.default("view-writer-invalid-range-container")}Object.defineProperty(t,"__esModule",{value:!0}),t.breakAttributes=i,t.breakContainer=a,t.mergeAttributes=u,t.mergeContainers=l,t.breakViewRangePerContainer=f,t.insert=s,t.remove=c,t.clear=d,t.move=h,t.wrap=p,t.wrapPosition=v,t.unwrap=y,t.rename=b;var A=n(25),R=r(A),F=n(39),N=r(F),V=n(110),I=r(V),D=n(162),B=r(D),L=n(166),q=r(L),W=n(29),z=r(W),K=n(34),$=r(K),U=n(74),H=r(U),J=n(0),G=r(J),Y=n(111),Q=r(Y),X=n(41),Z=r(X),ee={breakAttributes:i,breakContainer:a,mergeAttributes:u,mergeContainers:l,insert:s,remove:c,clear:d,move:h,wrap:p,wrapPosition:v,unwrap:y,rename:b,breakViewRangePerContainer:f};t.default=ee;var te=[z.default,I.default,N.default,B.default,q.default]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),u=r(a),l=n(0),f=r(l),s=n(66),c=r(s),d=n(4),h=r(d),p=function(){function e(t){o(this,e),this._items=[],this._itemMap=new Map,this._idProperty=t&&t.idProperty||"id",this._boundItemsMap=new Map}return i(e,[{key:"add",value:function(e,t){var n=void 0,r=this._idProperty;if(r in e){if("string"!=typeof(n=e[r]))throw new f.default("collection-add-invalid-id");if(this.get(n))throw new f.default("collection-add-item-already-exists")}else e[r]=n=(0,c.default)();if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new f.default("collection-add-item-invalid-index");return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire("add",e,t),this}},{key:"get",value:function(e){var t=void 0;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new f.default("collection-get-invalid-arg: Index or id must be given.");t=this._items[e]}return t||null}},{key:"getIndex",value:function(e){var t=void 0;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:"remove",value:function(e){var t=void 0,n=void 0,r=void 0,o=!1,i=this._idProperty;if("string"==typeof e?(n=e,r=this._itemMap.get(n),o=!r,r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,r=this._items[t],o=!r,r&&(n=r[i])):(r=e,n=r[i],t=this._items.indexOf(r),o=t==-1||!this._itemMap.get(n)),o)throw new f.default("collection-remove-404: Item not found.");return this._items.splice(t,1),this._itemMap.delete(n),this.fire("remove",r),r}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){for(;this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var t=this,n=function(n){var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t.add(n(l))}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}t.listenTo(e,"add",function(e,r,o){t.add(n(r),o)}),t.listenTo(e,"remove",function(e,n){t.remove(t._boundItemsMap.get(n)),t._boundItemsMap.delete(n)})};return{as:function(e){n(function(n){var r=new e(n);return t._boundItemsMap.set(n,r),r})},using:function(e){var r=void 0;r="function"==typeof e?function(n){var r=e(n);return t._boundItemsMap.set(n,r),r}:function(n){var r=n[e];return t._boundItemsMap.set(n,r),r},n(r)}}}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}}]),e}();t.default=p,(0,h.default)(p,u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e["data-ck-expando"]||(e["data-ck-expando"]=(0,s.default)())}function a(e){return e&&(0,p.default)(e.addEventListener)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),l=r(u),f=n(66),s=r(f),c=n(54),d=r(c),h=n(229),p=r(h),v=(0,d.default)({},l.default,{listenTo:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];a(r)&&(t[0]=this._getProxyEmitter(r)||new y(r)),l.default.listenTo.apply(this,t)},stopListening:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(a(r)){var o=this._getProxyEmitter(r);if(!o)return;t[0]=o}l.default.stopListening.apply(this,t)},_getProxyEmitter:function(e){return(0,u._getEmitterListenedTo)(this,i(e))}});t.default=v;var y=function e(t){o(this,e),(0,u._setEmitterId)(this,i(t)),this._domNode=t};(0,d.default)(y.prototype,l.default,{on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l.default.on.apply(this,arguments),!this._domListeners||!this._domListeners[e]){var r=this._createDomListener(e);this._domNode.addEventListener(e,r,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=r}},off:function(e){l.default.off.apply(this,arguments);var t=void 0;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e){var t=this,n=function(n){t.fire(e,n)};return n.removeListener=function(){t._domNode.removeEventListener(e,n),delete t._domListeners[e]},n}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(454),a=r(i),u=n(455),l=r(u),f=n(456),s=r(f),c=n(457),d=r(c),h=n(458),p=r(h);o.prototype.clear=a.default,o.prototype.delete=l.default,o.prototype.get=s.default,o.prototype.has=d.default,o.prototype.set=p.default,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e?e.length:0;for(this.__data__=new a.default;++t<n;)this.add(e[t])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(117),a=r(i),u=n(465),l=r(u),f=n(466),s=r(f);o.prototype.add=o.prototype.push=l.default,o.prototype.has=s.default,t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=e.length;n--;)if((0,a.default)(e[n][0],t))return n;return-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&o<=d){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!(0,s.default)(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return(0,a.default)(e,t,l.default,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(128),a=r(i),u=n(223),l=r(u),f=n(44),s=r(f),c=4294967295,d=c>>>1;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?(0,a.default)(e,r?0:i,r?i+1:o):(0,a.default)(e,r?i+1:0,r?o:i)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e)?e:(0,l.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=r(i),u=n(473),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.__data__;return(0,a.default)(t)?n["string"==typeof t?"string":"hash"]:n.map}Object.defineProperty(t,"__esModule",{value:!0});var i=n(452),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!(0,h.default)(n))return!1;var r=void 0===t?"undefined":i(t);return!!("number"==r?(0,f.default)(n)&&(0,c.default)(t,n.length):"string"==r&&t in n)&&(0,u.default)(n[t],e)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(53),u=r(a),l=n(93),f=r(l),s=n(36),c=r(s),d=n(14),h=r(d);t.default=o},function(e,t,n){"use strict";function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.prototype;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=(0,i.default)(Object,"create");t.default=a},function(e,t,n){"use strict";function r(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e,!1,!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return null!=e&&(0,s.default)((0,a.default)(e))&&!(0,l.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(440),a=r(i),u=n(143),l=r(u),f=n(94),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}Object.defineProperty(t,"__esModule",{value:!0});var o=9007199254740991;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!(0,s.default)(e)||y.call(e)!=c||(0,l.default)(e))return!1;var t=(0,a.default)(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&h.call(n)==v}Object.defineProperty(t,"__esModule",{value:!0});var i=n(135),a=r(i),u=n(87),l=r(u),f=n(43),s=r(f),c="[object Object]",d=Object.prototype,h=Function.prototype.toString,p=d.hasOwnProperty,v=h.call(Object),y=d.toString;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e||!e.length)return[];var t=0;return e=(0,a.default)(e,function(e){if((0,p.default)(e))return t=v(e.length,t),!0}),(0,d.default)(t,function(t){return(0,l.default)(e,(0,s.default)(t))})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(80),a=r(i),u=n(27),l=r(u),f=n(126),s=r(f),c=n(196),d=r(c),h=n(13),p=r(h),v=Math.max;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(e){return function(t,n,r,o){var i=e instanceof m.default?e.clone(!0):e(n,r,o);if(i&&r.consume(n.item,"insert")){var a=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,i),k.default.insert(a,i)}}}function i(){return function(e,t,n,r){if(n.consume(t.item,"insert")){var o=r.mapper.toViewPosition(t.range.start),i=new w.default(t.item.data);k.default.insert(o,i)}}}function a(e){return function(t,n,r,o){var i=void 0,a=void 0;if(e instanceof m.default?(i=e.clone(!0),a=e.clone(!0)):(n.isOpening=!0,i=e(n,r,o),n.isOpening=!1,a=e(n,r,o)),i&&a&&r.consume(n.range,"addMarker")){var u=o.mapper;k.default.insert(u.toViewPosition(n.range.start),i),n.range.isCollapsed||k.default.insert(u.toViewPosition(n.range.end),a)}}}function u(e){return e=e||function(e,t){return{value:e,key:t}},function(t,n,r,o){if(r.consume(n.item,v(t.name))){var i=e(n.attributeNewValue,n.attributeKey,n,r,o),a=i.key,u=i.value;o.mapper.toViewElement(n.item).setAttribute(a,u)}}}function l(e){return e=e||function(e,t){return{key:t}},function(t,n,r,o){if(r.consume(n.item,v(t.name))){var i=e(n.attributeOldValue,n.attributeKey,n,r,o),a=i.key;o.mapper.toViewElement(n.item).removeAttribute(a)}}}function f(e){return function(t,n,r,o){var i=e instanceof m.default?e.clone(!0):e(n.attributeNewValue,n,r,o);if(i&&r.consume(n.item,v(t.name))){var a=o.mapper.toViewRange(n.range);if(null!==n.attributeOldValue&&!(e instanceof m.default)){var u=e(n.attributeOldValue,n,r,o);a=k.default.unwrap(a,u)}k.default.wrap(a,i)}}}function s(e){return function(t,n,r,o){var i=e instanceof m.default?e.clone(!0):e(n.attributeOldValue,n,r,o);if(i&&r.consume(n.item,v(t.name))){var a=o.mapper.toViewRange(n.range);k.default.unwrap(a,i)}}}function c(e){return function(t,n,r,o){var i=e instanceof m.default?e.clone(!0):e(n,r,o);if(i&&r.consume(n.range,"addMarker")){var a=o.mapper.toViewRange(n.range),u=k.default.breakViewRangePerContainer(a),l=!0,f=!1,s=void 0;try{for(var c,d=u[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;k.default.wrap(h,i)}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}}}}function d(e){return function(t,n,r,o){var i=e instanceof m.default?e.clone(!0):e(n,r,o);if(i&&r.consume(n.range,"removeMarker")){var a=o.mapper.toViewRange(n.range),u=k.default.breakViewRangePerContainer(a),l=!0,f=!1,s=void 0;try{for(var c,d=u[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;k.default.unwrap(h,i)}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}}}}function h(){return function(e,t,n,r){if(n.consume(t.item,"remove")){var o=b.default.createFromPositionAndShift(t.sourcePosition,t.item.offsetSize),i=r.mapper.toViewRange(o);k.default.remove(i.getTrimmed()),r.mapper.unbindModelElement(t.item)}}}function p(e){return function(t,n,r,o){var i=void 0,a=void 0;if(e instanceof m.default?(i=e.clone(!0),a=e.clone(!0)):(n.isOpening=!0,i=e(n,r,o),n.isOpening=!1,a=e(n,r,o)),i&&a&&r.consume(n.range,"removeMarker")){var u=o.mapper.toViewRange(n.range);k.default.clear(u.getEnlarged(),a),i.isSimilar(a)||k.default.clear(u.getEnlarged(),i)}}}function v(e){var t=e.split(":");return t[0]+":"+t[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.insertElement=o,t.insertText=i,t.insertUIElement=a,t.setAttribute=u,t.removeAttribute=l,t.wrapItem=f,t.unwrapItem=s,t.wrapRange=c,t.unwrapRange=d,t.remove=h,t.removeUIElement=p,t.eventNameToConsumableType=v;var y=n(3),b=r(y),_=n(20),m=r(_),g=n(29),w=r(g),O=n(75),k=r(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(19),s=r(f),c=n(17),d=r(c),h=n(101),p=r(h),v=n(16),y=n(37),b=r(y),_=n(47),m=r(_),g=n(3),w=r(g),O=n(1),k=r(O),P=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"type",get:function(){return"insert"}},{key:"position",get:function(){return this._insertOperation?this._insertOperation.position:null}},{key:"nodes",get:function(){return this._insertOperation?this._insertOperation.nodes:null}},{key:"_insertOperation",get:function(){return this.operations[0]||null}},{key:"_reverseDeltaClass",get:function(){return p.default}}],[{key:"className",get:function(){return"engine.model.delta.InsertDelta"}},{key:"_priority",get:function(){return 20}}]),t}(s.default);t.default=P,(0,v.register)("insert",function(e,t){var n=new P,r=new b.default(e,t,this.document.version);if(this.addDelta(n),n.addOperation(r),this.document.applyOperation(r),t instanceof m.default){var o=!0,i=!1,a=void 0;try{for(var l,f=t.markers[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=u(l.value,2),c=s[0],d=s[1],h=k.default.createAt(d.root),p=new w.default(d.start._getCombined(h,e),d.end._getCombined(h,e));this.setMarker(c,p)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}}return this}),d.default.register(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(19),s=r(f),c=n(17),d=r(c),h=n(102),p=r(h),v=n(16),y=n(1),b=r(y),_=n(5),m=r(_),g=n(38),w=r(g),O=n(28),k=r(O),P=n(0),j=r(P),M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getReversed",value:function(){var e=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getReversed",this).call(this);return e.operations.length>0&&(e.operations[1].isSticky=!1),e}},{key:"type",get:function(){return"merge"}},{key:"position",get:function(){return this._removeOperation?this._removeOperation.sourcePosition:null}},{key:"_removeOperation",get:function(){return this.operations[1]||null}},{key:"_reverseDeltaClass",get:function(){return p.default}}],[{key:"className",get:function(){return"engine.model.delta.MergeDelta"}}]),t}(s.default);t.default=M,(0,v.register)("merge",function(e){var t=new M;this.addDelta(t);var n=e.nodeBefore,r=e.nodeAfter;if(!(n instanceof m.default))throw new j.default("batch-merge-no-element-before: Node before merge position must be an element.");if(!(r instanceof m.default))throw new j.default("batch-merge-no-element-after: Node after merge position must be an element.");var o=b.default.createFromParentAndOffset(r,0),i=b.default.createFromParentAndOffset(n,n.maxOffset),a=new k.default(o,r.maxOffset,i,this.document.version);a.isSticky=!0,t.addOperation(a),this.document.applyOperation(a);var u=new w.default(e,1,this.document.version);return t.addOperation(u),this.document.applyOperation(u),this}),d.default.register(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r,o){var i=new v.default(n,r,o,e.document.version);t.addOperation(i),e.document.applyOperation(i)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(19),s=r(f),c=n(17),d=r(c),h=n(16),p=n(28),v=r(p),y=n(1),b=r(y),_=n(3),m=r(_),g=n(0),w=r(g),O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"type",get:function(){return"move"}},{key:"howMany",get:function(){return this._moveOperation?this._moveOperation.howMany:null}},{key:"sourcePosition",get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:"targetPosition",get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:"_moveOperation",get:function(){return this.operations[0]||null}},{key:"_reverseDeltaClass",get:function(){return t}}],[{key:"className",get:function(){return"engine.model.delta.MoveDelta"}},{key:"_priority",get:function(){return 20}}]),t}(s.default);t.default=O,(0,h.register)("move",function(e,t){var n=new O;if(this.addDelta(n),e instanceof m.default){if(!e.isFlat)throw new w.default("batch-move-range-not-flat: Range to move is not flat.");u(this,n,e.start,e.end.offset-e.start.offset,t)}else u(this,n,b.default.createBefore(e),1,t);return this}),d.default.register(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var o=new v.default(n,r,e.document.version);t.addOperation(o),e.document.applyOperation(o)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(100),s=r(f),c=n(16),d=n(17),h=r(d),p=n(38),v=r(p),y=n(1),b=r(y),_=n(3),m=r(_),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,null,[{key:"className",get:function(){return"engine.model.delta.RemoveDelta"}}]),t}(s.default);t.default=g,(0,c.register)("remove",function(e){var t=new g;if(this.addDelta(t),e instanceof m.default){var n=e.getMinimalFlatRanges().reverse(),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var f=a.value;u(this,t,f.start,f.end.offset-f.start.offset)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}}else u(this,t,b.default.createBefore(e),1);return this}),h.default.register(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(19),s=r(f),c=n(17),d=r(c),h=n(16),p=n(1),v=r(p),y=n(5),b=r(y),_=n(37),m=r(_),g=n(28),w=r(g),O=n(0),k=r(O),P=n(99),j=r(P),M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getReversed",value:function(){var e=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getReversed",this).call(this);return e.operations.length>0&&(e.operations[0].isSticky=!0),e}},{key:"type",get:function(){return"split"}},{key:"position",get:function(){return this._moveOperation?this._moveOperation.sourcePosition:null}},{key:"_cloneOperation",get:function(){return this.operations[0]||null}},{key:"_moveOperation",get:function(){return this.operations[1]||null}},{key:"_reverseDeltaClass",get:function(){return j.default}}],[{key:"className",get:function(){return"engine.model.delta.SplitDelta"}},{key:"_priority",get:function(){return 5}}]),t}(s.default);t.default=M,(0,h.register)("split",function(e){var t=new M;this.addDelta(t);var n=e.parent;if(!n.parent)throw new k.default("batch-split-root: Root element can not be split.");var r=new b.default(n.name,n.getAttributes()),o=new m.default(v.default.createAfter(n),r,this.document.version);t.addOperation(o),this.document.applyOperation(o);var i=new w.default(e,n.maxOffset-e.offset,v.default.createFromParentAndOffset(r,0),this.document.version);return i.isSticky=!0,t.addOperation(i),this.document.applyOperation(i),this}),d.default.register(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){var r=f(e,t)||u,o=r(e,t,n);return a(w.default.last(t.operations).baseVersion,o)}function a(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,f=!1,s=void 0;try{for(var c,d=u.operations[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){c.value.baseVersion=++e}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}function u(e,t,n){n=s(e.constructor,t.constructor,n);var r=new e.constructor,o=t.operations,i=[],a=!0,u=!1,l=void 0;try{for(var f,c=e.operations[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var d=f.value,h=[d],p=!0,v=!1,y=void 0;try{for(var _,m=o[Symbol.iterator]();!(p=(_=m.next()).done);p=!0)for(var g=_.value,w=0;w<h.length;w++){var O=h[w];Array.prototype.push.apply(i,(0,b.default)(g,O,!n));var k=(0,b.default)(O,g,n);Array.prototype.splice.apply(h,[w,1].concat(k)),w+=k.length-1}}catch(e){v=!0,y=e}finally{try{!p&&m.return&&m.return()}finally{if(v)throw y}}o=i,i=[];var P=!0,j=!1,M=void 0;try{for(var x,E=h[Symbol.iterator]();!(P=(x=E.next()).done);P=!0){var S=x.value;r.addOperation(S)}}catch(e){j=!0,M=e}finally{try{!P&&E.return&&E.return()}finally{if(j)throw M}}}}catch(e){u=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw l}}return[r]}function l(e,t,n){var r=O.get(e);r||(r=new Map,O.set(e,r)),r.set(t,n)}function f(e,t){var n=O.get(e.constructor);if(!n||!n.get(t.constructor)){var r=O.keys(),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;if(e instanceof f&&O.get(f).get(t.constructor)){n=O.get(f);break}}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}if(n)return n.get(t.constructor)}function s(e,t,n){return e._priority>t._priority||!(e._priority<t._priority)&&n}function c(e,t,n){for(var r=Array.from(e),a=Array.from(t),u=0;u<r.length;u++){for(var l=[r[u]],f=0;f<a.length;f++){for(var s=[a[f]],c=0;c<l.length;c++)for(var p=0;p<s.length;p++){var v=i(l[c],s[p],n),y=i(s[p],l[c],!n);l.splice.apply(l,[c,1].concat(o(v))),c+=v.length-1,s.splice.apply(s,[p,1].concat(o(y))),p+=y.length-1}a.splice.apply(a,[f,1].concat(s)),f+=s.length-1}r.splice.apply(r,[u,1].concat(l)),u+=l.length-1}var b=d(r)-d(e),_=d(a)-d(t);return _<b?h(a,b-_):b<_&&h(r,_-b),{deltasA:r,deltasB:a}}function d(e){return e.reduce(function(e,t){return e+t.operations.length},0)}function h(e,t){for(var n=e[e.length-1],r=n.operations.length+n.baseVersion,o=new v.default,i=0;i<t;i++)o.addOperation(new m.default(r++));e.push(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.defaultTransform=u,t.addTransformationCase=l,t.getTransformationCase=f,t.transformDeltaSets=c;var p=n(19),v=r(p),y=n(308),b=r(y),_=n(69),m=r(_),g=n(475),w=r(g),O=new Map},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(19),f=r(l),s=n(17),c=r(s),d=n(105),h=r(d),p=n(16),v=n(1),y=r(v),b=n(38),_=r(b),m=n(28),g=r(m),w=n(0),O=r(w),k=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"type",get:function(){return"unwrap"}},{key:"position",get:function(){return this._moveOperation?this._moveOperation.targetPosition:null}},{key:"_moveOperation",get:function(){return this.operations[0]||null}},{key:"_reverseDeltaClass",get:function(){return h.default}}],[{key:"className",get:function(){return"engine.model.delta.UnwrapDelta"}},{key:"_priority",get:function(){return 10}}]),t}(f.default);t.default=k,(0,p.register)("unwrap",function(e){if(null===e.parent)throw new O.default("batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.");var t=new k;this.addDelta(t);var n=y.default.createFromParentAndOffset(e,0),r=new g.default(n,e.maxOffset,y.default.createBefore(e),this.document.version);r.isSticky=!0,t.addOperation(r),this.document.applyOperation(r);var o=new _.default(y.default.createBefore(e),1,this.document.version);return t.addOperation(o),this.document.applyOperation(o),this}),c.default.register(k)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(19),f=r(l),s=n(17),c=r(s),d=n(104),h=r(d),p=n(16),v=n(1),y=r(v),b=n(3),_=r(b),m=n(5),g=r(m),w=n(37),O=r(w),k=n(28),P=r(k),j=n(0),M=r(j),x=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"type",get:function(){return"wrap"}},{key:"range",get:function(){var e=this._moveOperation;return e?_.default.createFromPositionAndShift(e.sourcePosition,e.howMany):null}},{key:"howMany",get:function(){var e=this.range;return e?e.end.offset-e.start.offset:0}},{key:"_insertOperation",get:function(){return this.operations[0]||null}},{key:"_moveOperation",get:function(){return this.operations[1]||null}},{key:"_reverseDeltaClass",get:function(){return h.default}}],[{key:"className",get:function(){return"engine.model.delta.WrapDelta"}},{key:"_priority",get:function(){return 10}}]),t}(f.default);t.default=x,(0,p.register)("wrap",function(e,t){if(!e.isFlat)throw new M.default("batch-wrap-range-not-flat: Range to wrap is not flat.");var n=t instanceof g.default?t:new g.default(t);if(n.childCount>0)throw new M.default("batch-wrap-element-not-empty: Element to wrap with is not empty.");if(null!==n.parent)throw new M.default("batch-wrap-element-attached: Element to wrap with is already attached to tree model.");var r=new x;this.addDelta(r);var o=new O.default(e.end,n,this.document.version);r.addOperation(o),this.document.applyOperation(o);var i=y.default.createFromParentAndOffset(n,0),a=new P.default(e.start,e.end.offset-e.start.offset,i,this.document.version);return r.addOperation(a),this.document.applyOperation(a),this}),c.default.register(x)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(32),s=r(f),c=n(3),d=r(c),h=function(e){function t(e,n,r,a,u){o(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return l.name=e,l.oldRange=n?d.default.createFromRange(n):null,l.newRange=r?d.default.createFromRange(r):null,l._markers=a,l}return a(t,e),u(t,[{key:"clone",value:function(){return new t(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.newRange?"set":"remove";return this._markers[e](this.name,this.newRange),{name:this.name,type:e}}},{key:"toJSON",value:function(){var e=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).call(this);return delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,n){return new t(e.name,e.oldRange?d.default.fromJSON(e.oldRange,n):null,e.newRange?d.default.fromJSON(e.newRange,n):null,n.markers,e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.MarkerOperation"}}]),t}(s.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(28),f=r(l),s=n(38),c=r(s),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getReversed",value:function(){return new c.default(this.targetPosition,this.howMany,this.baseVersion+1)}},{key:"position",get:function(){return this.targetPosition},set:function(e){this.targetPosition=e}},{key:"type",get:function(){return"reinsert"}}],[{key:"className",get:function(){return"engine.model.operation.ReinsertOperation"}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),f=r(l),s=n(5),c=r(s),d=n(0),h=r(d),p=n(1),v=r(p),y=function(e){function t(e,n,r,a){o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return u.position=e,u.oldName=n,u.newName=r,u}return a(t,e),u(t,[{key:"clone",value:function(){return new t(v.default.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new t(v.default.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}},{key:"_execute",value:function(){var e=this.position.nodeAfter;if(!(e instanceof c.default))throw new h.default("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.");if(e.name!==this.oldName)throw new h.default("rename-operation-wrong-name: Element to change has different name than operation's old name.");if(this.oldName!=this.newName)return e.name=this.newName,{element:e,oldName:this.oldName}}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,n){return new t(v.default.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.RenameOperation"}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),f=r(l),s=n(0),c=r(s),d=function(e){function t(e,n,r,a,u){o(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return l.root=e,l.key=n,l.oldValue=r,l.newValue=a,l}return a(t,e),u(t,[{key:"clone",value:function(){return new t(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_execute",value:function(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new c.default("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new c.default("rootattribute-operation-attribute-exists: The attribute with given key already exists.",{root:this.root,key:this.key});return null!==this.newValue?this.root.setAttribute(this.key,this.newValue):this.root.removeAttribute(this.key),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,n){if(!n.hasRoot(e.root))throw new c.default("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",{rootName:e});return new t(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"engine.model.operation.RootAttributeOperation"}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){if(this.childCount)return null;for(var e=this.parent;e&&e.is("attributeElement");){if(e.childCount>1)return null;e=e.parent}return!e||e.childCount>1?null:0}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(20),c=r(s),d=10,h=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a.priority=d,a.getFillerOffset=u,a}return a(t,e),l(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?"attributeElement"==e&&n==this.name||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"attributeElement"==e||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}},{key:"clone",value:function(e){var n=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clone",this).call(this,e);return n.priority=this.priority,n}},{key:"isSimilar",value:function(e){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}}]),t}(c.default);t.default=h,h.DEFAULT_PRIORITY=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"string"==typeof e?[new l.default(e)]:((0,d.default)(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new l.default(e):e}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(29),l=r(u),f=n(4),s=r(f),c=n(41),d=r(c),h=n(7),p=r(h),v=function(){function e(t){o(this,e),this._children=[],t&&this.insertChildren(0,t)}return a(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"==e}},{key:"appendChildren",value:function(e){return this.insertChildren(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"insertChildren",value:function(e,t){this._fireChange("children",this);var n=0;t=i(t);var r=!0,o=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=u.value;f.parent=this,this._children.splice(e,0,f),e++,n++}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}},{key:"removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),e}();t.default=v,(0,s.default)(v,p.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(54),u=r(a),l=function(){function e(t,n,r){o(this,e),this.document=t,this.domEvent=n,this.domTarget=n.target,(0,u.default)(this,r)}return i(e,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return!!e.getCustomProperty(l)}function o(e,t){return t=t||{},e.setAttribute("contenteditable",!1),e.getFillerOffset=u,e.addClass(s),e.setCustomProperty(l,!0),t.label&&i(e,t.label),e}function i(e,t){e.setCustomProperty(f,t)}function a(e){var t=e.getCustomProperty(f);return t?"function"==typeof t?t():t:""}function u(){return null}Object.defineProperty(t,"__esModule",{value:!0}),t.isWidget=r,t.widgetize=o,t.setLabel=i,t.getLabel=a;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var l=Symbol("isWidget"),f=Symbol("label"),s=t.WIDGET_CLASS_NAME="ck-widget";t.WIDGET_SELECTED_CLASS_NAME="ck-widget_selected"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r,o){if(r.test(n.input)&&e.schema.check({name:"paragraph",inside:n.context})){var i=new b.default("paragraph");N.add(i),n.context.push(i);var a=o.convertItem(n.input,r,n);a&&(n.output=i,i.appendChildren(a)),n.context.pop()}}function l(e,t,n,r,o){if(F.paragraphLikeElements.has(n.input.name)&&r.test(n.input,{name:!0})&&!s(n.input)&&e.schema.check({name:"paragraph",inside:n.context})){r.consume(n.input,{name:!0});var i=new b.default("paragraph");n.context.push(i);var a=o.convertChildren(n.input,r,n);i.appendChildren(x.default.normalizeNodes(a)),n.context.pop(),n.output=i}}function f(e,t){if(t.output){var n=void 0;for(n=(0,R.default)(t.output)?t.output[0]:t.output.getChild(0);n&&n.nextSibling;){var r=n.nextSibling;N.has(n)&&N.has(r)?(x.default.insert(m.default.createAt(n,"end"),Array.from(r.getChildren())),x.default.remove(w.default.createOn(r))):n=n.nextSibling}}}function s(e){var t=j.default.createIn(e),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.item instanceof k.default&&F.paragraphLikeElements.has(u.item.name))return!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return!1}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(351),h=r(d),p=n(2),v=r(p),y=n(5),b=r(y),_=n(1),m=r(_),g=n(3),w=r(g),O=n(20),k=r(O),P=n(34),j=r(P),M=n(24),x=r(M),E=n(45),S=r(E),T=n(46),C=r(T),A=n(11),R=r(A),F=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"init",value:function(){var e=this.editor,t=e.document,n=e.data,r=e.editing;t.schema.registerItem("paragraph","$block"),(0,S.default)().for(n.modelToView,r.modelToView).fromElement("paragraph").toElement("p"),(0,C.default)().for(n.viewToModel).fromElement("p").toElement("paragraph"),n.viewToModel.on("text",function(e,n,r,o){u(t,e,n,r,o)},{priority:"lowest"}),n.viewToModel.on("element",f,{priority:"lowest"}),n.viewToModel.on("documentFragment",f,{priority:"lowest"}),n.viewToModel.on("element",function(e,n,r,o){l(t,e,n,r,o)},{priority:"low"}),e.commands.set("paragraph",new h.default(e))}}]),t}(v.default);t.default=F,F.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);var N=new WeakSet},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e.focus}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var n=this;if(r(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var o=function(e){var r=t.actions[e];"string"==typeof r&&(r=[r]);var o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;t.keystrokeHandler.set(f,function(t,r){n[e](),r()})}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}};for(var i in t.actions)o(i)}}return i(e,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n||null===t)return null;var r=(t+n+e)%n;do{var i=this.focusables.get(r);if(o(i))return i;r=(r+n+e)%n}while(r!==t);return null}},{key:"first",get:function(){return this.focusables.find(o)||null}},{key:"last",get:function(){return this.focusables.filter(o).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(n,r){var o=n.element===e.focusTracker.focusedElement;return o&&(t=r),o}),t)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.every(function(e){return"string"==typeof e})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(0),c=r(s),d=n(31),h=r(d),p=n(76),v=r(p),y=n(4),b=r(y),_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{idProperty:"viewUid"}));return n.on("add",function(e,t,r){t.element&&n._parentElement&&n._parentElement.insertBefore(t.element,n._parentElement.children[r])}),n.on("remove",function(e,t){t.element&&n._parentElement&&t.element.remove()}),n.locale=e,n.set("ready",!1),n._parentElement=null,n}return a(t,e),l(t,[{key:"init",value:function(){var e=this;if(this.ready)throw new c.default("ui-viewcollection-init-reinit: This ViewCollection has already been initialized.");return Promise.all(this.map(function(e){return e.init()})).then(function(){e.ready=!0})}},{key:"destroy",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(a.destroy())}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return Promise.all(e)}},{key:"add",value:function(e,n){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n);var r=Promise.resolve();return this.ready&&!e.ready&&(r=r.then(function(){return e.init()})),r}},{key:"setParent",value:function(e){this._parentElement=e}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length||!u(n))throw new c.default("ui-viewcollection-delegate-wrong-events: All event names must be strings.");return{to:function(t){var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f=!0,s=!1,c=void 0;try{for(var d,h=n[Symbol.iterator]();!(f=(d=h.next()).done);f=!0){var p=d.value;l.delegate(p).to(t)}}catch(e){s=!0,c=e}finally{try{!f&&h.return&&h.return()}finally{if(s)throw c}}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}e.on("add",function(e,r){var o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;r.delegate(f).to(t)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}),e.on("remove",function(e,r){var o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;r.stopDelegating(f,t)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}})}}}}]),t}(v.default);t.default=_,(0,b.default)(v.default,h.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(459),a=r(i),u=n(460),l=r(u),f=n(461),s=r(f),c=n(462),d=r(c),h=n(463),p=r(h);o.prototype.clear=a.default,o.prototype.delete=l.default,o.prototype.get=s.default,o.prototype.has=d.default,o.prototype.set=p.default,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){this.__data__=new a.default(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(78),a=r(i),u=n(468),l=r(u),f=n(469),s=r(f),c=n(470),d=r(c),h=n(471),p=r(h),v=n(472),y=r(v);o.prototype.clear=l.default,o.prototype.delete=s.default,o.prototype.get=d.default,o.prototype.has=p.default,o.prototype.set=y.default,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=r(o),a=i.default.Symbol;t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return!!e.length&&(0,a.default)(e,t,0)>-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(123),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e,t,n){for(var r=-1,o=e.length;++r<o;)if(n(t,e[r]))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=(0,l.default)(t,e)?[t]:(0,a.default)(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[(0,s.default)(t[n++])];return n&&n==r?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85),a=r(i),u=n(51),l=r(u),f=n(52),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t!==t)return(0,a.default)(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(202),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){for(var r=n?s.default:l.default,o=e[0].length,i=e.length,u=i,f=Array(i),c=1/0,h=[];u--;){var v=e[u];u&&t&&(v=(0,d.default)(v,(0,p.default)(t))),c=b(v.length,c),f[u]=!n&&(t||o>=120&&v.length>=120)?new a.default(u&&v):void 0}v=e[0];var _=-1,m=f[0];e:for(;++_<o&&h.length<c;){var g=v[_],w=t?t(g):g;if(g=n||0!==g?g:0,!(m?(0,y.default)(m,w):r(h,w,n))){for(u=i;--u;){var O=f[u];if(!(O?(0,y.default)(O,w):r(e[u],w,n)))continue e}m&&m.push(w),h.push(g)}}return h}Object.defineProperty(t,"__esModule",{value:!0});var i=n(79),a=r(i),u=n(120),l=r(u),f=n(121),s=r(f),c=n(27),d=r(c),h=n(129),p=r(h),v=n(131),y=r(v),b=Math.min;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i){return e===t||(null==e||null==t||!(0,l.default)(e)&&!(0,s.default)(t)?e!==e&&t!==t:(0,a.default)(e,t,o,n,r,i))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(413),a=r(i),u=n(14),l=r(u),f=n(43),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return function(t){return null==t?void 0:t[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=r?s.default:l.default,i=-1,u=t.length,f=e;for(n&&(f=(0,a.default)(e,(0,d.default)(n)));++i<u;)for(var c=0,h=t[i],v=n?n(h):h;(c=o(f,v,c,r))>-1;)f!==e&&p.call(f,c,1),p.call(e,c,1);return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),a=r(i),u=n(123),l=r(u),f=n(412),s=r(f),c=n(129),d=r(c),h=Array.prototype,p=h.splice;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,u=t!==t,c=null===t,d=(0,a.default)(t),h=void 0===t;o<i;){var p=f((o+i)/2),v=n(e[p]),y=void 0!==v,b=null===v,_=v===v,m=(0,a.default)(v);if(u)var g=r||_;else g=h?_&&(r||y):c?_&&y&&(r||!b):d?_&&y&&!b&&(r||!m):!b&&!m&&(r?v<=t:v<t);g?o=p+1:i=p}return s(i,l)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=r(i),u=4294967295,l=u-1,f=Math.floor,s=Math.min;t.default=o},function(e,t,n){"use strict";function r(e){return function(t){return e(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?(0,a.default)((0,l.default)(i,e[r],t,n),(0,l.default)(e[r],i,t,n)):e[r];return i&&i.length?(0,s.default)(i,t,n):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=r(i),u=n(64),l=r(u),f=n(42),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e,t){return e.has(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e)?e:[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=new e.constructor(e.byteLength);return new a.default(t).set(new a.default(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(188),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var u=t[o],l=r?r(n[u],e[u],u,n,e):e[u];(0,a.default)(n,u,l)}return n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return o(Object(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.getPrototypeOf;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return k.call(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(396),a=r(i),u=n(186),l=r(u),f=n(398),s=r(f),c=n(187),d=r(c),h=n(400),p=r(h),v=n(205),y=r(v),b="[object Map]",_="[object Promise]",m="[object Set]",g="[object WeakMap]",w="[object DataView]",O=Object.prototype,k=O.toString,P=(0,y.default)(a.default),j=(0,y.default)(l.default),M=(0,y.default)(s.default),x=(0,y.default)(d.default),E=(0,y.default)(p.default);(a.default&&o(new a.default(new ArrayBuffer(1)))!=w||l.default&&o(new l.default)!=b||s.default&&o(s.default.resolve())!=_||d.default&&o(new d.default)!=m||p.default&&o(new p.default)!=g)&&(o=function(e){var t=k.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,y.default)(n):void 0;if(r)switch(r){case P:return w;case j:return b;case M:return _;case x:return m;case E:return g}return t}),t.default=o},function(e,t,n){"use strict";function r(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(t){var n=_,r=m;return _=m=void 0,P=t,w=e.apply(r,n)}function o(e){return P=e,O=setTimeout(f,t),j?r(e):w}function i(e){var n=e-k,r=e-P,o=t-n;return M?h(o,g-r):o}function u(e){var n=e-k,r=e-P;return!k||n>=t||n<0||M&&r>=g}function f(){var e=(0,l.default)();if(u(e))return p(e);O=setTimeout(f,i(e))}function p(e){return clearTimeout(O),O=void 0,x&&_?r(e):(_=m=void 0,w)}function v(){void 0!==O&&clearTimeout(O),k=P=0,_=m=O=void 0}function y(){return void 0===O?w:p((0,l.default)())}function b(){var e=(0,l.default)(),n=u(e);if(_=arguments,m=this,k=e,n){if(void 0===O)return o(k);if(M)return clearTimeout(O),O=setTimeout(f,t),r(k)}return void 0===O&&(O=setTimeout(f,t)),w}var _,m,g,w,O,k=0,P=0,j=!1,M=!1,x=!0;if("function"!=typeof e)throw new TypeError(c);return t=(0,s.default)(t)||0,(0,a.default)(n)&&(j=!!n.leading,M="maxWait"in n,g=M?d((0,s.default)(n.maxWait)||0,t):g,x="trailing"in n?!!n.trailing:x),b.cancel=v,b.flush=y,b}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=r(i),u=n(487),l=r(u),f=n(253),s=r(f),c="Expected a function",d=Math.max,h=Math.min;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;return r?(t=n||void 0===t?1:(0,l.default)(t),(0,a.default)(e,t<0?0:t,r)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;return r?(t=n||void 0===t?1:(0,l.default)(t),t=r-t,(0,a.default)(e,0,t<0?0:t)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.length?e[0]:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e)&&f.call(e,"callee")&&(!c.call(e,"callee")||s.call(e)==u)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),u="[object Arguments]",l=Object.prototype,f=l.hasOwnProperty,s=l.toString,c=l.propertyIsEnumerable;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.default)(e)?s.call(e):"";return t==u||t==l}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=r(i),u="[object Function]",l="[object GeneratorFunction]",f=Object.prototype,s=f.toString;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"string"==typeof e||!(0,a.default)(e)&&(0,l.default)(e)&&c.call(e)==f}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=r(i),u=n(43),l=r(u),f="[object String]",s=Object.prototype,c=s.toString;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length&&t&&t.length?(0,a.default)(e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(127),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e||!e.length)return[];var n=(0,s.default)(e);return null==t?n:(0,l.default)(n,function(e){return(0,a.default)(t,void 0,e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(189),a=r(i),u=n(27),l=r(u),f=n(96),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(e){return(0,a.default)(e)?(0,l.default)(e):new Map(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(95),a=r(i),u=n(268),l=r(u)},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=[],o=!0,i=!1,u=void 0;try{for(var f,c=t[Symbol.iterator]();!(o=(f=c.next()).done);o=!0){for(var d=f.value,h=new a.default({boundaries:d,mergeCharacters:!0}),p=h.next(),v=d.start,y=d.start,b=d.end;!p.done;){var _=p.value.item.name||"$text",m=s.default.createBefore(p.value.item);n.check({name:_,inside:m,attributes:e})||(y.isEqual(v)||r.push(new l.default(y,v)),y=h.position),v=h.position,p=h.next()}y&&!y.isEqual(b)&&r.push(new l.default(y,b))}}catch(e){i=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(33),a=r(i),u=n(3),l=r(u),f=n(1),s=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t.isCollapsed)return n.check({name:"$text",inside:t.getFirstPosition(),attributes:e});var r=t.getRanges(),o=!0,i=!1,u=void 0;try{for(var l,f=r[Symbol.iterator]();!(o=(l=f.next()).done);o=!0)for(var s=l.value,c=new a.default({boundaries:s,mergeCharacters:!0}),d=c.position,h=c.next();!h.done;){var p=h.value.item.name||"$text";if(n.check({name:p,inside:d,attributes:e}))return!0;d=c.position,h=c.next()}}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(33),a=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(149),c=r(s),d=n(150),h=r(d),p=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.attributeKey=n,r.set("value",!1),r.listenTo(r.editor.document.selection,"change:attribute",function(){r.value=r.editor.document.selection.hasAttribute(r.attributeKey)}),r}return a(t,e),u(t,[{key:"_checkEnabled",value:function(){var e=this.editor.document;return(0,h.default)(this.attributeKey,e.selection,e.schema)}},{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.document,r=n.selection,o=void 0===t.forceValue?!this.value:t.forceValue;n.enqueueChanges(function(){if(r.isCollapsed)o?r.setAttribute(e.attributeKey,!0):r.removeAttribute(e.attributeKey);else{var i=(0,c.default)(e.attributeKey,r.getRanges(),n.schema),a=t.batch||n.batch(),u=!0,l=!1,f=void 0;try{for(var s,d=i[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var h=s.value;o?a.setAttribute(h,e.attributeKey,o):a.removeAttribute(h,e.attributeKey)}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}}})}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=r(a),l=n(3),f=r(l),s=n(25),c=r(s),d=n(34),h=r(d),p=n(29),v=r(p),y=n(7),b=r(y),_=n(4),m=r(_),g=function(){function e(){o(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map}return i(e,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);this._unbindElements(t,e)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._unbindElements(e,t)}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new f.default(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new h.default(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,modelPosition:this._defaultToModelPosition(e),mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"_defaultToViewPosition",value:function(e){var t=this._modelToViewMapping.get(e.parent);return this._findPositionIn(t,e.offset)}},{key:"toViewPosition",value:function(e){var t={viewPosition:this._defaultToViewPosition(e),modelPosition:e,mapper:this};return this.fire("modelToViewPosition",t),t.viewPosition}},{key:"_defaultToModelPosition",value:function(e){for(var t=e.parent,n=this._viewToModelMapping.get(t);!n;)t=t.parent,n=this._viewToModelMapping.get(t);var r=this._toModelOffset(e.parent,e.offset,t);return u.default.createFromParentAndOffset(n,r)}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e){return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e)}if(e.is("text"))return t;for(var r=0,o=0;o<t;o++)r+=this.getModelLength(e.getChild(o));return r}},{key:"_unbindElements",value:function(e,t){this._viewToModelMapping.delete(t),this._modelToViewMapping.delete(e)}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name)){return this._viewToModelLengthCallbacks.get(e.name)(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=e.getChildren()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t+=this.getModelLength(u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"_findPositionIn",value:function(e,t){var n=void 0,r=0,o=0,i=0;if(e.is("text"))return new c.default(e,t);for(;o<t;)n=e.getChild(i),r=this.getModelLength(n),o+=r,i++;return o==t?this._moveViewPositionToTextNode(new c.default(e,i)):this._findPositionIn(n,t-(o-r))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof v.default?new c.default(t,t.data.length):n instanceof v.default?new c.default(n,0):e}}]),e}();t.default=g,(0,m.default)(g,b.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e,t,n,r){var o=t.selection;if(!o.isCollapsed&&n.consume(o,"selection")){r.viewSelection.removeAllRanges();var i=!0,a=!1,u=void 0;try{for(var l,f=o.getRanges()[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value,c=r.mapper.toViewRange(s);r.viewSelection.addRange(c,o.isBackward)}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}}}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(){return function(e,t,n,r){var o=t.selection;if(o.isCollapsed&&n.consume(o,"selection")){var i=o.getFirstPosition(),a=r.mapper.toViewPosition(i),u=y.default.breakAttributes(a);r.viewSelection.removeAllRanges(),r.viewSelection.addRange(new p.default(u,u))}}}function a(e){return function(t,n,r,o){var i=e instanceof d.default?e.clone(!0):e(n.value,n,n.selection,r,o);if(i){var a="selectionAttribute:"+n.key;l(n.selection,o.viewSelection,i,r,a)}}}function u(e){return function(t,n,r,o){var i=e instanceof d.default?e.clone(!0):e(n,r,o);if(i){var a="selectionMarker:"+n.name;l(n.selection,o.viewSelection,i,r,a)}}}function l(e,t,n,r,o){if(e.isCollapsed&&r.consume(e,o)){var i=t.getFirstPosition();i=y.default.wrapPosition(i,n),t.removeAllRanges(),t.addRange(new p.default(i,i))}}function f(){return function(e,t,n,r){var o=!0,i=!1,a=void 0;try{for(var u,l=r.viewSelection.getRanges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.isCollapsed&&f.end.parent.document&&y.default.mergeAttributes(f.start)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}r.viewSelection.removeAllRanges()}}function s(){return function(e,t,n,r){return r.viewSelection.setFake(!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertRangeSelection=o,t.convertCollapsedSelection=i,t.convertSelectionAttribute=a,t.convertSelectionMarker=u,t.clearAttributes=f,t.clearFakeSelection=s;var c=n(20),d=r(c),h=n(34),p=r(h),v=n(75),y=r(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(294),u=r(a),l=n(3),f=r(l),s=n(1),c=r(s),d=n(47),h=r(d),p=n(7),v=r(p),y=n(4),b=r(y),_=n(54),m=r(_),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this._modelDocument=t,this.conversionApi=(0,m.default)({dispatcher:this},n)}return i(e,[{key:"convertChange",value:function(e,t){"remove"!==e&&t.range&&"$graveyard"==t.range.root.rootName||"remove"==e&&"$graveyard"==t.sourcePosition.root.rootName||"rename"==e&&"$graveyard"==t.element.root.rootName||("insert"==e||"reinsert"==e?this.convertInsertion(t.range):"move"==e?this.convertMove(t.sourcePosition,t.range):"remove"==e?this.convertRemove(t.sourcePosition,t.range):"addAttribute"==e||"removeAttribute"==e||"changeAttribute"==e?this.convertAttribute(e,t.range,t.key,t.oldValue,t.newValue):"rename"==e&&this.convertRename(t.element,t.oldName))}},{key:"convertInsertion",value:function(e){var t=this._createInsertConsumable(e),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=u.item,s=f.default.createFromPositionAndShift(u.previousPosition,u.length),c={item:l,range:s};this._testAndFire("insert",c,t);var d=!0,h=!1,p=void 0;try{for(var v,y=l.getAttributeKeys()[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;c.attributeKey=b,c.attributeOldValue=null,c.attributeNewValue=l.getAttribute(b),this._testAndFire("addAttribute:"+b,c,t)}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var _=!0,m=!1,g=void 0;try{for(var w,O=this._modelDocument.markers[Symbol.iterator]();!(_=(w=O.next()).done);_=!0){var k=w.value,P=k.getRange();P.containsPosition(e.start)&&this.convertMarker("addMarker",k.name,P.getIntersection(e)),(e.containsRange(P)||e.isEqual(P))&&this.convertMarker("addMarker",k.name,P)}}catch(e){m=!0,g=e}finally{try{!_&&O.return&&O.return()}finally{if(m)throw g}}}},{key:"convertMove",value:function(e,t){this.convertRemove(e,t),this.convertInsertion(t)}},{key:"convertRemove",value:function(e,t){var n=this._createConsumableForRange(t,"remove"),r=!0,o=!1,i=void 0;try{for(var a,u=t.getItems({shallow:!0})[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f={sourcePosition:e,item:l};this._testAndFire("remove",f,n)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"convertAttribute",value:function(e,t,n,r,o){var i=this._createConsumableForRange(t,e+":"+n),a=!0,u=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var d=s.value,h=d.item,p=f.default.createFromPositionAndShift(d.previousPosition,d.length),v={item:h,range:p,attributeKey:n,attributeOldValue:r,attributeNewValue:o};this._testAndFire(e+":"+n,v,i)}}catch(e){u=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw l}}}},{key:"convertRename",value:function(e,t){var n=e.clone(!0);n.name=t,this.conversionApi.mapper.bindElements(n,this.conversionApi.mapper.toViewElement(e)),(new h.default).appendChildren(n),this.convertRemove(c.default.createBefore(e),f.default.createOn(n)),this.convertInsertion(f.default.createOn(e))}},{key:"convertSelection",value:function(e){var t=Array.from(this._modelDocument.markers.getMarkersAtPosition(e.getFirstPosition())),n=this._createSelectionConsumable(e,t);this.fire("selection",{selection:e},n,this.conversionApi);var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f={selection:e,name:l.name};n.test(e,"selectionMarker:"+l.name)&&this.fire("selectionMarker:"+l.name,f,n,this.conversionApi)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}var s=!0,c=!1,d=void 0;try{for(var h,p=e.getAttributeKeys()[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,y={selection:e,key:v,value:e.getAttribute(v)};n.test(e,"selectionAttribute:"+y.key)&&this.fire("selectionAttribute:"+y.key,y,n,this.conversionApi)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}}},{key:"convertMarker",value:function(e,t,n){if(n.root.document&&"$graveyard"!=n.root.rootName){var r=this._createMarkerConsumable(e,n),o={name:t,range:n};this.fire(e+":"+t,o,r,this.conversionApi)}}},{key:"_createInsertConsumable",value:function(e){var t=new u.default,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,f=l.item;t.add(f,"insert");var s=!0,c=!1,d=void 0;try{for(var h,p=f.getAttributeKeys()[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;t.add(f,"addAttribute:"+v)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"_createConsumableForRange",value:function(e,t){var n=new u.default,r=!0,o=!1,i=void 0;try{for(var a,l=e.getItems()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var f=a.value;n.add(f,t)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}},{key:"_createSelectionConsumable",value:function(e,t){var n=new u.default;n.add(e,"selection");var r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var f=a.value;n.add(e,"selectionMarker:"+f.name)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}var s=!0,c=!1,d=void 0;try{for(var h,p=e.getAttributeKeys()[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;n.add(e,"selectionAttribute:"+v)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}return n}},{key:"_createMarkerConsumable",value:function(e,t){var n=new u.default;return n.add(t,e),n}},{key:"_testAndFire",value:function(e,t,n){if(n.test(t.item,e)){var r=t.item.name||"$text";this.fire(e+":"+r,t,n,this.conversionApi)}}}]),e}();t.default=g,(0,b.default)(g,v.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(299),u=r(a),l=n(161),f=r(l),s=n(58),c=function(){function e(){o(this,e),this._domParser=new DOMParser,this._domConverter=new f.default({blockFiller:s.NBSP_FILLER}),this._htmlWriter=new u.default}return i(e,[{key:"toData",value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:"_toDom",value:function(e){for(var t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;r.length>0;)n.appendChild(r[0]);return n}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){r instanceof k.default?f(e,e.document,t,n,r):l(e,e.document,t,n,r)}function l(e,t,n,r,o){var i=o.getAttribute(n),a=void 0,u=void 0,l=o.is("rootElement")?new j:new P;e.addDelta(l),i!=r&&(o.is("rootElement")?u=new m.default(o,n,i,r,t.version):(a=o.is("element")?new k.default(w.default.createBefore(o),w.default.createFromParentAndOffset(o,0)):new k.default(w.default.createBefore(o),w.default.createAfter(o)),u=new b.default(a,n,i,r,t.version)),l.addOperation(u),t.applyOperation(u))}function f(e,t,n,r,o){function i(){var e=new k.default(u,l),o=new b.default(e,n,f,r,t.version);a.addOperation(o),t.applyOperation(o)}var a=new P;e.addDelta(a);var u=o.start,l=void 0,f=void 0,s=void 0,c=!0,d=!1,h=void 0;try{for(var p,v=o[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;s=y.item.getAttribute(n),l&&f!=s&&(f!=r&&i(),u=l),l=y.nextPosition,f=s}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}l instanceof w.default&&l!=u&&f!=r&&i()}Object.defineProperty(t,"__esModule",{value:!0}),t.RootAttributeDelta=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(19),d=r(c),h=n(17),p=r(h),v=n(16),y=n(68),b=r(y),_=n(109),m=r(_),g=n(1),w=r(g),O=n(3),k=r(O),P=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"type",get:function(){return"attribute"}},{key:"key",get:function(){return this.operations[0]?this.operations[0].key:null}},{key:"value",get:function(){return this.operations[0]?this.operations[0].newValue:null}},{key:"range",get:function(){if(this._range)return this._range;var e=null,t=null,n=!0,r=!1,o=void 0;try{for(var i,a=this.operations[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;(null===e||e.isAfter(u.range.start))&&(e=u.range.start),(null===t||t.isBefore(u.range.end))&&(t=u.range.end)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e&&t?(this._range=new k.default(e,t),this._range):null}},{key:"_reverseDeltaClass",get:function(){return t}}],[{key:"className",get:function(){return"engine.model.delta.AttributeDelta"}},{key:"_priority",get:function(){return 20}}]),t}(d.default);t.default=P;var j=t.RootAttributeDelta=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,null,[{key:"className",get:function(){return"engine.model.delta.RootAttributeDelta"}}]),t}(d.default);(0,v.register)("setAttribute",function(e,t,n){return u(this,t,n,e),this}),(0,v.register)("removeAttribute",function(e,t){return u(this,t,null,e),this}),p.default.register(P),p.default.register(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){t.addOperation(n),e.document.applyOperation(n)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(19),s=r(f),c=n(17),d=r(c),h=n(16),p=n(108),v=r(p),y=n(5),b=r(y),_=n(1),m=r(_),g=n(0),w=r(g),O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"type",get:function(){return"rename"}},{key:"_reverseDeltaClass",get:function(){return t}}],[{key:"className",get:function(){return"engine.model.delta.RenameDelta"}}]),t}(s.default);t.default=O,(0,h.register)("rename",function(e,t){if(!(e instanceof b.default))throw new w.default("batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.");var n=new O;return this.addDelta(n),u(this,n,new v.default(m.default.createBefore(e),e.name,t,this.document.version)),this}),d.default.register(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(98),f=r(l),s=n(16),c=n(17),d=r(c),h=n(37),p=r(h),v=n(24),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"className",get:function(){return"engine.model.delta.WeakInsertDelta"}}]),t}(f.default);t.default=y,(0,s.register)("weakInsert",function(e,t){var n=new y;this.addDelta(n),t=(0,v.normalizeNodes)(t);var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){a.value.setAttributesTo(this.document.selection.getAttributes())}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}var l=new p.default(e,t,this.document.version);return n.addOperation(l),this.document.applyOperation(l),this}),d.default.register(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e=this,t=new Set(["insert","move","remove","reinsert"]);this.listenTo(this.root.document,"change",function(n,r,o){t.has(r)&&l.call(e,r,o.range,o.sourcePosition)},{priority:"high"})}function l(e,t,n){var r=t.end.offset-t.start.offset,o=void 0;switch(e){case"insert":var i="sticksToNext"==this.stickiness;o=this._getTransformedByInsertion(t.start,r,i);break;case"move":case"remove":case"reinsert":var a=h.default.createFromPositionAndShift(n,r);if(a.containsPosition(this)||a.start.isEqual(this)&&"sticksToNext"==this.stickiness||a.end.isEqual(this)&&"sticksToPrevious"==this.stickiness)o=this._getCombined(n,t.start);else{var u="sticksToNext"==this.stickiness;o=this._getTransformedByMove(n,t.start,r,u)}}if(!this.isEqual(o)){var l=c.default.createFromPosition(this);this.path=o.path,this.root=o.root,this.fire("change",l)}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),d=n(3),h=r(d),p=n(7),v=r(p),y=n(4),b=r(y),_=n(0),m=r(_),g=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(!a.root.is("rootElement"))throw new m.default("model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.");return a.stickiness=r||"sticksToNext",u.call(a),a}return a(t,e),f(t,[{key:"detach",value:function(){this.stopListening()}}]),t}(c.default);t.default=g,(0,b.default)(g,v.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e=this,t=new Set(["insert","move","remove","reinsert"]);this.listenTo(this.root.document,"change",function(n,r,o,i,a){t.has(r)&&l.call(e,r,a,o.range,o.sourcePosition)},{priority:"high"})}function l(e,t,n,r){var o=n.end.offset-n.start.offset,i=n.start;"move"==e&&(i=i._getTransformedByInsertion(r,o));var a=this._getTransformedByDocumentChange(e,t,i,o,r);"move"==e&&3==a.length&&(a[2]=n);var u=c.default.createFromRanges(a);if(!u.isEqual(this)){var l=c.default.createFromRange(this);this.start=u.start,this.end=u.end,this.fire("change",l)}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),d=n(7),h=r(d),p=n(4),v=r(p),y=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return u.call(r),r}return a(t,e),f(t,[{key:"detach",value:function(){this.stopListening()}}]),t}(c.default);t.default=y,(0,v.default)(y,h.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){var r=(0,j.default)(e);return n&&(r=r.slice(r.indexOf(n)+1)),r.some(function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(29),l=r(u),f=n(20),s=r(f),c=n(25),d=r(c),h=n(34),p=r(h),v=n(73),y=r(v),b=n(111),_=r(b),m=n(74),g=r(m),w=n(58),O=n(386),k=r(O),P=n(184),j=r(P),M=n(383),x=r(M),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.blockFiller=t.blockFiller||w.BR_FILLER,this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return a(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,y.default.createFromSelection(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.is("text")){var r=this._processDataFromViewText(e);return t.createTextNode(r)}if(this.getCorrespondingDom(e))return this.getCorrespondingDom(e);var o=void 0;if(e.is("documentFragment"))o=t.createDocumentFragment(),n.bind&&this.bindDocumentFragments(o,e);else{o=t.createElement(e.name),n.bind&&this.bindElements(o,e);var i=!0,a=!1,u=void 0;try{for(var l,f=e.getAttributeKeys()[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value;o.setAttribute(s,e.getAttribute(s))}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}}if(n.withChildren||void 0===n.withChildren){var c=!0,d=!1,h=void 0;try{for(var p,v=this.viewChildrenToDom(e,t,n)[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;o.appendChild(y)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}return o}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,l,f,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getFillerOffset&&t.getFillerOffset(),o=0,i=!0,a=!1,u=void 0,e.prev=5,l=t.getChildren()[Symbol.iterator]();case 7:if(i=(f=l.next()).done){e.next=18;break}if(s=f.value,r!==o){e.next=12;break}return e.next=12,this.blockFiller(n);case 12:return e.next=14,this.viewToDom(s,n,c);case 14:o++;case 15:i=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),a=!0,u=e.t0;case 24:e.prev=24,e.prev=25,!i&&l.return&&l.return();case 27:if(e.prev=27,!a){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(r!==o){e.next=35;break}return e.next=35,this.blockFiller(n);case 35:case"end":return e.stop()}},e,this,[[5,20,24,32],[25,,27,31]])})},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=new Range;return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}},{key:"viewPositionToDom",value:function(e){var t=e.parent;if(t.is("text")){var n=this.getCorrespondingDomText(t);if(!n)return null;var r=e.offset;return(0,w.startsWithFiller)(n)&&(r+=w.INLINE_FILLER_LENGTH),{parent:n,offset:r}}var o=void 0,i=void 0,a=void 0;if(0===e.offset){if(!(o=this.getCorrespondingDom(e.parent)))return null;a=o.childNodes[0]}else{if(!(i=this.getCorrespondingDom(e.nodeBefore)))return null;o=i.parentNode,a=i.nextSibling}return this.isText(a)&&(0,w.startsWithFiller)(a)?{parent:a,offset:w.INLINE_FILLER_LENGTH}:{parent:o,offset:i?(0,k.default)(i)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,w.isBlockFiller)(e,this.blockFiller))return null;if(this.isText(e)){if((0,w.isInlineFiller)(e))return null;var n=this._processDataFromDomText(e);return""===n?null:new l.default(n)}if(this.getCorrespondingView(e))return this.getCorrespondingView(e);var r=void 0;if(this.isDocumentFragment(e))r=new _.default,t.bind&&this.bindDocumentFragments(e,r);else{var o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();r=new s.default(o),t.bind&&this.bindElements(e,r);for(var i=e.attributes,a=i.length-1;a>=0;a--)r.setAttribute(i[a].name,i[a].value)}if(t.withChildren||void 0===t.withChildren){var u=!0,f=!1,c=void 0;try{for(var d,h=this.domChildrenToView(e,t)[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value;r.appendChildren(p)}}catch(e){f=!0,c=e}finally{try{!u&&h.return&&h.return()}finally{if(f)throw c}}}return r}},{key:"domChildrenToView",value:regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.childNodes.length)){e.next=10;break}if(r=t.childNodes[n],null===(o=this.domToView(r,i))){e.next=7;break}return e.next=7,o;case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}},e,this)})},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;this.isText(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var r=new y.default,o=this.isDomSelectionBackward(e),i=0;i<e.rangeCount;i++){var a=e.getRangeAt(i),u=this.domRangeToView(a);u&&r.addRange(u,o)}return r}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new p.default(t,n):null}},{key:"domPositionToView",value:function(e,t){if((0,w.isBlockFiller)(e,this.blockFiller))return this.domPositionToView(e.parentNode,(0,k.default)(e));if(this.isText(e)){if((0,w.isInlineFiller)(e))return this.domPositionToView(e.parentNode,(0,k.default)(e));var n=this.getCorrespondingViewText(e),r=t;return n?((0,w.startsWithFiller)(e)&&(r-=w.INLINE_FILLER_LENGTH,r=r<0?0:r),new d.default(n,r)):null}if(0===t){var o=this.getCorrespondingView(e);if(o)return new d.default(o,0)}else{var i=this.getCorrespondingView(e.childNodes[t-1]);if(i&&i.parent)return new d.default(i.parent,i.index+1)}return null}},{key:"getCorrespondingView",value:function(e){return this.isElement(e)?this.getCorrespondingViewElement(e):this.isDocumentFragment(e)?this.getCorrespondingViewDocumentFragment(e):this.isText(e)?this.getCorrespondingViewText(e):null}},{key:"getCorrespondingViewElement",value:function(e){return this._domToViewMapping.get(e)}},{key:"getCorrespondingViewDocumentFragment",value:function(e){return this._domToViewMapping.get(e)}},{key:"getCorrespondingViewText",value:function(e){if((0,w.isInlineFiller)(e))return null;var t=e.previousSibling;if(t){if(!this.isElement(t))return null;var n=this.getCorrespondingViewElement(t);if(n){return n.nextSibling instanceof l.default?n.nextSibling:null}}else{var r=this.getCorrespondingViewElement(e.parentNode);if(r){var o=r.getChild(0);return o instanceof l.default?o:null}}return null}},{key:"getCorrespondingDom",value:function(e){return e instanceof s.default?this.getCorrespondingDomElement(e):e instanceof _.default?this.getCorrespondingDomDocumentFragment(e):e instanceof l.default?this.getCorrespondingDomText(e):null}},{key:"getCorrespondingDomElement",value:function(e){return this._viewToDomMapping.get(e)}},{key:"getCorrespondingDomDocumentFragment",value:function(e){return this._viewToDomMapping.get(e)}},{key:"getCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.getCorrespondingDom(t)?this.getCorrespondingDom(t).nextSibling:!t&&e.parent&&this.getCorrespondingDom(e.parent)?this.getCorrespondingDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.getCorrespondingDomElement(e);t&&t.ownerDocument.activeElement!==t&&t.focus()}},{key:"isText",value:function(e){return e&&e.nodeType==Node.TEXT_NODE}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=new Range;t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var n=t.collapsed;return t.detach(),n}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return n;var r=this._getTouchingViewTextNode(e,!1),o=this._getTouchingViewTextNode(e,!0),i=n.match(/ *$/)[0],a=n.substr(0,n.length-i.length);if(r&&" "!=r.data.charAt(r.data.length-1)||(a=a.replace(/^ /,"")),a=a.replace(/  /g," "),i.length>0){var u=!1;o?" "!=o.data.charAt(0)&&""!=o.data.charAt(0)||i.length%2==0&&(u=!0):i.length%2&&(u=!0),u&&(i=""+i.substr(0,i.length-1)),i=i.replace(/  /g," ")}return a+i}},{key:"_getTouchingViewTextNode",value:function(e,t){if(!e.parent)return null;var n=new g.default({startPosition:t?d.default.createAfter(e):d.default.createBefore(e),direction:t?"forward":"backward"}),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.item.is("containerElement"))return null;if(l.item.is("text"))return l.item}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return null}},{key:"_processDataFromDomText",value:function(e){var t=(0,w.getDataWithoutFiller)(e);if(i(e,this.preElements))return t;t=t.replace(/[^\S\u00A0]{2,}/g," ");var n=this._getTouchingDomTextNode(e,!1),r=this._getTouchingDomTextNode(e,!0);return n&&!/[^\S\u00A0]/.test(n.data.charAt(n.data.length-1))||(t=t.replace(/^ /,"")),r||(t=t.replace(/ $/,"")),t=t.replace(/ \u00A0/g,"  "),n&&!/[^\S\u00A0]/.test(n.data.charAt(n.data.length-1))||(t=t.replace(/^\u00A0/," ")),r&&""!=r.data.charAt(0)||(t=t.replace(/\u00A0( *)$/," $1")),t}},{key:"_getTouchingDomTextNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"nextNode":"previousNode",r=e.ownerDocument,o=r.createTreeWalker(r.childNodes[0],NodeFilter.SHOW_TEXT);o.currentNode=e;var a=o[n]();if(null!==a){var u=(0,x.default)(e,a);if(u&&!i(e,this.blockElements,u)&&!i(a,this.blockElements,u))return a}return null}}]),e}();t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return null}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(20),c=r(s),d=n(0),h=r(d),p=n(72),v=r(p),y=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a.getFillerOffset=u,a}return a(t,e),l(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?"emptyElement"==e&&n==this.name||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"emptyElement"==e||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}},{key:"insertChildren",value:function(e,t){if(t&&(t instanceof v.default||Array.from(t).length>0))throw new h.default("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.")}}]),t}(c.default);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=i(t.name,e.name),!n.name)?null:t.attribute&&(n.attribute=a(t.attribute,e),!n.attribute)?null:!(t.class&&(n.class=u(t.class,e),!n.class))&&(!(t.style&&(n.style=l(t.style,e),!n.style))&&n)}function i(e,t){return e instanceof RegExp?e.test(t):e===t}function a(e,t){var n=[];for(var r in e){var o=e[r];if(!t.hasAttribute(r))return null;var i=t.getAttribute(r);if(o instanceof RegExp){if(!o.test(i))return null;n.push(r)}else{if(i!==o)return null;n.push(r)}}return n}function u(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l instanceof RegExp){var f=t.getClassNames(),s=!0,c=!1,d=void 0;try{for(var h,p=f[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;l.test(v)&&n.push(v)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}if(0===n.length)return null}else{if(!t.hasClass(l))return null;n.push(l)}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}function l(e,t){var n=[];for(var r in e){var o=e[r];if(!t.hasStyle(r))return null;var i=t.getStyle(r);if(o instanceof RegExp){if(!o.test(i))return null;n.push(r)}else{if(i!==o)return null;n.push(r)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this._patterns=[],this.add.apply(this,arguments)}return f(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;("string"==typeof l||l instanceof RegExp)&&(l={name:l}),l.class&&("string"==typeof l.class||l.class instanceof RegExp)&&(l.class=[l.class]),this._patterns.push(l)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"match",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=!0,a=!1,u=void 0;try{for(var l,f=n[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value,c=!0,d=!1,h=void 0;try{for(var p,v=this._patterns[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value,e=o(s,y);if(e)return{element:s,pattern:y,match:e}}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=!0,a=!1,u=void 0;try{for(var l,f=n[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value,c=!0,d=!1,h=void 0;try{for(var p,v=this._patterns[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value,b=o(s,y);b&&e.push({element:s,pattern:y,match:b})}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(48),s=r(f),c=n(73),d=r(c),h=n(58),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},n.domConverter=e.domConverter,n.renderer=e.renderer,n._domElements=[],n._mutationObserver=new window.MutationObserver(n._onMutations.bind(n)),n}return a(t,e),u(t,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enable",this).call(this);var e=!0,n=!1,r=void 0;try{for(var o,i=this._domElements[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this._mutationObserver.observe(a,this._config)}}catch(e){n=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"disable",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t=this.domConverter,n=new Map,r=new Set,o=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;if("childList"===f.type){var s=t.getCorrespondingViewElement(f.target);s&&r.add(s)}}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}var c=!0,p=!1,v=void 0;try{for(var y,b=e[Symbol.iterator]();!(c=(y=b.next()).done);c=!0){var _=y.value;if("characterData"===_.type){var m=t.getCorrespondingViewText(_.target);m&&!r.has(m.parent)?n.set(m,{type:"text",oldText:m.data,newText:(0,h.getDataWithoutFiller)(_.target),node:m}):!m&&(0,h.startsWithFiller)(_.target)&&r.add(t.getCorrespondingViewElement(_.target.parentNode))}}}catch(e){p=!0,v=e}finally{try{!c&&b.return&&b.return()}finally{if(p)throw v}}var g=[],w=!0,O=!1,k=void 0;try{for(var P,j=n.values()[Symbol.iterator]();!(w=(P=j.next()).done);w=!0){var M=P.value;this.renderer.markToSync("text",M.node),g.push(M)}}catch(e){O=!0,k=e}finally{try{!w&&j.return&&j.return()}finally{if(O)throw k}}var x=!0,E=!1,S=void 0;try{for(var T,C=r[Symbol.iterator]();!(x=(T=C.next()).done);x=!0){var A=T.value,R=t.getCorrespondingDomElement(A),F=A.getChildren(),N=t.domChildrenToView(R);this.renderer.markToSync("children",A),g.push({type:"children",oldChildren:Array.from(F),newChildren:Array.from(N),node:A})}}catch(e){E=!0,S=e}finally{try{!x&&C.return&&C.return()}finally{if(E)throw S}}var V=e[0].target.ownerDocument.getSelection(),I=null;if(V&&V.anchorNode){var D=t.domPositionToView(V.anchorNode,V.anchorOffset),B=t.domPositionToView(V.focusNode,V.focusOffset);D&&B&&(I=new d.default,I.collapse(D),I.setFocus(B))}this.document.fire("mutations",g,I),this.document.render()}}}]),t}(s.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(71),s=r(f),c=Symbol("rootName"),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rootName="main",n}return a(t,e),u(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?"rootElement"==e&&n==this.name||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"rootElement"==e||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}},{key:"rootName",get:function(){return this.getCustomProperty(c)},set:function(e){this.setCustomProperty(c,e)}}]),t}(s.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return null}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(20),c=r(s),d=n(0),h=r(d),p=n(72),v=r(p),y=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return a.getFillerOffset=u,a}return a(t,e),l(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?"uiElement"==e&&n==this.name||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"uiElement"==e||f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}},{key:"insertChildren",value:function(e,t){if(t&&(t instanceof v.default||Array.from(t).length>0))throw new h.default("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.")}}]),t}(c.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return new _.default("figure",{class:"image"},new g.default("img"))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createImageViewElement=u;var f=n(2),s=r(f),c=n(45),d=r(c),h=n(170),p=r(h),v=n(327),y=n(40),b=n(39),_=r(b),m=n(162),g=r(m),w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){var e=this.editor,t=e.document,n=t.schema,r=e.data,o=e.editing,i=e.t;n.registerItem("image"),n.requireAttributes("image",["src"]),n.allow({name:"image",attributes:["alt","src"],inside:"$root"}),n.objects.add("image"),(0,d.default)().for(r.modelToView).fromElement("image").toElement(function(){return u()}),(0,d.default)().for(o.modelToView).fromElement("image").toElement(function(){return(0,y.toImageWidget)(u(),i("image widget"))}),(0,v.createImageAttributeConverter)([o.modelToView,r.modelToView],"src"),(0,v.createImageAttributeConverter)([o.modelToView,r.modelToView],"alt"),r.viewToModel.on("element:figure",(0,v.viewToModelImage)())}}],[{key:"requires",get:function(){return[p.default]}}]),t}(s.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(489),s=r(f),c=n(60),d=r(c),h=n(179),p=r(h),v=n(40),y=p.default.arrowVerticalOffset,b={south:function(e,t){return{top:e.bottom+y,left:e.left+e.width/2-t.width/2,name:"s"}},north:function(e,t){return{top:e.top-t.height-y,left:e.left+e.width/2-t.width/2,name:"n"}}},_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.locale));n.editor=e;var r=e.editing.view;return n.listenTo(e.ui.focusTracker,"change:isFocused",function(e,t,r,o){o&&!r&&n.detach()}),e.listenTo(r,"render",function(){var e=r.selection.getSelectedElement();e&&(0,v.isImageWidget)(e)||n.detach()},{priority:"low"}),n._throttledAttach=(0,s.default)(function(){n._attach()},100),n}return a(t,e),u(t,[{key:"init",value:function(){return this.editor.ui.focusTracker.add(this.element),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"attach",value:function(){this._attach(),this.editor.ui.view.listenTo(d.default.window,"scroll",this._throttledAttach),this.editor.ui.view.listenTo(d.default.window,"resize",this._throttledAttach)}},{key:"detach",value:function(){this.hide(),this.editor.ui.view.stopListening(d.default.window,"scroll",this._throttledAttach),this.editor.ui.view.stopListening(d.default.window,"resize",this._throttledAttach)}},{key:"_attach",value:function(){var e=this.editor.editing.view;this.attachTo({target:e.domConverter.viewRangeToDom(e.selection.getFirstRange()),positions:[b.north,b.south]})}}]),t}(p.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),f=r(l),s=n(2),c=r(s),d=n(180),h=r(d),p=n(40),v=n(168),y=r(v),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.set("image.defaultToolbar",[]),n.isEnabled=!0,n}return a(t,e),u(t,[{key:"afterInit",value:function(){var e=this,t=this.editor,n=t.config.get("image.toolbar")||t.config.get("image.defaultToolbar");if(n.length){var r=this._panel=new y.default(t),o=[],i=new h.default;return f.default.extend(r.template,{attributes:{class:["ck-toolbar__container"]}}),o.push(r.content.add(i)),o.push(i.fillFromConfig(n,t.ui.componentFactory)),o.push(t.ui.view.body.add(r)),this.listenTo(this.editor.editing.view,"render",function(){e.isEnabled&&e.show()},{priority:"low"}),this.listenTo(t.ui.focusTracker,"change:isFocused",function(t,n,r,o){!o&&r&&e.isEnabled&&e.show()}),Promise.all(o)}}},{key:"show",value:function(){var e=this.editor.editing.view.selection.getSelectedElement();e&&(0,p.isImageWidget)(e)&&this._panel.attach()}},{key:"hide",value:function(){this._panel.detach()}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(113),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=void 0;this.editor.editing.modelToView.on("selection",function(t,n,r,o){e&&e.hasClass(s.WIDGET_SELECTED_CLASS_NAME)&&e.removeClass(s.WIDGET_SELECTED_CLASS_NAME);var i=o.viewSelection,a=i.getSelectedElement();a&&(0,s.isWidget)(a)&&(i.setFake(!0,{label:(0,s.getLabel)(a)}),a.addClass(s.WIDGET_SELECTED_CLASS_NAME),e=a)},{priority:"low"})}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(e,t){return new u.default(i(e,t,!0),i(e,t,!1))}function i(e,t,n){for(var r=e.textNode||(n?e.nodeBefore:e.nodeAfter),o=null;r&&r.getAttribute("linkHref")==t;)o=r,r=n?r.previousSibling:r.nextSibling;return o?f.default.createAt(o,n?"before":"after"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),u=r(a),l=n(1),f=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(110),l=r(u),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(l.default);t.default=f},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return Array.from(e.getAncestors()).find(function(e){return"listItem"==e.name})||null}Object.defineProperty(t,"__esModule",{value:!0}),t.getClosestListItem=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(182),u=r(a),l=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;o(this,e),this.document=t,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=function(e,t,r,o){n._onBatch(o)},this._selectionChangeCallback=function(){n._reset()},t.on("change",this._changeCallback),t.selection.on("change:range",this._selectionChangeCallback),t.selection.on("change:attribute",this._selectionChangeCallback)}return i(e,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.document.off("change",this._changeCallback),this.document.selection.off("change:range",this._selectionChangeCallback),this.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_onBatch",value:function(e){"transparent"!=e.type&&e!==this._batch&&(0,u.default)(e.getOperations())<=1&&this._reset(!0)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.document.batch()),this._batch}}]),e}();t.default=l},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=e.emitter,n=e.activator,r=e.callback,o=e.contextElement;t.listenTo(document,"mouseup",function(e,t){var i=t.target;n()&&!o.contains(i)&&r()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=e.view;t.listenTo(t.element,"submit",function(e,n){n.preventDefault(),t.fire("submit")},{useCapture:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),f=r(l),s=n(6),c=r(s),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.set("value"),n.set("id");var r=n.bindTemplate;return n.template=new c.default({tag:"input",attributes:{type:"text",class:["ck-input","ck-input-text"],id:r.to("id")}}),n.on("change:value",function(e,t,r){return n.element.value=r||""}),n}return a(t,e),u(t,[{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),f=r(l),s=n(6),c=r(s),d=n(66),h=r(d),p=n(370),v=r(p),y=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a="ck-input-"+(0,h.default)();return r.set("label"),r.set("value"),r.labelView=r._createLabelView(a),r.inputView=r._createInputView(n,a),r.template=new c.default({tag:"div",children:[r.labelView,r.inputView]}),r}return a(t,e),u(t,[{key:"_createLabelView",value:function(e){var t=new v.default(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createInputView",value:function(e,t){var n=new e(this.locale);return n.id=t,n.bind("value").to(this),n}},{key:"select",value:function(){this.inputView.select()}},{key:"focus",value:function(){this.inputView.focus()}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),f=r(l),s=n(6),c=r(s),d=n(389),h=n(185),p=r(h),v=(0,p.default)("px"),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.bindTemplate;return n.set("top",0),n.set("left",0),n.set("position","se"),n.set("isVisible",!1),n.content=n.createCollection(),n.template=new c.default({tag:"div",attributes:{class:["ck-balloon-panel",r.to("position",function(e){return"ck-balloon-panel_arrow_"+e}),r.if("isVisible","ck-balloon-panel_visible")],style:{top:r.to("top",v),left:r.to("left",v),maxWidth:r.to("maxWidth",v)},tabindex:-1},children:n.content}),n}return a(t,e),u(t,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var n=t.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.se,n.sw,n.ne,n.nw],limiter:document.body,fitInViewport:!0},e),o=(0,d.getOptimalPosition)(r),i=o.top,a=o.left,u=o.name;Object.assign(this,{top:i,left:a,position:u})}}]),t}(f.default);t.default=y,y.arrowHorizontalOffset=30,y.arrowVerticalOffset=15,y.defaultPositions={se:function(e){return{top:e.bottom+y.arrowVerticalOffset,left:e.left+e.width/2-y.arrowHorizontalOffset,name:"se"}},sw:function(e,t){return{top:e.bottom+y.arrowVerticalOffset,left:e.left+e.width/2-t.width+y.arrowHorizontalOffset,name:"sw"}},ne:function(e,t){return{top:e.top-t.height-y.arrowVerticalOffset,left:e.left+e.width/2-y.arrowHorizontalOffset,name:"ne"}},nw:function(e,t){return{top:e.top-t.height-y.arrowVerticalOffset,left:e.left+e.width/2-t.width+y.arrowHorizontalOffset,name:"nw"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=n(61),p=r(h),v=n(115),y=r(v),b=n(62),_=r(b),m=n(376),g=r(m),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.items=n.createCollection(),n.focusTracker=new p.default,n.keystrokes=new _.default,n._focusCycler=new y.default({focusables:n.items,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),n.template=new d.default({tag:"div",attributes:{class:["ck-toolbar"]},children:n.items}),n.items.on("add",function(e,t){n.focusTracker.add(t.element)}),n.items.on("remove",function(e,t){n.focusTracker.remove(t.element)}),n}return a(t,e),u(t,[{key:"init",value:function(){return this.keystrokes.listenTo(this.element),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"fillFromConfig",value:function(e,t){var n=this;return e?Promise.all(e.map(function(e){var r="|"==e?new g.default:t.create(e);return n.items.add(r)})):Promise.resolve()}}]),t}(s.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=f([e],t);n.sort(function(e,t){return e.start.isBefore(t.start)?-1:1});for(var r=1;r<n.length;r++){var o=n[r-1],i=n[r];o.end.isTouching(i.start)&&(o.end=i.end,n.splice(r,1),r--)}return n}function f(e,t){var n=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,f=!0,s=!1,c=void 0;try{for(var d,h=l.operations[Symbol.iterator]();!(f=(d=h.next()).done);f=!0)for(var p=d.value,v=0;v<e.length;v++){var y=void 0;switch(p.type){case"insert":y=e[v]._getTransformedByInsertion(p.position,p.nodes.maxOffset,!0);break;case"move":case"remove":case"reinsert":y=e[v]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany,!0)}y&&(e.splice.apply(e,[v,1].concat(o(y))),v=v+y.length-1)}}catch(e){s=!0,c=e}finally{try{!f&&h.return&&h.return()}finally{if(s)throw c}}}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.transformRangesByDeltas=f;var c=n(12),d=r(c),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._stack=[],n._createdBatches=new WeakSet,n.refreshState(),n}return u(t,e),s(t,[{key:"addBatch",value:function(e){var t={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:e,selection:t}),this.refreshState()}},{key:"clearStack",value:function(){this._stack=[],this.refreshState()}},{key:"_checkEnabled",value:function(){return this._stack.length>0}},{key:"_restoreSelection",value:function(e,t,n){var r=this.editor.document,o=[],i=!0,a=!1,u=void 0;try{for(var f,s=e[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value,d=l(c,n),h=d.find(function(e){return e.start.root!=r.graveyard});h&&o.push(h)}}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}o.length&&r.selection.setRanges(o,t)}}]),t}(d.default);t.default=h},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value;t++}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t,n){function r(r){var a=(void 0!==c[r-1]?c[r-1]:-1)+1,f=void 0!==c[r+1]?c[r+1]:-1,d=a>f?-1:1;s[r+d]&&(s[r]=s[r+d].slice(0)),s[r]||(s[r]=[]),s[r].push(a>f?o:i);for(var h=Math.max(a,f),p=h-r;p<u&&h<l&&n(e[p],t[h]);)p++,h++,s[r].push("equal");return h}n=n||function(e,t){return e===t};var o=void 0,i=void 0;if(t.length<e.length){var a=e;e=t,t=a,o="delete",i="insert"}else o="insert",i="delete";var u=e.length,l=t.length,f=l-u,s={},c={},d=0,h=void 0;do{for(h=-d;h<f;h++)c[h]=r(h);for(h=f+d;h>f;h--)c[h]=r(h);c[f]=r(f),d++}while(c[f]!==l);return s[f].slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return function(t){return t+e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(30),u=r(a),l=(0,i.default)(u.default,"Map");t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(30),u=r(a),l=(0,i.default)(u.default,"Set");t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=r(o),a=i.default.Uint8Array;t.default=a},function(e,t,n){"use strict";function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i,u,f){var c;if(r&&(c=u?r(e,i,u,f):r(e)),void 0!==c)return c;if(!(0,V.default)(e))return e;var h=(0,T.default)(e);if(h){if(c=(0,P.default)(e),!t)return(0,y.default)(e,c)}else{var v=(0,O.default)(e),b=v==L||v==q;if((0,A.default)(e))return(0,p.default)(e,t);if(v==W||v==B||b&&!u){if((0,F.default)(e))return u?e:{};if(c=(0,E.default)(b?{}:e),!t)return(0,_.default)(e,(0,d.default)(c,e))}else{if(!z[v])return u?e:{};c=(0,M.default)(e,v,o,t)}}f||(f=new a.default);var m=f.get(e);if(m)return m;if(f.set(e,c),!h)var w=n?(0,g.default)(e):(0,D.default)(e);return(0,l.default)(w||e,function(i,a){w&&(a=i,i=e[a]),(0,s.default)(c,a,o(i,t,n,r,a,e,f))}),c}Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),a=r(i),u=n(403),l=r(u),f=n(63),s=r(f),c=n(405),d=r(c),h=n(425),p=r(h),v=n(198),y=r(v),b=n(433),_=r(b),m=n(439),g=r(m),w=n(136),O=r(w),k=n(448),P=r(k),j=n(449),M=r(j),x=n(450),E=r(x),S=n(11),T=r(S),C=n(480),A=r(C),R=n(87),F=r(R),N=n(14),V=r(N),I=n(65),D=r(I),B="[object Arguments]",L="[object Function]",q="[object GeneratorFunction]",W="[object Object]",z={};z[B]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z[W]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z[L]=z["[object WeakMap]"]=!1,t.default=o},function(e,t,n){"use strict";function r(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return f.call(e,t)||"object"==(void 0===e?"undefined":i(e))&&t in e&&null===(0,u.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(135),u=r(a),l=Object.prototype,f=l.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if((0,l.default)(o))_.call(e,o,1);else if((0,s.default)(o,e))delete e[(0,y.default)(o)];else{var u=(0,a.default)(o),f=(0,p.default)(e,u);null!=f&&delete f[(0,y.default)((0,d.default)(u))]}}}return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85),a=r(i),u=n(36),l=r(u),f=n(51),s=r(f),c=n(18),d=r(c),h=n(464),p=r(h),v=n(52),y=r(v),b=Array.prototype,_=b.splice;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],l=t?t(u):u;if(!n||!(0,a.default)(l,f)){var f=l;i[o++]=0===u?0:u}}return i}Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var u=r<i?t[r]:void 0;n(a,e[r],u)}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i){var u=o&s,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=i.get(e);if(h)return h==t;var p=-1,v=!0,y=o&f?new a.default:void 0;for(i.set(e,t);++p<c;){var b=e[p],_=t[p];if(r)var m=u?r(_,b,p,t,e,i):r(b,_,p,e,t,i);if(void 0!==m){if(m)continue;v=!1;break}if(y){if(!(0,l.default)(t,function(e,t){if(!y.has(t)&&(b===e||n(b,e,r,o,i)))return y.add(t)})){v=!1;break}}else if(b!==_&&!n(b,_,r,o,i)){v=!1;break}}return i.delete(e),v}Object.defineProperty(t,"__esModule",{value:!0});var i=n(79),a=r(i),u=n(404),l=r(u),f=1,s=2;t.default=o},function(e,t,n){"use strict";function r(e){return o(Object(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.getOwnPropertySymbols;o||(r=function(){return[]}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e?e.length:void 0;return(0,d.default)(t)&&((0,s.default)(e)||(0,p.default)(e)||(0,l.default)(e))?(0,a.default)(t,String):null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(196),a=r(i),u=n(142),l=r(u),f=n(11),s=r(f),c=n(94),d=r(c),h=n(144),p=r(h);t.default=o},function(e,t,n){"use strict";function r(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e===e&&!(0,a.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}Object.defineProperty(t,"__esModule",{value:!0});var o=Function.prototype.toString;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){t=(n?(0,l.default)(e,t,n):void 0===t)?1:d((0,s.default)(t),0);var r=e?e.length:0;if(!r||t<1)return[];for(var o=0,i=0,u=Array(c(r/t));o<r;)u[i++]=(0,a.default)(e,o,o+=t);return u}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(88),l=r(u),f=n(15),s=r(f),c=Math.ceil,d=Math.max;t.default=o},function(e,t,n){"use strict";function r(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?(0,a.default)((0,d.default)(n)?(0,s.default)(n):[n],(0,l.default)(t,1)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=r(i),u=n(22),l=r(u),f=n(198),s=r(f),c=n(11),d=r(c);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(64),i=r(o),a=n(22),u=r(a),l=n(13),f=r(l),s=n(8),c=r(s),d=(0,c.default)(function(e,t){return(0,f.default)(e)?(0,i.default)(e,(0,u.default)(t,1,f.default,!0)):[]});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(64),i=r(o),a=n(22),u=r(a),l=n(10),f=r(l),s=n(13),c=r(s),d=n(18),h=r(d),p=n(8),v=r(p),y=(0,v.default)(function(e,t){var n=(0,h.default)(t);return(0,c.default)(n)&&(n=void 0),(0,c.default)(e)?(0,i.default)(e,(0,u.default)(t,1,c.default,!0),(0,f.default)(n)):[]});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(64),i=r(o),a=n(22),u=r(a),l=n(13),f=r(l),s=n(18),c=r(s),d=n(8),h=r(d),p=(0,h.default)(function(e,t){var n=(0,c.default)(t);return(0,f.default)(n)&&(n=void 0),(0,f.default)(e)?(0,i.default)(e,(0,u.default)(t,1,f.default,!0),void 0,n):[]});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t,3),!0,!0):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(84),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t,3),!0):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(84),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&(0,l.default)(e,t,n)&&(n=0,r=o),(0,a.default)(e,t,n,r)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(409),a=r(i),u=n(88),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,a.default)(e,(0,l.default)(t,3)):-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(192),a=r(i),u=n(10),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,a.default)(e,(0,l.default)(t,3),!0):-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(192),a=r(i),u=n(10),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(141);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(e?e.length:0)?(0,a.default)(e,1):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(e?e.length:0)?(0,a.default)(e,u):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=r(i),u=1/0;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(e?e.length:0)?(t=void 0===t?1:(0,l.default)(t),(0,a.default)(e,t)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=null==e?void 0:(0,a.default)(e,t);return void 0===r?n:r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(122),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;return r?(n=(0,l.default)(n),n<0&&(n=f(r+n,0)),(0,a.default)(e,t,n)):-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(123),a=r(i),u=n(15),l=r(u),f=Math.max;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e,1)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(140),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),i=r(o),a=n(124),u=r(a),l=n(132),f=r(l),s=n(8),c=r(s),d=(0,c.default)(function(e){var t=(0,i.default)(e,f.default);return t.length&&t[0]===e[0]?(0,u.default)(t):[]});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),i=r(o),a=n(124),u=r(a),l=n(10),f=r(l),s=n(132),c=r(s),d=n(18),h=r(d),p=n(8),v=r(p),y=(0,v.default)(function(e){var t=(0,h.default)(e),n=(0,i.default)(e,c.default);return t===(0,h.default)(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?(0,u.default)(n,(0,f.default)(t)):[]});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),i=r(o),a=n(124),u=r(a),l=n(132),f=r(l),s=n(18),c=r(s),d=n(8),h=r(d),p=(0,h.default)(function(e){var t=(0,c.default)(e),n=(0,i.default)(e,f.default);return t===(0,c.default)(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?(0,u.default)(n,void 0,t):[]});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return!!(0,s.default)(e)&&((0,a.default)(e)||(0,l.default)(e)?_:p).test((0,d.default)(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(143),a=r(i),u=n(87),l=r(u),f=n(14),s=r(f),c=n(205),d=r(c),h=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,v=Object.prototype,y=Function.prototype.toString,b=v.hasOwnProperty,_=RegExp("^"+y.call(b).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.default=o},function(e,t,n){"use strict";function r(e,t){return e?i.call(e,t):""}Object.defineProperty(t,"__esModule",{value:!0});var o=Array.prototype,i=o.join;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if(void 0!==n&&(o=(0,l.default)(n),o=(o<0?f(r+o,0):s(o,r-1))+1),t!==t)return(0,a.default)(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(202),a=r(i),u=n(15),l=r(u),f=Math.max,s=Math.min;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,a.default)(e,(0,l.default)(t)):void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(419),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(145),i=r(o),a=n(8),u=r(a),l=(0,u.default)(i.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e&&e.length&&t&&t.length?(0,l.default)(e,t,(0,a.default)(n)):e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(127),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e&&e.length&&t&&t.length?(0,a.default)(e,t,void 0,n):e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(127),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),i=r(o),a=n(406),u=r(a),l=n(22),f=r(l),s=n(194),c=r(s),d=n(432),h=r(d),p=n(36),v=r(p),y=n(8),b=r(y),_=(0,b.default)(function(e,t){t=(0,f.default)(t,1);var n=e?e.length:0,r=(0,u.default)(e,t);return(0,c.default)(e,(0,i.default)(t,function(e){return(0,v.default)(e,n)?+e:e}).sort(h.default)),r});t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=(0,a.default)(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return(0,l.default)(e,o),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(194),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e?i.call(e):e}Object.defineProperty(t,"__esModule",{value:!0});var o=Array.prototype,i=o.reverse;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&(0,l.default)(e,t,n)?(t=0,n=r):(t=null==t?0:(0,s.default)(t),n=void 0===n?r:(0,s.default)(n)),(0,a.default)(e,t,n)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(88),l=r(u),f=n(15),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return(0,l.default)(e,t,(0,a.default)(n))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(128),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e?e.length:0;if(n){var r=(0,a.default)(e,t);if(r<n&&(0,l.default)(e[r],t))return r}return-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),a=r(i),u=n(53),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(e,t,!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return(0,l.default)(e,t,(0,a.default)(n),!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(128),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e?e.length:0){var n=(0,a.default)(e,t,!0)-1;if((0,l.default)(e[n],t))return n}return-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),a=r(i),u=n(53),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e&&e.length?(0,a.default)(e):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(195),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(195),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e,1)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(139),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e&&e.length?(t=n||void 0===t?1:(0,l.default)(t),(0,a.default)(e,0,t<0?0:t)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e?e.length:0;return r?(t=n||void 0===t?1:(0,l.default)(t),t=r-t,(0,a.default)(e,t<0?0:t,r)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=r(i),u=n(15),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t,3),!1,!0):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(84),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t,3)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(84),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("number"==typeof e)return e;if((0,s.default)(e))return c;if((0,l.default)(e)){var t=(0,a.default)(e.valueOf)?e.valueOf():e;e=(0,l.default)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||v.test(e)?y(e.slice(2),n?2:8):h.test(e)?c:+e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(143),a=r(i),u=n(14),l=r(u),f=n(44),s=r(f),c=NaN,d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,y=parseInt;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=r(o),a=n(42),u=r(a),l=n(13),f=r(l),s=n(8),c=r(s),d=(0,c.default)(function(e){return(0,u.default)((0,i.default)(e,1,f.default,!0))});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=r(o),a=n(10),u=r(a),l=n(42),f=r(l),s=n(13),c=r(s),d=n(18),h=r(d),p=n(8),v=r(p),y=(0,v.default)(function(e){var t=(0,h.default)(e);return(0,c.default)(t)&&(t=void 0),(0,f.default)((0,i.default)(e,1,c.default,!0),(0,u.default)(t))});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=r(o),a=n(42),u=r(a),l=n(13),f=r(l),s=n(18),c=r(s),d=n(8),h=r(d),p=(0,h.default)(function(e){var t=(0,c.default)(e);return(0,f.default)(t)&&(t=void 0),(0,u.default)((0,i.default)(e,1,f.default,!0),void 0,t)});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e&&e.length?(0,a.default)(e):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,l.default)(e,(0,a.default)(t)):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=r(i),u=n(42),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&e.length?(0,a.default)(e,void 0,t):[]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(64),i=r(o),a=n(13),u=r(a),l=n(8),f=r(l),s=(0,f.default)(function(e,t){return(0,u.default)(e)?(0,i.default)(e,t):[]});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(80),i=r(o),a=n(130),u=r(a),l=n(13),f=r(l),s=n(8),c=r(s),d=(0,c.default)(function(e){return(0,u.default)((0,i.default)(e,f.default))});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(80),i=r(o),a=n(10),u=r(a),l=n(130),f=r(l),s=n(13),c=r(s),d=n(18),h=r(d),p=n(8),v=r(p),y=(0,v.default)(function(e){var t=(0,h.default)(e);return(0,c.default)(t)&&(t=void 0),(0,f.default)((0,i.default)(e,c.default),(0,u.default)(t))});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(80),i=r(o),a=n(130),u=r(a),l=n(13),f=r(l),s=n(18),c=r(s),d=n(8),h=r(d),p=(0,h.default)(function(e){var t=(0,c.default)(e);return(0,f.default)(t)&&(t=void 0),(0,u.default)((0,i.default)(e,f.default),void 0,t)});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=r(o),a=n(96),u=r(a),l=(0,i.default)(u.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,l.default)(e||[],t||[],a.default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),a=r(i),u=n(197),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,l.default)(e||[],t||[],a.default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(421),a=r(i),u=n(197),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=r(o),a=n(146),u=r(a),l=(0,i.default)(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,(0,u.default)(e,n)});t.default=l},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function o(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}function i(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}function a(e,t){return o(e.charAt(t-1))&&i(e.charAt(t))}function u(e,t){return r(e.charAt(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.isCombiningMark=r,t.isHighSurrogateHalf=o,t.isLowSurrogateHalf=i,t.isInsideSurrogatePair=a,t.isInsideCombinedSymbol=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(284),s=r(f),c=n(155),d=r(c),h=n(286),p=r(h),v=n(287),y=r(v),b=n(393),_=r(b);n(!function(){var e=new Error('Cannot find module "../theme/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var m=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.document.createRoot(),r.data.processor=new d.default,r.ui=new p.default(r,new y.default(r.locale)),r._elementReplacer=new _.default,r}return a(t,e),u(t,[{key:"destroy",value:function(){var e=this;return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",e).call(e)})}}],[{key:"create",value:function(e,n){return new Promise(function(r){var o=new t(e,n);r(o.initPlugins().then(function(){return o._elementReplacer.replace(e,o.ui.view.element)}).then(function(){return o.ui.init()}).then(function(){return o.fire("uiReady")}).then(function(){return o.editing.view.attachDomRoot(o.ui.view.editableElement)}).then(function(){return o.loadDataFromEditorElement()}).then(function(){o.fire("dataReady"),o.fire("ready")}).then(function(){return o}))})}}]),t}(s.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(352),c=r(s),d=n(114),h=r(d),p=n(273),v=r(p),y=n(323),b=r(y),_=n(326),m=r(_),g=n(328),w=r(g),O=n(331),k=r(O),P=n(169),j=r(P),M=n(275),x=r(M),E=n(340),S=r(E),T=n(347),C=r(T),A=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"requires",get:function(){return[c.default,h.default,v.default,b.default,m.default,w.default,k.default,j.default,x.default,S.default,C.default]}}]),t}(f.default);t.default=A},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(274),c=r(s),d=n(26),h=r(d),p=n(!function(){var e=new Error('Cannot find module "../theme/icons/bold.svg"');throw e.code="MODULE_NOT_FOUND",e}()),v=r(p),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,r=t.commands.get("bold"),o="CTRL+B";t.ui.componentFactory.add("bold",function(i){var a=new h.default(i);return a.set({label:n("Bold"),icon:v.default,keystroke:o,tooltip:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",function(){return t.execute("bold")}),a}),t.keystrokes.set(o,"bold")}}],[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(45),c=r(s),d=n(46),h=r(d),p=n(151),v=r(p),y="bold",b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.data,n=e.editing;e.document.schema.allow({name:"$inline",attributes:[y]}),(0,c.default)().for(t.modelToView,n.modelToView).fromAttribute(y).toElement("strong"),(0,h.default)().for(t.viewToModel).fromElement("strong").fromElement("b").fromAttribute("style",{"font-weight":"bold"}).toAttribute(y,!0),e.commands.set(y,new v.default(e,y))}}]),t}(f.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(276),c=r(s),d=n(26),h=r(d),p=n(!function(){var e=new Error('Cannot find module "../theme/icons/italic.svg"');throw e.code="MODULE_NOT_FOUND",e}()),v=r(p),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,r=t.commands.get("italic"),o="CTRL+I";t.ui.componentFactory.add("italic",function(i){var a=new h.default(i);return a.set({label:n("Italic"),icon:v.default,keystroke:o,tooltip:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),e.listenTo(a,"execute",function(){return t.execute("italic")}),a}),t.keystrokes.set(o,"italic")}}],[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(45),c=r(s),d=n(46),h=r(d),p=n(151),v=r(p),y="italic",b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.data,n=e.editing;e.document.schema.allow({name:"$inline",attributes:[y]}),(0,c.default)().for(t.modelToView,n.modelToView).fromAttribute(y).toElement("em"),(0,h.default)().for(t.viewToModel).fromElement("em").fromElement("i").fromAttribute("style",{"font-style":"italic"}).toAttribute(y,!0),e.commands.set(y,new v.default(e,y))}}]),t}(f.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(278),c=r(s),d=n(281),h=r(d),p=n(280),v=r(p),y=n(155),b=r(y),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.document,r=t.editing.view;this._htmlDataProcessor=new b.default,r.addObserver(c.default),this.listenTo(r,"paste",function(t,n){var o=n.dataTransfer,i="";o.getData("text/html")?i=(0,v.default)(o.getData("text/html")):o.getData("text/plain")&&(i=(0,h.default)(o.getData("text/plain"))),i=e._htmlDataProcessor.toView(i),n.preventDefault(),r.fire("clipboardInput",{dataTransfer:o,content:i})},{priority:"low"}),this.listenTo(r,"clipboardInput",function(t,r){if(!r.content.isEmpty){var o=e.editor.data,i=o.toModel(r.content,"$clipboardHolder");n.enqueueChanges(function(){o.insertContent(i,n.selection)})}},{priority:"low"});var o=function(e,o){var i=o.dataTransfer,a=t.data.toView(t.data.getSelectedContent(n.selection));o.preventDefault(),r.fire("clipboardOutput",{dataTransfer:i,content:a,method:e.name})};this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",o,{priority:"low"}),this.listenTo(r,"clipboardOutput",function(r,o){o.content.isEmpty||o.dataTransfer.setData("text/html",e._htmlDataProcessor.toData(o.content)),"cut"==o.method&&n.enqueueChanges(function(){t.data.deleteContent(n.selection,n.batch(),{merge:!0})})},{priority:"low"})}}]),t}(f.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(59),f=r(l),s=n(279),c=r(s),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType=["paste","copy","cut"],n}return a(t,e),u(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{dataTransfer:new c.default(e.clipboardData)})}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._native=t}return o(e,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}}]),e}();t.default=i},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return e.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,function(e,t){return 1==t.length?" ":t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n\n/g,"</p><p>").replace(/\n/g," ").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),e.indexOf("</p><p>")>-1&&(e="<p>"+e+"</p>"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(62),s=r(f),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.editor=e,n}return a(t,e),u(t,[{key:"set",value:function(e,n){var r=this;if("string"==typeof n){var o=n;n=function(){r.editor.execute(o)}}l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n)}},{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",function(e,n){t.press(n)&&n.preventDefault()})}}]),t}(s.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),u=r(a),l=n(381),f=r(l),s=n(285),c=r(s),d=n(494),h=r(d),p=n(288),v=r(p),y=n(303),b=r(y),_=n(0),m=r(_),g=n(4),w=r(g),O=function(){function e(t){o(this,e);var n=this.constructor.build&&this.constructor.build.plugins;this.buildConfig=new f.default(t,this.constructor.build&&this.constructor.build.config),this.config.define("plugins",n),this.plugins=new c.default(this,n),this.commands=new Map,this.locale=new h.default(this.config.get("lang")),this.t=this.locale.t,this.document=new b.default,this.data=new v.default(this.document)}return i(e,[{key:"initPlugins",value:function e(){function t(){return r.plugins.load(o.get("plugins")||[])}function e(e,t){return e.reduce(function(e,n){return e.then(n[t].bind(n))},Promise.resolve())}var n=this,r=this,o=this.config;return t().then(function(t){return e(t,"init").then(function(){return e(t,"afterInit")})}).then(function(){return n.fire("pluginsReady")})}},{key:"destroy",value:function(){var e=this;return this.fire("destroy"),this.stopListening(),Promise.resolve().then(function(){e.document.destroy(),e.data.destroy()})}},{key:"execute",value:function(e,t){var n=this.commands.get(e);if(!n)throw new m.default("editor-command-not-found: Specified command has not been added to the editor.");n._execute(t)}}],[{key:"create",value:function(e){var t=this;return new Promise(function(n){var r=new t(e);n(r.initPlugins().then(function(){r.fire("dataReady"),r.fire("ready")}).then(function(){return r}))})}}]),e}();t.default=O,(0,w.default)(O,u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(283),s=r(f),c=n(282),d=r(c),h=n(290),p=r(h),v=n(384),y=r(v),b=n(392),_=r(b),m=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.element=e,r.editing=new p.default(r.document),r.keystrokes=new d.default(r),r.keystrokes.listenTo(r.editing.view),r}return a(t,e),u(t,[{key:"destroy",value:function(){var e=this;return Promise.resolve().then(function(){return e.keystrokes.destroy()}).then(function(){return e.editing.destroy()}).then(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this))}},{key:"setData",value:function(e){this.data.set(e)}},{key:"getData",value:function(){return this.data.get()}},{key:"updateEditorElement",value:function(){(0,_.default)(this.element,this.getData())}},{key:"loadDataFromEditorElement",value:function(){this.setData((0,y.default)(this.element))}}],[{key:"create",value:function(e,t){var n=this;return new Promise(function(r){var o=new n(e,t);r(o.initPlugins().then(function(){o.fire("dataReady"),o.fire("ready")}).then(function(){return o}))})}}]),t}(s.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=r(a),l=n(0),f=r(l),s=n(55),c=r(s),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,e),this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;var r=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=u.value;this._availablePlugins.set(f,f),f.pluginName&&this._availablePlugins.set(f.pluginName,f)}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}}return i(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this._plugins[Symbol.iterator]();case 5:if(t=(i=o.next()).done){e.next=13;break}if(a=i.value,"function"!=typeof a[0]){e.next=10;break}return e.next=10,a;case 10:t=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),n=!0,r=e.t0;case 19:e.prev=19,e.prev=20,!t&&o.return&&o.return();case 22:if(e.prev=22,!n){e.next=25;break}throw r;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:"get",value:function(e){return this._plugins.get(e)}},{key:"load",value:function(e){function t(e){if(!y.includes(e)&&!s.get(e)&&!h.has(e))return n(e).catch(function(t){throw c.default.error("plugincollection-load: It was not possible to load the plugin.",{plugin:e}),t})}function n(e){return new Promise(function(n){h.add(e),o(e),e.requires&&e.requires.forEach(function(n){var o=r(n);if(l.includes(o))throw new f.default("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",{plugin:o,requiredBy:e});t(o)});var i=new e(d);s._add(e,i),p.push(i),n()})}function r(e){return"function"==typeof e?e:s._availablePlugins.get(e)}function o(e){if(!(e.prototype instanceof u.default))throw new f.default("plugincollection-instance: The loaded plugin module is not an instance of Plugin.",{plugin:e})}function i(e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;r(l)||t.push(l)}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t.length?t:null}function a(e){return e.map(function(e){return r(e)}).filter(function(e){return!!e})}var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this,d=this._editor,h=new Set,p=[],v=a(e),y=a(l),b=i(e);if(b){var _="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return c.default.error(_,{plugins:b}),Promise.reject(new f.default(_,{plugins:b}))}return Promise.all(v.map(t)).then(function(){return p})}},{key:"_add",value:function(e,t){this._plugins.set(e,t),e.pluginName&&this._plugins.set(e.pluginName,t)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(360),u=r(a),l=n(61),f=r(l),s=n(374),c=r(s),d=function(){function e(t,n){o(this,e),this.editor=t,this.view=n,this.componentFactory=new u.default(t),this.focusTracker=new f.default,n.set("width",t.config.get("ui.width")),n.set("height",t.config.get("ui.height")),n.toolbar.bind("isActive").to(this.focusTracker,"isFocused"),n.toolbar.limiterElement=n.element;var r=t.editing.createRoot("div");n.editable.bind("isReadOnly").to(r),n.editable.bind("isFocused").to(t.editing.view),n.editable.name=r.rootName,this.focusTracker.add(n.editableElement)}return i(e,[{key:"init",value:function(){var e=this,t=this.editor;return this.view.init().then(function(){return e.view.toolbar.fillFromConfig(t.config.get("toolbar"),e.componentFactory)}).then(function(){(0,c.default)({origin:t.editing.view,originFocusTracker:e.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.view.toolbar})})}},{key:"destroy",value:function(){return this.view.destroy()}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(367),f=r(l),s=n(366),c=r(s),d=n(375),h=r(d),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toolbar=new h.default(e),n.editable=new c.default(e),n.top.add(n.toolbar),n.main.add(n.editable),n}return a(t,e),u(t,[{key:"editableElement",get:function(){return this.editable.element}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),u=r(a),l=n(7),f=r(l),s=n(152),c=r(s),d=n(154),h=r(d),p=n(97),v=n(298),y=r(v),b=n(296),_=n(111),m=r(_),g=n(3),w=r(g),O=n(1),k=r(O),P=n(292),j=r(P),M=n(289),x=r(M),E=n(293),S=r(E),T=n(291),C=r(T),A=function(){function e(t,n){var r=this;o(this,e),this.model=t,this.processor=n,this.mapper=new c.default,this.modelToView=new h.default(this.model,{mapper:this.mapper}),this.modelToView.on("insert:$text",(0,p.insertText)(),{priority:"lowest"}),this.viewToModel=new y.default({schema:t.schema}),this.viewToModel.on("text",(0,b.convertText)(),{priority:"lowest"}),this.viewToModel.on("element",(0,b.convertToModelFragment)(),{priority:"lowest"}),this.viewToModel.on("documentFragment",(0,b.convertToModelFragment)(),{priority:"lowest"}),this.on("insertContent",function(e,t){return(0,j.default)(r,t.content,t.selection,t.batch)}),this.on("deleteContent",function(e,t){return(0,x.default)(t.selection,t.batch,t.options)}),this.on("modifySelection",function(e,t){return(0,S.default)(r,t.selection,t.options)}),this.on("getSelectedContent",function(e,t){t.content=(0,C.default)(t.selection)})}return i(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.stringify(this.model.getRoot(e))}},{key:"stringify",value:function(e){var t=this.toView(e);return this.processor.toData(t)}},{key:"toView",value:function(e){var t=w.default.createIn(e),n=new m.default;return this.mapper.bindElements(e,n),this.modelToView.convertInsertion(t),this.mapper.clearBindings(),n}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r=this.model.getRoot(n);this.model.enqueueChanges(function(){t.model.selection.removeAllRanges(),t.model.selection.clearAttributes(),t.model.batch("transparent").remove(w.default.createIn(r)).insert(k.default.createAt(r,0),t.parse(e))})}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.viewToModel.convert(e,{context:[t]})}},{key:"destroy",value:function(){}},{key:"insertContent",value:function(e,t,n){this.fire("insertContent",{content:e,selection:t,batch:n})}},{key:"deleteContent",value:function(e,t,n){this.fire("deleteContent",{batch:t,selection:e,options:n})}},{key:"modifySelection",value:function(e,t){this.fire("modifySelection",{selection:e,options:t})}},{key:"getSelectedContent",value:function(e){var t={selection:e};return this.fire("getSelectedContent",t),t.content}}]),e}();t.default=A,(0,u.default)(A,f.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isCollapsed){var r=e.getFirstRange(),o=r.start,u=f.default.createFromPosition(r.end);if(r.start.isTouching(r.end)||t.remove(r),n.merge&&i(t,o,u),e.collapse(o),a(t.document,o)){var l=new h.default("paragraph");t.insert(o,l),e.collapse(l)}u.detach()}}function i(e,t,n){var r=n.path,o=Math.min(t.path.length-1,r.length-1),i=(0,v.default)(t.path,r);if("number"==typeof i)for(;i<o;i++){var a=t.path.slice(0,i);a.push(t.path[i]+1);var l=new c.default(n.root,a),f=l.nodeBefore,s=l.nodeAfter;if(!u(f)||!u(s))return;s.childCount>0?e.merge(l):e.remove(s)}}function a(e,t){var n=e.schema.check({name:"$text",inside:t}),r=e.schema.check({name:"paragraph",inside:t});return!n&&r}function u(e){var t=e.document.schema;return!t.objects.has(e.name)&&!t.limits.has(e.name)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=n(159),f=r(l),s=n(1),c=r(s),d=n(5),h=r(d),p=n(49),v=r(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(311),u=r(a),l=n(152),f=r(l),s=n(154),c=r(s),d=n(97),h=n(295),p=n(153),v=n(7),y=r(v),b=function(){function e(t){var n=this;o(this,e),this.model=t,this.view=new u.default,this.mapper=new f.default,this.modelToView=new c.default(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(y.default),this._listener.listenTo(this.model,"change",function(e,t,r){n.modelToView.convertChange(t,r)},{priority:"low"}),this._listener.listenTo(this.model,"changesDone",function(){var e=n.model.selection;n.modelToView.convertSelection(e),n.view.render()},{priority:"low"}),this._listener.listenTo(this.model.markers,"add",function(e,t){n.modelToView.convertMarker("addMarker",t.name,t.getRange())}),this._listener.listenTo(this.model.markers,"remove",function(e,t){n.modelToView.convertMarker("removeMarker",t.name,t.getRange())}),this._listener.listenTo(this.view,"selectionChange",(0,h.convertSelectionChange)(this.model,this.mapper)),this.modelToView.on("insert:$text",(0,d.insertText)(),{priority:"lowest"}),this.modelToView.on("remove",(0,d.remove)(),{priority:"low"}),this.modelToView.on("selection",(0,p.clearAttributes)(),{priority:"low"}),this.modelToView.on("selection",(0,p.clearFakeSelection)(),{priority:"low"}),this.modelToView.on("selection",(0,p.convertRangeSelection)(),{priority:"low"}),this.modelToView.on("selection",(0,p.convertCollapsedSelection)(),{priority:"low"})}return i(e,[{key:"createRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=this.view.createRoot(e,t),r=this.model.getRoot(t);return this.mapper.bindElements(r,n),n}},{key:"destroy",value:function(){this.view.destroy(),this._listener.stopListening()}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=new u.default,n=e.getFirstRange();if(!n||n.isCollapsed)return t;var r=n.start.root,o=n.start.getCommonPath(n.end),a=r.getNodeByPath(o),l=void 0;l=n.start.parent==n.end.parent?n:f.default.createFromParentsAndOffsets(a,n.start.path[o.length],a,n.end.path[o.length]+1);var s=l.end.offset-l.start.offset,d=!0,p=!1,v=void 0;try{for(var y,b=l.getItems({shallow:!0})[Symbol.iterator]();!(d=(y=b.next()).done);d=!0){var _=y.value;_.is("textProxy")?t.appendChildren(new h.default(_.data,_.getAttributes())):t.appendChildren(_.clone(!0))}}catch(e){p=!0,v=e}finally{try{!d&&b.return&&b.return()}finally{if(p)throw v}}if(l!=n){var m=n._getTransformedByMove(l.start,c.default.createAt(t,0),s)[0],g=new f.default(c.default.createAt(t),m.start);i(new f.default(m.end,c.default.createAt(t,"end"))),i(g)}return t}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(e){var t=[];Array.from(e.getItems({direction:"backward"})).map(function(e){return f.default.createOn(e)}).filter(function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))}).forEach(function(e){t.push(e.start.parent),(0,p.remove)(e)}),t.forEach(function(e){for(var t=e;t.parent&&t.isEmpty;){var n=f.default.createOn(t);t=t.parent,(0,p.remove)(n)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(47),u=r(a),l=n(3),f=r(l),s=n(1),c=r(s),d=n(23),h=r(d),p=n(24)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){r||(r=e.model.batch()),n.isCollapsed||e.deleteContent(n,r,{merge:!0});var o=new b(e,r,n.anchor);o.handleNodes(t.getChildren(),{isFirst:!0,isLast:!0});var i=o.getSelectionRange();i?n.setRanges([i]):y.default.warn("insertcontent-no-range: Cannot determine a proper selection range after insertion.")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
t.default=i;var u=n(1),l=r(u),f=n(159),s=r(f),c=n(5),d=r(c),h=n(3),p=r(h),v=n(55),y=r(v),b=function(){function e(t,n,r){o(this,e),this.dataController=t,this.batch=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=t.model.schema}return a(e,[{key:"handleNodes",value:function(e,t){e=Array.from(e);for(var n=0;n<e.length;n++){var r=e[n].clone();this._handleNode(r,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?p.default.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}},{key:"_handleNode",value:function(e,t){return this._checkIsObject(e)?void this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),void this._mergeSiblingsOf(e,t)):void this._handleDisallowedNode(e,t)}},{key:"_handleObject",value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:"_handleDisallowedNode",value:function(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:"_insert",value:function(e){if(!this._checkIsAllowed(e,[this.position.parent]))return void y.default.error("insertcontent-wrong-position: The node cannot be inserted on the given position.",{node:e,position:this.position});var t=s.default.createFromPosition(this.position);this.batch.insert(this.position,e),this.position=l.default.createFromPosition(t),t.detach(),this._checkIsObject(e)&&!this.schema.check({name:"$text",inside:[this.position.parent]})?this.nodeToSelect=e:this.nodeToSelect=null}},{key:"_mergeSiblingsOf",value:function(e,t){if(e instanceof d.default){var n=t.isFirst&&e.previousSibling instanceof d.default&&this.canMergeWith.has(e.previousSibling),r=t.isLast&&e.nextSibling instanceof d.default&&this.canMergeWith.has(e.nextSibling),o=s.default.createBefore(e),i=s.default.createAfter(e);if(n){var a=s.default.createFromPosition(this.position);this.batch.merge(o),this.position=l.default.createFromPosition(a),a.detach()}if(r){var u=void 0;this.position.isEqual(i)||y.default.error("insertcontent-wrong-position-on-merge: The insertion position should equal the merge position"),this.position=l.default.createAt(i.nodeBefore,"end"),u=new s.default(this.position.root,this.position.path,"sticksToPrevious"),this.batch.merge(i),this.position=l.default.createFromPosition(u),u.detach()}o.detach(),i.detach()}}},{key:"_tryAutoparagraphing",value:function(e,t){var n=new d.default("paragraph");this._getAllowedIn(n,this.position.parent)&&this._checkIsAllowed(e,[n])&&(n.appendChildren(e),this._handleNode(n,t))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=l.default.createBefore(n),n.isEmpty&&this.batch.remove(n)}else if(this.position.isAtEnd)this.position=l.default.createAfter(this.position.parent);else{var r=l.default.createAfter(this.position.parent);this.batch.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,t){return this._checkIsAllowed(e,[t])?t:t.parent?this._getAllowedIn(e,t.parent):null}},{key:"_checkIsAllowed",value:function(e,t){return this.schema.check({name:this._getNodeSchemaName(e),attributes:Array.from(e.getAttributeKeys()),inside:t})}},{key:"_checkIsObject",value:function(e){return this.schema.objects.has(this._getNodeSchemaName(e))}},{key:"_getNodeSchemaName",value:function(e){return e.is("text")?"$text":e.name}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function o(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.model.schema,o="backward"!=n.direction,a=n.unit?n.unit:"character",l=t.focus,f=new c.default({boundaries:u(l,o),singleCharacters:!0,direction:o?"forward":"backward"}),s={walker:f,schema:r,isForward:o,unit:a},d=void 0;d=f.next();){if(d.done)return;var h=i(s,d.value);if(h)return void t.setFocus(h)}}function i(e,t){if("text"==t.type)return a(e.walker,e.unit);if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.objects.has(t.item.name))return f.default.createAt(t.item,e.isForward?"after":"before");if(e.schema.check({name:"$text",inside:t.nextPosition}))return t.nextPosition}else{if(e.schema.limits.has(t.item.name))return void e.walker.skip(function(){return!0});if(e.schema.check({name:"$text",inside:t.nextPosition}))return t.nextPosition}}function a(e,t){var n=e.position.textNode;if(n)for(var r=n.data,o=e.position.offset-n.startOffset;(0,p.isInsideSurrogatePair)(r,o)||"character"==t&&(0,p.isInsideCombinedSymbol)(r,o);)e.next(),o=e.position.offset-n.startOffset;return e.position}function u(e,t){var n=e.root,r=f.default.createAt(n,t?"end":0);return t?new h.default(e,r):new h.default(r,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=n(1),f=r(l),s=n(33),c=r(s),d=n(3),h=r(d),p=n(269)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(70),u=r(a),l=function(){function e(){o(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return i(e,[{key:"add",value:function(e,t){e instanceof u.default&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return e instanceof u.default&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){e instanceof u.default&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var r=n.get(t);return void 0===r?null:r}},{key:"revert",value:function(e,t){e instanceof u.default&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var r=Symbol(),o=void 0,i=void 0;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),i=o.get(t),i||(i=new Map,o.set(t,i)),i.set(n,r),r}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(n,r){var o=r.newSelection,i=new a.default,u=[],l=!0,f=!1,s=void 0;try{for(var c,d=o.getRanges()[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;u.push(t.toModelRange(h))}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}i.setRanges(u,o.isBackward),i.isEqual(e.selection)||e.enqueueChanges(function(){e.selection.setTo(i)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertSelectionChange=o;var i=n(57),a=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e,t,n,r){if(!t.output&&n.consume(t.input,{name:!0})){var o=r.convertChildren(t.input,n,t);t.output=new u.default((0,s.normalizeNodes)(o))}}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(){return function(e,t,n,r){var o={name:"$text",inside:t.context};r.schema.check(o)&&n.consume(t.input)&&(t.output=new f.default(t.input.data))}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToModelFragment=o,t.convertText=i;var a=n(47),u=r(a),l=n(23),f=r(l),s=n(24)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(11),l=r(u),f=n(0),s=r(f),c=function(){function e(){i(this,e),this._consumables=new Map}return a(e,[{key:"add",value:function(e,t){var n=void 0;if(e.is("text")||e.is("documentFragment"))return void this._consumables.set(e,!0);this._consumables.has(e)?n=this._consumables.get(e):(n=new d,this._consumables.set(e,n)),n.add(t)}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t={name:!0,attribute:[],class:[],style:[]},n=e.getAttributeKeys(),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;"style"!=l&&"class"!=l&&t.attribute.push(l)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}var f=e.getClassNames(),s=!0,c=!1,d=void 0;try{for(var h,p=f[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;t.class.push(v)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}var y=e.getStyleNames(),b=!0,_=!1,m=void 0;try{for(var g,w=y[Symbol.iterator]();!(b=(g=w.next()).done);b=!0){var O=g.value;t.style.push(O)}}catch(e){_=!0,m=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw m}}return t}},{key:"createFrom",value:function(t,n){if(n||(n=new e),t.is("text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var r=!0,o=!1,i=void 0;try{for(var a,u=t.getChildren()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n=e.createFrom(l,n)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}}]),e}();t.default=c;var d=function(){function e(){i(this,e),this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}return a(e,[{key:"add",value:function(e){e.name&&(this._canConsumeName=!0);for(var t in this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(n!==!0)return n}return!0}},{key:"consume",value:function(e){e.name&&(this._canConsumeName=!1);for(var t in this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){e.name&&(this._canConsumeName=!0);for(var t in this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n=(0,l.default)(t)?t:[t],r=this._consumables[e],o=!0,i=!1,a=void 0;try{for(var u,f=n[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;if("attribute"===e&&("class"===c||"style"===c))throw new s.default("viewconsumable-invalid-attribute: Classes and styles should be handled separately.");r.set(c,!0)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}}},{key:"_test",value:function(e,t){var n=(0,l.default)(t)?t:[t],r=this._consumables[e],i=!0,a=!1,u=void 0;try{for(var f,s=n[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value;if("attribute"!==e||"class"!==c&&"style"!==c){var d=r.get(c);if(void 0===d)return null;if(!d)return!1}else{var h=this._test(c,[].concat(o(this._consumables[c].keys())));if(h!==!0)return h}}}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}return!0}},{key:"_consume",value:function(e,t){var n=(0,l.default)(t)?t:[t],r=this._consumables[e],i=!0,a=!1,u=void 0;try{for(var f,s=n[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value;"attribute"!==e||"class"!==c&&"style"!==c?r.set(c,!1):this._consume(c,[].concat(o(this._consumables[c].keys())))}}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}}},{key:"_revert",value:function(e,t){var n=(0,l.default)(t)?t:[t],r=this._consumables[e],i=!0,a=!1,u=void 0;try{for(var f,s=n[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value;if("attribute"!==e||"class"!==c&&"style"!==c){r.get(c)===!1&&r.set(c,!0)}else this._revert(c,[].concat(o(this._consumables[c].keys())))}}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=new Set,n=new Map,r=new g.default({startPosition:_.default.createAt(e,0),ignoreElementEnd:!0}),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;"$marker"==f.item.name&&t.add(f.item)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}var s=!0,c=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,b=v.getAttribute("data-name"),m=_.default.createBefore(v);n.has(b)?n.get(b).end=_.default.createFromPosition(m):n.set(b,new y.default(_.default.createFromPosition(m))),(0,j.remove)(y.default.createOn(v))}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}return n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(297),l=r(u),f=n(7),s=r(f),c=n(4),d=r(c),h=n(54),p=r(h),v=n(3),y=r(v),b=n(1),_=r(b),m=n(33),g=r(m),w=n(56),O=r(w),k=n(47),P=r(k),j=n(24),M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.conversionApi=(0,p.default)({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}return a(e,[{key:"convert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire("viewCleanup",e);var n=l.default.createFrom(e),r=this._convertItem(e,n,t);if(!(r instanceof O.default||r instanceof P.default))return r;var o=r;return o.is("documentFragment")||(o=new P.default([o])),o.markers=i(o),o}},{key:"_convertItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,p.default)({},n,{input:e,output:null});return e.is("element")?this.fire("element:"+e.name,r,t,this.conversionApi):e.is("text")?this.fire("text",r,t,this.conversionApi):this.fire("documentFragment",r,t,this.conversionApi),r.output}},{key:"_convertChildren",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.from(e.getChildren()).map(function(e){return n._convertItem(e,t,r)}).reduce(function(e,t){return t?e.concat(t):e},[])}}]),e}();t.default=M,(0,d.default)(M,s.default)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument(""),n=t.createElement("div");return n.appendChild(e),n.innerHTML}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(156),i=(r(o),n(98)),a=(r(i),n(99)),u=(r(a),n(100)),l=(r(u),n(101)),f=(r(l),n(157)),s=(r(f),n(102)),c=(r(s),n(104)),d=(r(c),n(158)),h=(r(d),n(105));r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.clone(),r=n.operations[0];return r.oldRange=r.oldRange.getTransformedByDelta(t)[0],r.newRange=r.newRange.getTransformedByDelta(t)[0],[n]}function i(e,t){function n(){var n=new f.default(e.position.getShiftedBy(a),e.position.getShiftedBy(u)),o=new v.default(n,t.key,i,t.value,0);r.addOperation(o)}for(var r=new k.default,o=e.nodes,i=o.getNode(0).getAttribute(t.key),a=0,u=o.getNode(0).offsetSize,l=1;l<o.length;l++){var s=o.getNode(l),c=s.getAttribute(t.key);c!=i&&(i!=t.value&&n(),i=c,a=u),u+=s.offsetSize}return n(),r}function a(){var e=new w.default;return e.addOperation(new h.default(0)),e}var u=n(103),l=n(3),f=r(l),s=n(1),c=r(s),d=n(69),h=r(d),p=n(68),v=r(p),y=n(37),b=r(y),_=n(107),m=r(_),g=n(19),w=r(g),O=n(156),k=r(O),P=n(98),j=r(P),M=n(302),x=r(M),E=n(99),S=r(E),T=n(100),C=r(T),A=n(102),R=r(A),F=n(158),N=r(F),V=n(105),I=r(V),D=n(104),B=r(D),L=n(157),q=r(L),W=n(101),z=r(W),K=n(49),$=r(K);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(0,u.addTransformationCase)(k.default,N.default,function(e,t,n){var r=(0,u.defaultTransform)(e,t,n);return e.range.containsPosition(t.position)&&r.push(i(t,e)),r}),(0,u.addTransformationCase)(k.default,R.default,function(e,t,n){var r=new c.default(t.position.root,t.position.path.slice(0,-1)),o=(0,u.defaultTransform)(e,t,n),i=!0,a=!1,l=void 0;try{for(var s,d=e.operations[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var h=s.value;if(h.range.containsPosition(r)||h.range.start.isEqual(r)){var p=new k.default,y=r.getShiftedBy(1),b=c.default.createFromPosition(y);b.path.push(0);var _=t._cloneOperation.nodes.getNode(0).getAttribute(h.key);p.addOperation(new v.default(new f.default(y,b),h.key,void 0===_?null:_,h.newValue,0)),o.push(p);break}}}catch(e){a=!0,l=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw l}}return o}),(0,u.addTransformationCase)(j.default,S.default,function(e,t,n){return e.position.isEqual(t.position)?[t.getReversed(),e.clone()]:(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(x.default,R.default,o),(0,u.addTransformationCase)(x.default,S.default,o),(0,u.addTransformationCase)(x.default,I.default,o),(0,u.addTransformationCase)(x.default,B.default,o),(0,u.addTransformationCase)(C.default,S.default,function(e,t,n){var r=e.sourcePosition.root==t.position.root&&"same"===(0,$.default)(e.sourcePosition.getParentPath(),t.position.getParentPath()),o=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return r&&o?[t.getReversed(),e.clone()]:(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(S.default,j.default,function(e,t,n){return e.position.isEqual(t.position)?[a()]:(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(S.default,C.default,function(e,t,n){var r=e.position.root==t.sourcePosition.root&&"same"===(0,$.default)(e.position.getParentPath(),t.sourcePosition.getParentPath()),o=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return r&&o?[a()]:(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(R.default,R.default,function(e,t,n){var r=e.position.getParentPath(),o=t.position.getParentPath();if("same"==(0,$.default)(r,o)){if(e.position.offset==t.position.offset)return[a()];if(e.position.offset<t.position.offset){var i=e.clone();return i._moveOperation.howMany=t.position.offset-e.position.offset,e._cloneOperation instanceof m.default&&t._cloneOperation instanceof m.default&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&i._cloneOperation.sourcePosition.offset--,[i]}var l=e.clone();return l._cloneOperation.position.offset++,l._moveOperation.sourcePosition.path[l._moveOperation.sourcePosition.path.length-2]++,l._moveOperation.targetPosition.path[l._moveOperation.targetPosition.path.length-2]++,l._moveOperation.sourcePosition.offset=e.position.offset-t.position.offset,e._cloneOperation instanceof m.default&&t._cloneOperation instanceof m.default&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&l._cloneOperation.sourcePosition.offset--,[l]}return(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(R.default,B.default,function(e,t,n){return"same"===(0,$.default)(t.position.path,e.position.getParentPath())?[a()]:(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(R.default,I.default,function(e,t,n){var r="same"===(0,$.default)(e.position.getParentPath(),t.range.start.getParentPath()),o=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(r&&o)return[a()];if("same"===(0,$.default)(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){var i=e.clone(),l=c.default.createFromPosition(t.range.start);l.path.push(t.howMany-1);var f=l.getShiftedBy(1);i._cloneOperation.position=f;var s=c.default.createFromPosition(l);s.path.push(e.position.offset),i._moveOperation.sourcePosition=s;var d=c.default.createFromPosition(f);return d.path.push(0),i._moveOperation.targetPosition=d,[i]}return(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(R.default,k.default,function(e,t){e=e.clone();var n=new c.default(e.position.root,e.position.path.slice(0,-1));if(e._cloneOperation instanceof b.default){var r=!0,o=!1,i=void 0;try{for(var a,u=t.operations[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.range.containsPosition(n)||l.range.start.isEqual(n)){null!==l.newValue?e._cloneOperation.nodes.getNode(0).setAttribute(l.key,l.newValue):e._cloneOperation.nodes.getNode(0).removeAttribute(l.key);break}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}return[e]}),(0,u.addTransformationCase)(B.default,R.default,function(e,t,n){if("same"===(0,$.default)(e.position.path,t.position.getParentPath())){var r=[t.getReversed(),e.clone()];return r[1].operations[1].targetPosition.path[0]++,r}return(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(N.default,k.default,function(e,t){var n=[e.clone()];return t.range.containsPosition(e.position)&&n.push(i(e,t)),n}),(0,u.addTransformationCase)(I.default,R.default,function(e,t,n){var r="same"===(0,$.default)(e.range.start.getParentPath(),t.position.getParentPath()),o=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(r&&o)return[t.getReversed(),e.clone()];if("same"===(0,$.default)(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){var i=e.clone();return i._insertOperation.position.offset++,i._moveOperation.howMany++,i._moveOperation.targetPosition.path[i._moveOperation.targetPosition.path.length-2]++,[i]}return(0,u.defaultTransform)(e,t,n)}),(0,u.addTransformationCase)(q.default,R.default,function(e,t,n){var r=new c.default(t.position.root,t.position.path.slice(0,-1)),o=(0,u.defaultTransform)(e,t,n);if(e.operations[0].position.isEqual(r)){var i=e.clone();i.operations[0].position=e.operations[0].position.getShiftedBy(1),o.push(i)}return o}),(0,u.addTransformationCase)(R.default,q.default,function(e,t){e=e.clone();var n=new c.default(e.position.root,e.position.path.slice(0,-1));return e._cloneOperation instanceof b.default&&t.operations[0].position.isEqual(n)&&(e._cloneOperation.nodes.getNode(0).name=t.operations[0].newName),[e]}),(0,u.addTransformationCase)(z.default,R.default,function(e,t,n){var r=(0,u.defaultTransform)(e,t,n),o=t._cloneOperation.position,i=!0,a=!1,l=void 0;try{for(var f,s=r[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value,d=!0,h=!1,p=void 0;try{for(var v,y=c.operations[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;b.sourcePosition.getShiftedBy(b.howMany).isEqual(o)&&(b.howMany+=1)}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}}}catch(e){a=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw l}}return r}),(0,u.addTransformationCase)(R.default,z.default,function(e,t,n){t=t.clone();var r=e._cloneOperation.position,o=!0,i=!1,a=void 0;try{for(var l,f=t.operations[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=l.value;s.sourcePosition.getShiftedBy(s.howMany).isEqual(r)&&(s.howMany+=1)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return(0,u.defaultTransform)(e,t,n)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var o=e.document,i=new _,a=new v.default(t,n,r,o.markers,o.version);e.addDelta(i),i.addOperation(a),o.applyOperation(a)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(19),s=r(f),c=n(17),d=r(c),h=n(16),p=n(106),v=r(p),y=n(0),b=r(y),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"type",get:function(){return"marker"}},{key:"_reverseDeltaClass",get:function(){return t}}],[{key:"className",get:function(){return"engine.model.delta.MarkerDelta"}}]),t}(s.default);t.default=_,(0,h.register)("setMarker",function(e,t){var n="string"==typeof e?e:e.name,r=this.document.markers.get(n);if(!t&&!r)throw new b.default("batch-setMarker-no-range: Range parameter is required when adding a new marker.");var o=r?r.getRange():null;return t?u(this,n,o,t):u(this,n,null,o),this}),(0,h.register)("removeMarker",function(e){var t="string"==typeof e?e:e.name;if(!this.document.markers.has(t))throw new b.default("batch-removeMarker-no-marker: Trying to remove marker that does not exist.");return u(this,t,this.document.markers.get(t).getRange(),null),this}),d.default.register(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=e.textNode;if(t){var n=t.data,r=e.offset-t.startOffset;return!(0,V.isInsideSurrogatePair)(n,r)&&!(0,V.isInsideCombinedSymbol)(n,r)}return!0}function a(e,t){var n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=!1;case 1:if(n){i.next=17;break}if(n=!0,!e){i.next=9;break}if(r=e.next(),r.done){i.next=9;break}return n=!1,i.next=9,{walker:e,value:r.value};case 9:if(!t){i.next=15;break}if(o=t.next(),o.done){i.next=15;break}return n=!1,i.next=15,{walker:t,value:o.value};case 15:i.next=1;break;case 17:case"end":return i.stop()}},I[0],this)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(300),f=(r(l),n(301)),s=(r(f),n(3)),c=r(s),d=n(1),h=r(d),p=n(309),v=r(p),y=n(16),b=r(y),_=n(304),m=r(_),g=n(305),w=r(g),O=n(310),k=r(O),P=n(33),j=r(P),M=n(306),x=r(M),E=n(92),S=r(E),T=n(7),C=r(T),A=n(0),R=r(A),F=n(4),N=r(F),V=n(269),I=[a].map(regeneratorRuntime.mark),D="$graveyard",B=function(){function e(){var t=this;o(this,e),this.version=0,this.schema=new k.default,this.history=new m.default(this),this.markers=new x.default,this.selection=new w.default(this),this._pendingChanges=[],this.roots=new Map,this.selection.on("change:range",function(){var e=!0,n=!1,r=void 0;try{for(var o,i=t.selection.getRanges()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(!t._validateSelectionRange(a))throw new R.default("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",{range:a})}}catch(e){n=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}),this.createRoot("$root",D)}return u(e,[{key:"applyOperation",value:function(e){if(e.baseVersion!==this.version)throw new R.default("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",{operation:e});var t=e._execute();this.version++,this.history.addDelta(e.delta),t&&this.fire("change",e.type,t,e.delta.batch,e.delta.type)}},{key:"batch",value:function(e){return new b.default(this,e)}},{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.has(t))throw new R.default("model-document-createRoot-name-exists: Root with specified name already exists.",{name:t});var n=new v.default(this,e,t);return this.roots.set(t,n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"enqueueChanges",value:function(e){if(this._pendingChanges.push(e),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire("changesDone")}}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";if(!this.roots.has(e))throw new R.default("model-document-getRoot-root-not-exist: Root with specified name does not exist.",{name:e});return this.roots.get(e)}},{key:"hasRoot",value:function(e){return this.roots.has(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots.keys()).filter(function(e){return e!=D})}},{key:"getNearestSelectionRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.schema.check({name:"$text",inside:e}))return new c.default(e);var n=void 0,r=void 0;"both"!=t&&"backward"!=t||(n=new j.default({startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(r=new j.default({startPosition:e}));var o=!0,i=!1,u=void 0;try{for(var l,f=a(n,r)[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=l.value,d=s.walker==n?"elementEnd":"elementStart",h=s.value;if(h.type==d&&this.schema.objects.has(h.item.name))return c.default.createOn(h.item);if(this.schema.check({name:"$text",inside:h.nextPosition}))return new c.default(h.nextPosition)}}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}return null}},{key:"toJSON",value:function(){var e=(0,S.default)(this);return e.selection="[engine.model.LiveSelection]",e}},{key:"_getDefaultRoot",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.roots.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if(i!==this.graveyard)return i}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=new h.default(e,[0]);return this.getNearestSelectionRange(t)||new c.default(t)}},{key:"_validateSelectionRange",value:function(e){return i(e.start)&&i(e.end)}},{key:"graveyard",get:function(){return this.getRoot(D)}}]),e}();t.default=B,(0,N.default)(B,C.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=r(u),f=function(){function e(){i(this,e),this._deltas=[],this._historyPoints=new Map}return a(e,[{key:"addDelta",value:function(e){if(e.operations.length>0&&!this._historyPoints.has(e.baseVersion)){var t=this._deltas.length;this._deltas[t]=e,this._historyPoints.set(e.baseVersion,t)}}},{key:"getDeltas",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._deltas.length){e.next=2;break}return e.abrupt("return");case 2:if((t=this._getIndex(r))!=-1){e.next=5;break}return e.abrupt("return");case 5:if(!(t<this._deltas.length)){e.next=13;break}if(n=this._deltas[t++],!(n.baseVersion>=o)){e.next=9;break}return e.abrupt("break",13);case 9:return e.next=11,n;case 11:e.next=5;break;case 13:case"end":return e.stop()}},e,this)})},{key:"getDelta",value:function(e){var t=this._historyPoints.get(e);if(void 0===t)return null;var n=[];for(t;t<this._deltas.length;t++){var r=this._deltas[t];if(r.baseVersion!=e)break;n.push(r)}return 0===n.length?null:n}},{key:"removeDelta",value:function(e){this.updateDelta(e,[])}},{key:"updateDelta",value:function(e,t){var n,r=this.getDelta(e);if(null!==r){var i=!0,a=!1,u=void 0;try{for(var l,f=t[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){l.value.baseVersion=e}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}(n=this._deltas).splice.apply(n,[this._getIndex(e),r.length].concat(o(t)));var s=t.length-r.length,c=!0,d=!1,h=void 0;try{for(var p,v=this._historyPoints.keys()[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;y>e&&this._historyPoints.set(y,this._historyPoints.get(y)+s)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}}},{key:"_getIndex",value:function(e){var t=this._historyPoints.get(e);if(void 0===t){var n=this._deltas[this._deltas.length-1],r=n.baseVersion+n.operations.length;if(e<0||e>=r)return-1;throw new l.default("model-history-wrong-version: Given base version points to the middle of a delta.")}return t}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e instanceof g.default||e instanceof _.default?e.getAttributes():null}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(1),d=r(c),h=n(3),p=r(h),v=n(160),y=r(v),b=n(23),_=r(b),m=n(70),g=r(m),w=n(147),O=r(w),k=n(0),P=r(k),j=n(55),M=r(j),x=n(57),E=r(x),S="selection:",T=new Set(["addAttribute","removeAttribute","changeAttribute","addRootAttribute","removeRootAttribute","changeRootAttribute"]),C=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._document=e,n._attributePriority=new Map,n.listenTo(n._document,"change",function(e,t){T.has(t)&&n._updateAttributes(!1)}),n}return a(t,e),f(t,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}},e,this)})},{key:"getFirstRange",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"addRange",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addRange",this).call(this,e,n),this.refreshAttributes()}},{key:"removeAllRanges",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeAllRanges",this).call(this),this.refreshAttributes()}},{key:"setRanges",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setRanges",this).call(this,e,n),this.refreshAttributes()}},{key:"setAttribute",value:function(e,t){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(e,t),this._setAttribute(e,t)){var n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(e){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(e),this._removeAttribute(e)){var t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}},{key:"setAttributesTo",value:function(e){e=(0,O.default)(e),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(e);var t=this._setAttributesTo(e);if(t.size>0){var n=Array.from(t);this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"clearAttributes",value:function(){this.setAttributesTo([])}},{key:"refreshAttributes",value:function(){this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_prepareRange",value:function(e){var t=this;if(!(e instanceof p.default))throw new P.default("model-selection-added-not-range: Trying to add an object that is not an instance of Range.");if(e.root==this._document.graveyard)return void M.default.warn("model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.");this._checkRange(e);var n=y.default.createFromRange(e);return this.listenTo(n,"change",function(e,r){n.root==t._document.graveyard&&t._fixGraveyardSelection(n,r),t.fire("change:range",{directChange:!1})}),n}},{key:"_updateAttributes",value:function(e){var t=(0,O.default)(this._getSurroundingAttributes()),n=(0,O.default)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var r=!0,o=!1,i=void 0;try{for(var a,u=this._attributePriority[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var f=l(a.value,2),s=f[0];"low"==f[1]&&(this._attrs.delete(s),this._attributePriority.delete(s))}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}this._setAttributesTo(t,!1);var c=[],d=!0,h=!1,p=void 0;try{for(var v,y=this.getAttributes()[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=l(v.value,2),_=b[0],m=b[1];n.has(_)&&n.get(_)===m||c.push(_)}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}var g=!0,w=!1,k=void 0;try{for(var P,j=n[Symbol.iterator]();!(g=(P=j.next()).done);g=!0){var M=l(P.value,1),x=M[0];this.hasAttribute(x)||c.push(x)}}catch(e){w=!0,k=e}finally{try{!g&&j.return&&j.return()}finally{if(w)throw k}}c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}},{key:"_setAttribute",value:function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=r?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(e))&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAttribute",this).call(this,e)!==n&&(this._attrs.set(e,n),this._attributePriority.set(e,o),!0))}},{key:"_removeAttribute",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(e))&&(!!s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hasAttribute",this).call(this,e)&&(this._attrs.delete(e),this._attributePriority.set(e,r),!0))}},{key:"_setAttributesTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set,r=!0,o=!1,i=void 0;try{for(var a,u=this.getAttributes()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var f=l(a.value,2),s=f[0],c=f[1];e.get(s)!==c&&this._removeAttribute(s,t)&&n.add(s)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}var d=!0,h=!1,p=void 0;try{for(var v,y=e[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=l(v.value,2),_=b[0],m=b[1];this._setAttribute(_,m,t)&&n.add(_)}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}return n}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||0!==t.childCount){e.next=30;break}n=!0,r=!1,o=void 0,e.prev=5,i=t.getAttributeKeys()[Symbol.iterator]();case 7:if(n=(a=i.next()).done){e.next=16;break}if(u=a.value,0!==u.indexOf(S)){e.next=13;break}return l=u.substr(S.length),e.next=13,[l,t.getAttribute(u)];case 13:n=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),r=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!n&&i.return&&i.return();case 25:if(e.prev=25,!r){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[5,18,22,30],[23,,25,29]])})},{key:"_removeStoredAttribute",value:function(e){var n=t._getStoreAttributeKey(e);this._document.batch().removeAttribute(this.anchor.parent,n)}},{key:"_storeAttribute",value:function(e,n){var r=t._getStoreAttributeKey(e);this._document.batch().setAttribute(this.anchor.parent,r,n)}},{key:"_setStoredAttributesTo",value:function(e){var n=this.anchor.parent,r=this._document.batch(),o=!0,i=!1,a=void 0;try{for(var u,f=this._getStoredAttributes()[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var s=l(u.value,1),c=s[0],d=t._getStoreAttributeKey(c);r.removeAttribute(n,d)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}var h=!0,p=!1,v=void 0;try{for(var y,b=e[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=l(y.value,2),m=_[0],g=_[1],w=t._getStoreAttributeKey(m);r.setAttribute(n,w,g)}}catch(e){p=!0,v=e}finally{try{!h&&b.return&&b.return()}finally{if(p)throw v}}}},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=null;if(this.isCollapsed){var n=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(t=u(n),t||(t=u(r)),!t)for(var o=n;o&&!t;)o=o.previousSibling,t=u(o);if(!t)for(var i=r;i&&!t;)i=i.nextSibling,t=u(i);t||(t=this._getStoredAttributes())}else{var a=this.getFirstRange(),l=!0,f=!1,s=void 0;try{for(var c,d=a[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;"text"==h.type&&null===t&&(t=h.item.getAttributes())}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}}return t}},{key:"_fixGraveyardSelection",value:function(e,t){var n=e.start.path,r=t.start.path.length-(n.length-2),o=t.start.path.slice(0,r);o[o.length-1]-=n[1];var i=new d.default(t.root,o),a=this._document.getNearestSelectionRange(i);a||(a=new p.default(new d.default(i.root,[0])));var u=this._prepareRange(a),l=this._ranges.indexOf(e);e.detach(),this._ranges.splice(l,1,u)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"focus",this)||this._document._getDefaultRange().start}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}}],[{key:"createFromSelection",value:function(e){var t=new this(e._document);return t.setTo(e),t}},{key:"_getStoreAttributeKey",value:function(e){return S+e}}]),t}(E.default);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(160),u=r(a),l=n(1),f=r(l),s=n(3),c=r(s),d=n(7),h=r(d),p=n(0),v=r(p),y=n(4),b=r(y),_=function(){function e(){o(this,e),this._markers=new Map}return i(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"set",value:function(e,t){var n=e instanceof m?e.name:e,r=this._markers.get(n);if(r){if(r.getRange().isEqual(t))return r;this.remove(n)}var o=u.default.createFromRange(t),i=new m(n,o);return this._markers.set(n,i),this.fire("add",i),i}},{key:"remove",value:function(e){var t=e instanceof m?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("remove",n),this._destroyMarker(n),!0)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,o=void 0,e.prev=3,i=this[Symbol.iterator]();case 5:if(n=(a=i.next()).done){e.next=13;break}if(u=a.value,!u.getRange().containsPosition(t)){e.next=10;break}return e.next=10,u;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),r=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!n&&i.return&&i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._markers.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this._destroyMarker(i)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,o=void 0,e.prev=3,i=this._markers.values()[Symbol.iterator]();case 5:if(n=(a=i.next()).done){e.next=13;break}if(u=a.value,!u.name.startsWith(t+":")){e.next=10;break}return e.next=10,u;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),r=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!n&&i.return&&i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[3,15,19,27],[20,,22,26]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._liveRange.detach(),e._liveRange=null}}]),e}();t.default=_,(0,b.default)(_,h.default);var m=function(){function e(t,n){o(this,e),this.name=t,this._liveRange=n,this._liveRange.delegate("change").to(this)}return i(e,[{key:"getStart",value:function(){if(!this._liveRange)throw new v.default("marker-destroyed: Operating on destroyed marker instance.");return f.default.createFromPosition(this._liveRange.start)}},{key:"getEnd",value:function(){if(!this._liveRange)throw new v.default("marker-destroyed: Operating on destroyed marker instance.");return f.default.createFromPosition(this._liveRange.end)}},{key:"getRange",value:function(){if(!this._liveRange)throw new v.default("marker-destroyed: Operating on destroyed marker instance.");return c.default.createFromRange(this._liveRange)}}]),e}();(0,b.default)(m,h.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(68),u=r(a),l=n(37),f=r(l),s=n(106),c=r(s),d=n(28),h=r(d),p=n(69),v=r(p),y=n(32),b=r(y),_=n(107),m=r(_),g=n(38),w=r(g),O=n(108),k=r(O),P=n(109),j=r(P),M={};M[u.default.className]=u.default,M[f.default.className]=f.default,M[c.default.className]=c.default,M[h.default.className]=h.default,M[v.default.className]=v.default,M[b.default.className]=b.default,M[m.default.className]=m.default,M[w.default.className]=w.default,M[k.default.className]=k.default,M[j.default.className]=j.default;var x=function(){function e(){o(this,e)}return i(e,null,[{key:"fromJSON",value:function(e,t){return M[e.__className].fromJSON(e,t)}}]),e}();t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=void 0,o=void 0;e instanceof s.default?r=S.InsertOperation:e instanceof d.default?r=S.AttributeOperation:e instanceof p.default?r=S.RootAttributeOperation:e instanceof y.default?r=S.RenameOperation:e instanceof _.default?r=S.MarkerOperation:e instanceof g.default?r=S.MoveOperation:o=i,r&&(o=t instanceof s.default?r.InsertOperation:t instanceof d.default?r.AttributeOperation:t instanceof p.default?r.RootAttributeOperation:t instanceof y.default?r.RenameOperation:t instanceof _.default?r.MarkerOperation:t instanceof g.default?r.MoveOperation:i);var u=o(e,t,n);return a(e.baseVersion,u)}function i(e){return[e.clone()]}function a(e,t){for(var n=0;n<t.length;n++)t[n].baseVersion=e+n+1;return t}function u(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function l(e){return 0===e.length?null:1==e.length?e[0]:(e[0].end=e[e.length-1].end,e[0])}Object.defineProperty(t,"__esModule",{value:!0});var f=n(37),s=r(f),c=n(68),d=r(c),h=n(109),p=r(h),v=n(108),y=r(v),b=n(106),_=r(b),m=n(28),g=r(m),w=n(38),O=r(w),k=n(69),P=r(k),j=n(3),M=r(j),x=n(49),E=r(x);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
t.default=o;var S={InsertOperation:{InsertOperation:function(e,t,n){var r=e.clone();return r.position=r.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!n),[r]},AttributeOperation:i,RootAttributeOperation:i,RenameOperation:i,MarkerOperation:i,MoveOperation:function(e,t,n){var r=e.clone();return r.position=e.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!n,t.isSticky),[r]}},AttributeOperation:{InsertOperation:function(e,t){return e.range._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0,!1).reverse().map(function(t){return new d.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})},AttributeOperation:function(e,t,n){if(e.key===t.key){var r=e.range.getDifference(t.range).map(function(t){return new d.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)}),o=e.range.getIntersection(t.range);return o&&(n?r.push(new d.default(o,t.key,t.newValue,e.newValue,e.baseVersion)):0===r.length&&r.push(new P.default(0))),r}return[e.clone()]},RootAttributeOperation:i,RenameOperation:i,MarkerOperation:i,MoveOperation:function(e,t){var n=M.default.createFromPositionAndShift(t.sourcePosition,t.howMany),r=[];t instanceof O.default&&t._needsHolderElement&&e.range.root==t.targetPosition.root&&e.range.start.path[0]>=t._holderElementOffset&&(e=e.clone(),e.range.start.path[0]++,e.range.end.path[0]++);var o=l(e.range.getDifference(n)),i=e.range.getIntersection(n);return null!==o&&(o.start=o.start._getTransformedByDeletion(t.sourcePosition,t.howMany),o.end=o.end._getTransformedByDeletion(t.sourcePosition,t.howMany),r=o._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,!0,!1).reverse()),null!==i&&(i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.push(i)),r.map(function(t){return new d.default(t,e.key,e.oldValue,e.newValue,e.baseVersion)})}},RootAttributeOperation:{InsertOperation:i,AttributeOperation:i,RootAttributeOperation:function(e,t,n){return e.root!==t.root||e.key!==t.key||(e.newValue===t.newValue||n)&&e.newValue!==t.newValue?[e.clone()]:[new P.default(e.baseVersion)]},RenameOperation:i,MarkerOperation:i,MoveOperation:i},RenameOperation:{InsertOperation:function(e,t){var n=e.clone();return n.position=n.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0),[n]},AttributeOperation:i,RootAttributeOperation:i,RenameOperation:function(e,t,n){var r=e.clone();if(e.position.isEqual(t.position)){if(!n)return[new P.default(e.baseVersion)];r.oldName=t.newName}return[r]},MarkerOperation:i,MoveOperation:function(e,t){var n=e.clone(),r=n.position.isEqual(t.sourcePosition);return n.position=n.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0,r),[n]}},MarkerOperation:{InsertOperation:function(e,t){var n=e.clone();return n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),[n]},AttributeOperation:i,RootAttributeOperation:i,RenameOperation:i,MarkerOperation:function(e,t,n){var r=e.clone();if(e.name==t.name){if(!n)return[new P.default(e.baseVersion)];r.oldRange=t.newRange}return[r]},MoveOperation:function(e,t){var n=e.clone();if(n.oldRange){var r=n.oldRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);n.oldRange=M.default.createFromRanges(r)}if(n.newRange){var o=n.newRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);n.newRange=M.default.createFromRanges(o)}return[n]}},MoveOperation:{InsertOperation:function(e,t,n){var r=M.default.createFromPositionAndShift(e.sourcePosition,e.howMany);r=r._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,e.isSticky)[0];var o=new e.constructor(r.start,r.end.offset-r.start.offset,e instanceof O.default?e.baseVersion:e.targetPosition._getTransformedByInsertion(t.position,t.nodes.maxOffset,!n),e instanceof O.default?void 0:e.baseVersion);return o.isSticky=e.isSticky,o._holderElementOffset=e._holderElementOffset,[o]},AttributeOperation:i,RootAttributeOperation:i,RenameOperation:i,MarkerOperation:i,MoveOperation:function(e,t,n){if(u(e,t)&&u(t,e))return[t.getReversed()];if(e instanceof O.default&&t instanceof O.default){e.targetPosition.path[0]>=t.targetPosition.path[0]&&n&&(e=e.clone(),e.targetPosition.path[0]++)}e instanceof O.default&&!(t instanceof O.default)?n=!0:!(e instanceof O.default)&&t instanceof O.default&&(n=!1);var r=M.default.createFromPositionAndShift(e.sourcePosition,e.howMany),o=M.default.createFromPositionAndShift(t.sourcePosition,t.howMany),i=[],a=l(r.getDifference(o));a&&(a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!e.isSticky,!1),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e.isSticky,!1),i.push(a));var f=r.getIntersection(o),s=(0,E.default)(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath()),c=r.containsPosition(t.targetPosition)||r.start.isEqual(t.targetPosition)&&e.isSticky||r.end.isEqual(t.targetPosition)&&e.isSticky,d=o.containsRange(r)&&(o.containsPosition(e.targetPosition)||o.start.isEqual(e.targetPosition)||o.end.isEqual(e.targetPosition));if(null!==f&&("extension"===s||"same"===s&&n||d)&&!c&&(f.start=f.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),f.end=f.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),a&&r.start.isBefore(o.start)?i.push(f):i.unshift(f)),0===i.length)return e instanceof O.default?(e=e.clone(),e.howMany=0,e.sourcePosition=t.targetPosition,[e]):[new P.default(e.baseVersion)];var h=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!n,t.isSticky||d);return i.reverse().map(function(t){var n=new e.constructor(t.start,t.end.offset-t.start.offset,e instanceof O.default?e.baseVersion:h,e instanceof O.default?void 0:e.baseVersion);return n.isSticky=e.isSticky,n._holderElementOffset=e._holderElementOffset,n})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(5),s=r(f),c=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a._doc=e,a.rootName=r,a}return a(t,e),u(t,[{key:"is",value:function(e,n){return n?"rootElement"==e&&n==this.name||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e,n):"rootElement"==e||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"is",this).call(this,e)}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._doc}}]),t}(s.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){for(var r=n.length-1,o=t.length-1;r>=0&&o>=0;){var i=t[o];if(!e.hasItem(i))return!1;if(!e._extensionChains.get(i).includes(n[r]))return!1;r--,o--}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaItem=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),f=n(5),s=r(f),c=n(92),d=r(c),h=n(11),p=r(h),v=n(144),y=r(v),b=n(0),_=r(b),m=function(){function e(){o(this,e),this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem("$root"),this.registerItem("$block"),this.registerItem("$inline"),this.registerItem("$text","$inline"),this.allow({name:"$block",inside:"$root"}),this.allow({name:"$inline",inside:"$block"}),this.registerItem("$clipboardHolder","$root"),this.allow({name:"$inline",inside:"$clipboardHolder"})}return a(e,[{key:"allow",value:function(t){this._getItem(t.name).allow(e._normalizeQueryPath(t.inside),t.attributes)}},{key:"disallow",value:function(t){this._getItem(t.name).disallow(e._normalizeQueryPath(t.inside),t.attributes)}},{key:"requireAttributes",value:function(e,t){this._getItem(e).requireAttributes(t)}},{key:"check",value:function(t){var n=this;if(!this.hasItem(t.name))return!1;(0,p.default)(t.attributes)?0===t.attributes.length&&t.attributes.push(void 0):t.attributes=[t.attributes];var r=e._normalizeQueryPath(t.inside),o=this._extensionChains.get(t.name).map(function(e){return n._getItem(e)});if(!this._getItem(t.name)._checkRequiredAttributes(t.attributes))return!1;var i=!0,a=!1,u=void 0;try{for(var l,f=t.attributes[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var s=l.value,c=!0,d=!1,h=void 0;try{for(var v,y=o[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){if(v.value._hasMatchingPath("disallow",r,s))return!1}}catch(e){d=!0,h=e}finally{try{!c&&y.return&&y.return()}finally{if(d)throw h}}}}catch(e){a=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(a)throw u}}var b=!0,_=!1,m=void 0;try{for(var g,w=t.attributes[Symbol.iterator]();!(b=(g=w.next()).done);b=!0){var O=g.value,k=!1,P=!0,j=!1,M=void 0;try{for(var x,E=o[Symbol.iterator]();!(P=(x=E.next()).done);P=!0){if(x.value._hasMatchingPath("allow",r,O)){k=!0;break}}}catch(e){j=!0,M=e}finally{try{!P&&E.return&&E.return()}finally{if(j)throw M}}if(!k)return!1}}catch(e){_=!0,m=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw m}}return!0}},{key:"hasItem",value:function(e){return this._items.has(e)}},{key:"registerItem",value:function(e,t){if(this.hasItem(e))throw new _.default("model-schema-item-exists: Item with specified name already exists in schema.");if(t&&!this.hasItem(t))throw new _.default("model-schema-no-item: Item with specified name does not exist in schema.");this._items.set(e,new g(this));var n=this.hasItem(t)?this._extensionChains.get(t).concat(e):[e];this._extensionChains.set(e,n)}},{key:"itemExtends",value:function(e,t){if(!this.hasItem(e)||!this.hasItem(t))throw new _.default("model-schema-no-item: Item with specified name does not exist in schema.");return this._extensionChains.get(e).some(function(e){return e==t})}},{key:"_getItem",value:function(e){if(!this.hasItem(e))throw new _.default("model-schema-no-item: Item with specified name does not exist in schema.");return this._items.get(e)}}],[{key:"_normalizeQueryPath",value:function(e){var t=[];if((0,p.default)(e)){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u instanceof s.default?t.push(u.name):(0,y.default)(u)&&t.push(u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}else if(e instanceof l.default){for(var f=e.parent;null!==f;)t.push(f.name),f=f.parent;t.reverse()}else(0,y.default)(e)&&(t=e.split(" "));return t}}]),e}();t.default=m;var g=t.SchemaItem=function(){function e(t){o(this,e),this._schema=t,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}return a(e,[{key:"allow",value:function(e,t){this._addPath("_allowed",e,t)}},{key:"disallow",value:function(e,t){this._addPath("_disallowed",e,t)}},{key:"requireAttributes",value:function(e){this._requiredAttributes.push(e)}},{key:"_addPath",value:function(e,t,n){t=t.slice(),(0,p.default)(n)||(n=[n]);var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this[e].push({path:t,attribute:l})}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"_getPaths",value:function(e,t){var n="allow"===e?this._allowed:this._disallowed,r=[],o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.attribute===t&&r.push(f.path)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return r}},{key:"_checkRequiredAttributes",value:function(e){var t=!0,n=!0,r=!1,o=void 0;try{for(var i,a=this._requiredAttributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t=!0;var l=!0,f=!1,s=void 0;try{for(var c,d=u[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var h=c.value;if(e.indexOf(h)==-1){t=!1;break}}}catch(e){f=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(f)throw s}}if(t)break}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"_hasMatchingPath",value:function(e,t,n){var r=this._getPaths(e,n),o=!0,a=!1,u=void 0;try{for(var l,f=r[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=l.value;if(i(this._schema,t,s))return!0}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}return!1}},{key:"toJSON",value:function(){var e=(0,d.default)(this);return e._schema="[model.Schema]",e}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(73),l=r(u),f=n(318),s=r(f),c=n(161),d=r(c),h=n(165),p=r(h),v=n(58),y=n(55),b=r(y),_=n(164),m=r(_),g=n(317),w=r(g),O=n(314),k=r(O),P=n(315),j=r(P),M=n(313),x=r(M),E=n(4),S=r(E),T=n(31),C=r(T),A=function(){function e(){var t=this;o(this,e),this.domRoots=new Map,this.selection=new l.default,this.domConverter=new d.default,this.roots=new Map,this.set("isFocused",!1),this.renderer=new s.default(this.domConverter,this.selection),this.renderer.bind("isFocused").to(this,"isFocused"),this._observers=new Map,this.addObserver(m.default),this.addObserver(w.default),this.addObserver(k.default),this.addObserver(j.default),this.addObserver(x.default),(0,v.injectQuirksHandling)(this),this.on("render",function(){t.disableObservers(),t.renderer.render(),t.enableObservers()})}return a(e,[{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n=!0,r=!1,o=void 0;try{for(var a,u=this.domRoots[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=i(a.value,2),f=l[0],s=l[1];t.observe(s,f)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"createRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r="string"==typeof e?e:e.tagName,o=new p.default(r.toLowerCase(),n);return o.document=this,this.roots.set(n,o),o.on("change:children",function(e,n){return t.renderer.markToSync("children",n)}),o.on("change:attributes",function(e,n){return t.renderer.markToSync("attributes",n)}),o.on("change:text",function(e,n){return t.renderer.markToSync("text",n)}),this.domConverter.isElement(e)&&this.attachDomRoot(e,n),o}},{key:"attachDomRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=this.getRoot(t);this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this.renderer.markToSync("children",n),this.renderer.domDocuments.add(e.ownerDocument);var r=!0,o=!1,i=void 0;try{for(var a,u=this._observers.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){a.value.observe(e,t)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"render",value:function(){this.fire("render")}},{key:"focus",value:function(){if(!this.isFocused){var e=this.selection.editableElement;e?(this.domConverter.focus(e),this.render()):b.default.warn("view-focus-no-selection: There is no selection in any editable to focus.")}}},{key:"disableObservers",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._observers.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.disable()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"enableObservers",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._observers.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.enable()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._observers.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.destroy()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}}]),e}();t.default=A,(0,S.default)(A,C.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(59),f=r(l),s=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType="click",n}return a(t,e),u(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e==p.keyCodes.arrowright||e==p.keyCodes.arrowleft||e==p.keyCodes.arrowup||e==p.keyCodes.arrowdown}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(48),c=r(s),d=n(73),h=r(d),p=n(21),v=n(138),y=r(v),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._fireSelectionChangeDoneDebounced=(0,y.default)(function(e){return n.document.fire("selectionChangeDone",e)},200),n}return a(t,e),l(t,[{key:"observe",value:function(){var e=this,t=this.document;t.on("keydown",function(n,r){t.selection.isFake&&u(r.keyCode)&&e.isEnabled&&(r.preventDefault(),e._handleSelectionMove(r.keyCode))},{priority:"lowest"})}},{key:"destroy",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=h.default.createFromSelection(t);n.setFake(!1),e!=p.keyCodes.arrowleft&&e!=p.keyCodes.arrowup||n.collapseToStart(),e!=p.keyCodes.arrowright&&e!=p.keyCodes.arrowdown||n.collapseToEnd();var r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(59),f=r(l),s=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType=["focus","blur"],n.useCapture=!0,e.on("focus",function(){e.isFocused=!0}),e.on("blur",function(t,n){var r=e.selection.editableElement;null!==r&&r!==n.target||(e.isFocused=!1,e.render())}),n}return a(t,e),u(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(59),f=r(l),s=n(21),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType="keydown",n}return a(t,e),u(t,[{key:"onDomEvent",value:function(e){this.fire("keydown",e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return(0,s.getCode)(this)}})}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(59),f=r(l),s=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.domEventType="mousedown",n}return a(t,e),u(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(48),s=r(f),c=n(164),d=r(c),h=n(55),p=r(h),v=n(138),y=r(v),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mutationObserver=e.getObserver(d.default),n.document=e,n.selection=e.selection,n.domConverter=e.domConverter,n._documents=new WeakSet,n._fireSelectionChangeDoneDebounced=(0,y.default)(function(e){return n.document.fire("selectionChangeDone",e)},200),n._clearInfiniteLoopInterval=setInterval(function(){return n._clearInfiniteLoop()},2e3),n}return a(t,e),u(t,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",function(){t._handleSelectionChange(n)}),this._documents.add(n))}},{key:"destroy",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();var t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(!this.selection.isEqual(n)){if(this._isInfiniteLoop(n))return void p.default.warn("selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.");var r={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}},{key:"_isInfiniteLoop",value:function(e){return this._lastSelection&&this._lastButOneSelection&&(e.isEqual(this._lastSelection)||e.isEqual(this._lastButOneSelection))?this._loopbackCounter++:(this._lastButOneSelection=this._lastSelection,this._lastSelection=e,this._loopbackCounter=0),this._loopbackCounter>50}},{key:"_clearInfiniteLoop",value:function(){this._lastSelection=null,this._lastButOneSelection=null,this._loopbackCounter=0}}]),t}(s.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(29),u=r(a),l=n(25),f=r(l),s=n(58),c=n(4),d=r(c),h=n(183),p=r(h),v=n(387),y=r(v),b=n(391),_=r(b),m=n(31),g=r(m),w=n(0),O=r(w),k=function(){function e(t,n){o(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}return i(e,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.getCorrespondingDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.getCorrespondingDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new O.default("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.");this.markedChildren.add(t)}}}},{key:"render",value:function(){var e=void 0;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var t=!0,n=!1,r=void 0;try{for(var o,i=this.markedTexts[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;!this.markedChildren.has(a.parent)&&this.domConverter.getCorrespondingDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e})}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}var u=!0,l=!1,f=void 0;try{for(var s,c=this.markedAttributes[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var d=s.value;this._updateAttrs(d)}}catch(e){l=!0,f=e}finally{try{!u&&c.return&&c.return()}finally{if(l)throw f}}var h=!0,p=!1,v=void 0;try{for(var y,b=this.markedChildren[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value;this._updateChildren(_,{inlineFillerPosition:e})}}catch(e){p=!0,v=e}finally{try{!h&&b.return&&b.return()}finally{if(p)throw v}}this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(e)}},{key:"_getInlineFillerNode",value:function(e){if(!e)return void(this._inlineFiller=null);var t=this.domConverter.viewPositionToDom(e);if(!t||!(0,s.startsWithFiller)(t.parent))throw new O.default("view-renderer-cannot-find-filler: Cannot find filler node by its position.");return t.parent}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?f.default.createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&this.domConverter.isText(t.parent)&&(0,s.startsWithFiller)(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!(0,s.startsWithFiller)(e))throw new O.default("view-renderer-filler-was-lost: The inline filler node was lost.");(0,s.isInlineFiller)(e)?e.parentNode.removeChild(e):e.data=e.data.substr(s.INLINE_FILLER_LENGTH),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.getCorrespondingDomElement(t.root))return!1;if(!t.is("element"))return!1;if(n===t.getFillerOffset())return!1;var r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof u.default||o instanceof u.default)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.getCorrespondingDom(e),r=this.domConverter.viewToDom(e,n.ownerDocument),o=n.data,i=r.data,a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(i=s.INLINE_FILLER+i),o!=i&&(n.data=i)}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.getCorrespondingDom(e),n=Array.from(t.attributes).map(function(e){return e.name}),r=e.getAttributeKeys(),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;t.setAttribute(f,e.getAttribute(f))}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}var s=!0,c=!1,d=void 0;try{for(var h,p=n[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;e.hasAttribute(v)||t.removeAttribute(v)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}}},{key:"_updateChildren",value:function(e,t){function n(e,t){return e===t||(r.isText(e)&&r.isText(t)?e.data===t.data:!(!(0,s.isBlockFiller)(e,r.blockFiller)||!(0,s.isBlockFiller)(t,r.blockFiller)))}var r=this.domConverter,o=r.getCorrespondingDom(e),i=o.ownerDocument,a=t.inlineFillerPosition,u=o.childNodes,l=Array.from(r.viewChildrenToDom(e,i,{bind:!0}));if(a&&a.parent==e){var f=l[a.offset];this.domConverter.isText(f)?f.data=s.INLINE_FILLER+f.data:l.splice(a.offset,0,i.createTextNode(s.INLINE_FILLER))}var c=(0,p.default)(u,l,n),d=0,h=!0,v=!1,b=void 0;try{for(var m,g=c[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var w=m.value;"insert"===w?((0,y.default)(o,d,l[d]),d++):"delete"===w?(0,_.default)(u[d]):d++}}catch(e){v=!0,b=e}finally{try{!h&&g.return&&g.return()}finally{if(v)throw b}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=t.createElement("div"),this._fakeSelectionContainer.style.position="fixed",this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left="-9999px",this._fakeSelectionContainer.appendChild(t.createTextNode(""))),this._fakeSelectionContainer.parentElement||e.appendChild(this._fakeSelectionContainer);var n=this.selection.fakeSelectionLabel||"";this._fakeSelectionContainer.firstChild.data=n;var r=t.getSelection();r.removeAllRanges();var o=new Range;o.selectNodeContents(this._fakeSelectionContainer),r.addRange(o),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection(),n=t&&this.domConverter.domSelectionToView(t);if(!n||!this.selection.isEqual(n)){var r=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(r.parent,r.offset),t.extend(o.parent,o.offset)}}},{key:"_removeDomSelection",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.domDocuments[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if(i.getSelection().rangeCount){var a=i.activeElement,u=this.domConverter.getCorrespondingViewElement(a);a&&u&&i.getSelection().removeAllRanges()}}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();t.default=k,(0,d.default)(k,g.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=function(){function e(t,n,r){if(o(this,e),this.textNode=t,n<0||n>t.data.length)throw new u.default("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(r<0||n+r>t.data.length)throw new u.default("view-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(n,n+r),this.offsetInText=n}return i(e,[{key:"is",value:function(e){return"textProxy"==e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeNode:!1,parentFirst:!1},t=[],n=e.includeNode?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(321),c=r(s),d=n(322),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;t.addObserver(h.default),e.commands.set("enter",new c.default(e)),this.listenTo(t,"enter",function(t,n){e.execute("enter"),n.preventDefault()},{priority:"low"})}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var o=n.isCollapsed,i=n.getFirstRange(),a=i.start.parent,u=i.end.parent;if(!r.limits.has(a.name)&&!r.limits.has(u.name)){if(a.root==a)return void(o||e.deleteContent(n,t));if(o)l(t,n,i.start);else{var f=i.start.isAtStart&&i.end.isAtEnd,s=a==u;e.deleteContent(n,t,{merge:f}),f||(s?l(t,n,n.focus):n.collapse(u))}}}function l(e,t,n){if(n.isAtEnd){var r=n.parent,o=new r.constructor(r.name,r.getAttributes());e.insert(h.default.createAfter(n.parent),o)}else e.split(n);t.collapse(n.parent.nextSibling)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),c=r(s),d=n(1),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"_doExecute",value:function(){var e=this,t=this.editor.document,n=t.batch();t.enqueueChanges(function(){u(e.editor.data,n,t.selection,t.schema),e.fire("afterExecute",{batch:n})})}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(48),f=r(l),s=n(112),c=r(s),d=n(21),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.on("keydown",function(t,r){n.isEnabled&&r.keyCode==d.keyCodes.enter&&e.fire("enter",new c.default(e,r.domEvent))}),n}return a(t,e),u(t,[{key:"observe",value:function(){}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n;return(n=Array.prototype).concat.apply(n,o(e.map(function(e){return[e,t]})))}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(114),c=r(s),d=n(325),h=r(d),p=n(2),v=r(p),y=n(373),b=r(y),_=n(364),m=r(_),g=n(76),w=r(g);n(!function(){var e=new Error('Cannot find module "../theme/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var O=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"init",value:function(){var e,t,n=this,r=this.editor,i=new w.default,a=this._getLocalizedOptions(),u=[],f=r.t,s=void 0,c=!0,d=!1,h=void 0;try{for(var p,v=a[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value,_=r.commands.get(y.modelElement),g=new b.default({commandName:y.modelElement,label:y.title,class:y.class});g.bind("isActive").to(_,"value"),i.add(g),u.push(_),s||"paragraph"!=y.modelElement||(s=y)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}var O=new b.default({withText:!0,items:i,tooltip:f("Heading")});(e=O.bind("isEnabled")).to.apply(e,o(l(u,"isEnabled")).concat([function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}])),(t=O.bind("label")).to.apply(t,o(l(u,"value")).concat([function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a[t.findIndex(function(e){return e})]||s).title}])),r.ui.componentFactory.add("headings",function(e){var t=(0,m.default)(O,e);return n.listenTo(t,"execute",function(e){r.execute(e.source.commandName),r.editing.view.focus()}),t})}},{key:"_getLocalizedOptions",value:function(){var e=this.editor,t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3")};return e.config.get("heading.options").map(function(e){var t=n[e.title];return t&&t!=e.title&&(e=Object.assign({},e,{title:t})),e})}}],[{key:"requires",get:function(){return[c.default,h.default]}}]),t}(v.default);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=r(l),s=n(12),c=r(s),d=n(57),h=r(d),p=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.assign(r,n),r.set("value",!1),r.listenTo(e.document,"changesDone",function(){return r._updateValue()}),r}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.document,o=this.value;r.enqueueChanges(function(){var i=t.batch||r.batch(),a=!0,u=!1,l=void 0;try{for(var s,c=r.selection.getSelectedBlocks()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var d=s.value;if(o){if(d.is(e.modelElement)){var p=new h.default;p.addRange(f.default.createIn(d)),n.execute("paragraph",{selection:p,batch:i})}}else d.is(e.modelElement)||i.rename(d,e.modelElement)}}catch(e){u=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw l}}})}},{key:"_updateValue",value:function(){var e=this.editor.document.selection.getSelectedBlocks().next().value;e&&(this.value=e.is(this.modelElement))}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(45),c=r(s),d=n(46),h=r(d),p=n(114),v=r(p),y=n(324),b=r(y),_="paragraph",m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.config.define("heading",{options:[{modelElement:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{modelElement:"heading1",viewElement:"h2",title:"Heading 1",class:"ck-heading_heading1"},{modelElement:"heading2",viewElement:"h3",title:"Heading 2",class:"ck-heading_heading2"},{modelElement:"heading3",viewElement:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),n}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.data,n=e.editing,r=e.config.get("heading.options"),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.modelElement!==_&&(e.document.schema.registerItem(f.modelElement,"$block"),(0,c.default)().for(t.modelToView,n.modelToView).fromElement(f.modelElement).toElement(f.viewElement),(0,h.default)().for(t.viewToModel).fromElement(f.viewElement).toElement(f.modelElement),e.commands.set(f.modelElement,new b.default(e,f)))}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",function(t,r){var o=e.document.selection.getFirstPosition().parent,i=r.batch;n.some(function(e){return o.is(e.modelElement)})&&!o.is(_)&&0===o.childCount&&i.rename(o,_)})}}],[{key:"requires",get:function(){return[v.default]}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(167),c=r(s),d=n(339),h=r(d),p=n(335),v=r(p);n(!function(){var e=new Error('Cannot find module "../theme/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"requires",get:function(){return[c.default,h.default,v.default]}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e,t,n,r){var o=t.input;if(n.test(o,{name:!0,class:"image"})&&r.schema.check({name:"image",inside:t.context,attributes:"src"})){var i=o.getChild(0);if(i&&"img"==i.name&&n.test(i,{name:!0,attribute:"src"})){n.consume(o,{name:!0,class:"image"}),n.consume(i,{name:!0,attribute:"src"});var a=new l.default("image",{src:i.getAttribute("src")});n.consume(i,{attribute:["alt"]})&&a.setAttribute("alt",i.getAttribute("alt")),t.context.push(a);var u=r.convertChildren(o,n,t),f=s.default.createAt(a,"end");d.default.insert(f,u),t.context.pop(),t.output=a}}}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(e,t){var n=!0,r=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;l.on("addAttribute:"+t+":image",a),l.on("changeAttribute:"+t+":image",a),l.on("removeAttribute:"+t+":image",a)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}function a(e,t,n,r){var o=e.name.split(":"),i=o[0]+":"+o[1];if(n.consume(t.item,i)){var a=r.mapper.toViewElement(t.item),u=a.getChild(0);"removeAttribute"==o[0]?u.removeAttribute(t.attributeKey):u.setAttribute(t.attributeKey,t.attributeNewValue)}}Object.defineProperty(t,"__esModule",{value:!0}),t.viewToModelImage=o,t.createImageAttributeConverter=i;var u=n(5),l=r(u),f=n(1),s=r(f),c=n(24),d=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(329),c=r(s);n(!function(){var e=new Error('Cannot find module "../theme/imagecaption/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){if("insert"===t){var o=new y.default({boundaries:n.range,ignoreElementEnd:!0}),i=!0,a=!1,u=void 0;try{for(var l,f=function(){var e=l.value,t=e.item;"elementStart"==e.type&&(0,R.isImage)(t)&&!(0,F.getCaptionFromImage)(t)&&r.document.enqueueChanges(function(){r.insert(E.default.createAt(t,"end"),new _.default("caption"))})},s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)f()}catch(e){a=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw u}}}}function l(e,t){return function(n,r){if(s(r.item)){var o=r.item.parent,i=o.parent,a=t.toViewElement(i),u=t.toViewElement(o);a&&!u&&(u=e(),c(u,o,a,t))}}}function f(e){return function(t,n,r,o){var i=n.item;if((0,R.isImage)(i.parent)&&i.childCount>0){if(!r.consume(n.item,"insert"))return;var a=o.mapper.toViewElement(n.range.start.parent);c(e instanceof O.default?e.clone(!0):e(),n.item,a,o.mapper)}}}function s(e){return!(!e.parent||"caption"!=e.parent.name||!e.parent.parent||"image"!=e.parent.parent.name)}function c(e,t,n,r){var o=T.default.createAt(n,"end");M.default.insert(o,e),r.bindElements(t,e)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),v=n(33),y=r(v),b=n(5),_=r(b),m=n(39),g=r(m),w=n(20),O=r(w),k=n(34),P=r(k),j=n(75),M=r(j),x=n(1),E=r(x),S=n(25),T=r(S),C=n(46),A=r(C),R=n(40),F=n(330),N=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.document,r=t.editing.view,o=n.schema,i=t.data,a=t.editing,s=a.mapper;this._createCaption=(0,F.captionElementCreator)(r),o.registerItem("caption"),o.allow({name:"$inline",inside:"caption"}),o.allow({name:"caption",inside:"image"}),o.limits.add("caption"),n.on("change",u),(0,A.default)().for(i.viewToModel).from(F.matchImageCaption).toElement("caption"),i.modelToView.on("insert:caption",f(new g.default("figcaption"))),a.modelToView.on("insert:caption",f(this._createCaption)),a.modelToView.on("insert",l(this._createCaption,s),{priority:"high"}),this.listenTo(r,"render",function(){return e._updateView()},{priority:"high"})}},{key:"_removeEmptyCaption",value:function(){var e=this.editor.editing.view.selection,t=this._lastSelectedEditable;if(t&&e.editableElement!==t){var n=e.getSelectedElement();if(n&&(0,R.isImageWidget)(n)){if(t.findAncestor(function(e){return e==n}))return}if(0===t.childCount){var r=this.editor.editing.mapper;M.default.remove(P.default.createOn(t)),r.unbindViewElement(t)}}}},{key:"_addCaptionWhenSelected",value:function(){var e=this.editor.editing,t=e.view.selection,n=t.getSelectedElement(),r=e.mapper;if(n&&(0,R.isImageWidget)(n)){var o=r.toModelElement(n),i=(0,F.getCaptionFromImage)(o),a=r.toViewElement(i);a||(a=this._createCaption(),c(a,i,n,r)),this._lastSelectedEditable=a}}},{key:"_updateView",value:function(){var e=this.editor.editing.view.selection;this._removeEmptyCaption(),this._addCaptionWhenSelected(),e.editableElement&&(0,F.isCaption)(e.editableElement)&&(this._lastSelectedEditable=e.editableElement)}}]),t}(p.default);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=new f.default("figcaption",{contenteditable:!0});return t.document=e,t.setCustomProperty(d,!0),t.on("change:isFocused",function(e,n,r){r?t.addClass("focused"):t.removeClass("focused")}),t}}function i(e){return!!e.getCustomProperty(d)}function a(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.getChildren()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a instanceof c.default&&"caption"==a.name)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return null}function u(e){var t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}Object.defineProperty(t,"__esModule",{value:!0}),t.captionElementCreator=o,t.isCaption=i,t.getCaptionFromImage=a,t.matchImageCaption=u;var l=n(71),f=r(l),s=n(5),c=r(s),d=Symbol("imageCaption")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(334),c=r(s),d=n(26),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor.config.get("image.styles"),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._createButton(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}var u=this.editor.config.get("image.defaultToolbar");u&&(u.length&&u.push("|"),e.forEach(function(e){return u.push(e.name)}))}},{key:"_createButton",value:function(e){var t=this,n=this.editor,r=n.commands.get(e.name);n.ui.componentFactory.add(e.name,function(o){var i=new h.default(o);return i.set({label:e.title,icon:e.icon,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value"),t.listenTo(i,"execute",function(){return n.execute(e.name)}),i})}}],[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */
function o(e){return function(t,n,r,o){var i=t.name.split(":")[0],a=i+":imageStyle";if(r.test(n.item,a)){var s=u(n.attributeNewValue,e),c=u(n.attributeOldValue,e),d=o.mapper.toViewElement(n.item);(l(i,c,d)||f(i,s,d))&&r.consume(n.item,a)}}}function i(e){var t=e.filter(function(e){return null!==e.value});return function(e,n,r,o){var i=!0,u=!1,l=void 0;try{for(var f,s=t[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){a(f.value,n,r,o)}}catch(e){u=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw l}}}}function a(e,t,n,o){var i=t.input,a=t.output;if(n.test(i,{class:e.className})&&(0,s.isImage)(a)){var u=[].concat(r(a.getAttributeKeys()),["imageStyle"]);o.schema.check({name:"image",inside:t.context,attributes:u})&&(n.consume(i,{class:e.className}),a.setAttribute("imageStyle",e.value))}}function u(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.value===e)return u}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function l(e,t,n){return!(!t||"changeAttribute"!=e&&"removeAttribute"!=e)&&(n.removeClass(t.className),!0)}function f(e,t,n){return!(!t||"addAttribute"!=e&&"changeAttribute"!=e)&&(n.addClass(t.className),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.modelToViewStyleAttribute=o,t.viewToModelStyleAttribute=i;var s=n(40)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(40),c=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.set("value",!1),r.style=n,r.listenTo(e.document,"changesDone",function(){r._updateValue(),r.refreshState()}),r}return a(t,e),u(t,[{key:"_updateValue",value:function(){var e=this.editor.document,t=e.selection.getSelectedElement();if(!t)return void(this.value=!1);null===this.style.value?this.value=!t.hasAttribute("imageStyle"):this.value=t.getAttribute("imageStyle")==this.style.value}},{key:"_checkEnabled",value:function(){var e=this.editor.document.selection.getSelectedElement();return(0,s.isImage)(e)}},{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.value){var n=this.editor,r=n.document,o=r.selection,i=o.getSelectedElement();r.enqueueChanges(function(){(t.batch||r.batch()).setAttribute(i,"imageStyle",e.style.value)})}}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(333),c=r(s),d=n(167),h=r(d),p=n(332),v=n(!function(){var e=new Error('Cannot find module "@ckeditor/ckeditor5-core/theme/icons/object-center.svg"');throw e.code="MODULE_NOT_FOUND",e}()),y=r(v),b=n(!function(){var e=new Error('Cannot find module "@ckeditor/ckeditor5-core/theme/icons/object-right.svg"');throw e.code="MODULE_NOT_FOUND",e}()),_=r(b),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.t,n=e.document,r=n.schema,o=e.data,i=e.editing;e.config.define("image.styles",[{name:"imageStyleFull",title:t("Full size image"),icon:y.default,value:null},{name:"imageStyleSide",title:t("Side image"),icon:_.default,value:"side",className:"image-style-side"}]);var a=e.config.get("image.styles");r.allow({name:"image",attributes:"imageStyle",inside:"$root"});var u=(0,p.modelToViewStyleAttribute)(a);i.modelToView.on("addAttribute:imageStyle:image",u),o.modelToView.on("addAttribute:imageStyle:image",u),i.modelToView.on("changeAttribute:imageStyle:image",u),o.modelToView.on("changeAttribute:imageStyle:image",u),i.modelToView.on("removeAttribute:imageStyle:image",u),o.modelToView.on("removeAttribute:imageStyle:image",u),o.viewToModel.on("element:figure",(0,p.viewToModelStyleAttribute)(a),{priority:"low"});var l=!0,f=!1,s=void 0;try{for(var d,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;e.commands.set(v.name,new c.default(e,v))}}catch(e){f=!0,s=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw s}}}}],[{key:"requires",get:function(){return[h.default]}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(26),c=r(s),d=n(337),h=r(d),p=n(359),v=r(p),y=n(175),b=r(y),_=n(169),m=r(_),g=n(338),w=r(g),O=n(168),k=r(O),P=n(!function(){var e=new Error('Cannot find module "@ckeditor/ckeditor5-core/theme/icons/low-vision.svg"');throw e.code="MODULE_NOT_FOUND",e}()),j=r(P);n(!function(){var e=new Error('Cannot find module "../theme/imagetextalternative/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this;this._createButton();var t=this.editor.config.get("image.defaultToolbar");return t&&(t.length&&t.push("|"),t.push("imageTextAlternative")),this._createBalloonPanel().then(function(t){e.balloonPanel=t,e.form=t.content.get(0)})}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.commands.get("imageTextAlternative"),r=t.t;t.ui.componentFactory.add("imageTextAlternative",function(t){var o=new c.default(t);return o.set({label:r("Change image text alternative"),icon:j.default,tooltip:!0}),o.bind("isEnabled").to(n,"isEnabled"),e.listenTo(o,"execute",function(){return e._showBalloonPanel()}),o})}},{key:"_createBalloonPanel",value:function(){var e=this,t=this.editor,n=new k.default(t),r=new w.default(t.locale);this.listenTo(r,"submit",function(){t.execute("imageTextAlternative",{newValue:r.lebeledInput.inputView.element.value}),e._hideBalloonPanel()});var o=t.plugins.get(m.default);return o&&this.listenTo(n,"change:isVisible",function(){n.isVisible?(o.hide(),o.isEnabled=!1):(o.show(),o.isEnabled=!0)}),this.listenTo(r,"cancel",function(){return e._hideBalloonPanel()}),(0,v.default)({emitter:n,activator:function(){return n.isVisible},callback:function(){return e._hideBalloonPanel()}}),(0,b.default)({emitter:n,activator:function(){return n.isVisible},contextElement:n.element,callback:function(){return e._hideBalloonPanel()}}),Promise.all([n.content.add(r),t.ui.view.body.add(n)]).then(function(){return n})}},{key:"_showBalloonPanel",value:function(){var e=this.editor,t=e.commands.get("imageTextAlternative");this.form.lebeledInput.value=t.value||"",this.balloonPanel.attach(),this.form.lebeledInput.select()}},{key:"_hideBalloonPanel",value:function(){var e=this.editor;this.balloonPanel.detach(),e.editing.view.focus()}}],[{key:"requires",get:function(){return[h.default]}}]),t}(f.default);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(40),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set("value",!1),n.listenTo(e.document,"changesDone",function(){n._updateValue(),n.refreshState()}),n}return a(t,e),u(t,[{key:"_updateValue",value:function(){var e=this.editor.document,t=e.selection.getSelectedElement();(0,s.isImage)(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"_checkEnabled",value:function(){var e=this.editor.document.selection.getSelectedElement();return(0,s.isImage)(e)}},{key:"_doExecute",value:function(e){var t=this.editor,n=t.document,r=n.selection.getSelectedElement();n.enqueueChanges(function(){(e.batch||n.batch()).setAttribute(r,"alt",e.newValue)})}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(336),f=r(l),s=n(2),c=r(s),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){this.editor.commands.set("imageTextAlternative",new f.default(this.editor))}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),f=r(l),s=n(26),c=r(s),d=n(6),h=r(d),p=n(178),v=r(p),y=n(177),b=r(y),_=n(176),m=r(_),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.locale.t;return n.lebeledInput=n._createLabeledInputView(),n.saveButtonView=n._createButton(r("Save")),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(r("Cancel"),"cancel"),h.default.extend(n.saveButtonView.template,{attributes:{class:["ck-button-action"]}}),n.template=new h.default({tag:"form",attributes:{class:["cke-text-alternative-form"]},children:[n.lebeledInput,{tag:"div",attributes:{class:["cke-text-alternative-form__actions"]},children:[n.saveButtonView,n.cancelButtonView]}]}),(0,m.default)({view:n}),n}return a(t,e),u(t,[{key:"_createButton",value:function(e,t){var n=new c.default(this.locale);return n.label=e,n.withText=!0,t&&n.delegate("execute").to(this,t),n}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new v.default(this.locale,b.default);return t.label=e("Text alternative"),t}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e==E.keyCodes.arrowright||e==E.keyCodes.arrowleft||e==E.keyCodes.arrowup||e==E.keyCodes.arrowdown}function l(e){return e==E.keyCodes.delete||e==E.keyCodes.backspace}function f(e){for(;e;){if(e instanceof P.default&&!(e instanceof M.default))return!0;e=e.parent}return!1}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),d=r(c),h=n(170),p=r(h),v=n(316),y=r(v),b=n(3),_=r(b),m=n(57),g=r(m),w=n(5),O=r(w),k=n(71),P=r(k),j=n(165),M=r(j),x=n(113),E=n(21),S=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"init",value:function(){var e=this,t=this.editor.editing.view;t.addObserver(y.default),this.listenTo(t,"mousedown",function(){return e._onMousedown.apply(e,arguments)}),this.listenTo(t,"keydown",function(){return e._onKeydown.apply(e,arguments)},{priority:"high"})}},{key:"_onMousedown",value:function(e,t){var n=this,r=this.editor,o=r.editing.view,i=t.target;if(!f(i)&&((0,x.isWidget)(i)||(i=i.findAncestor(x.isWidget)))){t.preventDefault(),o.isFocused||o.focus();var a=r.editing.mapper.toModelElement(i);r.document.enqueueChanges(function(){n._setSelectionOverElement(a)})}}},{key:"_onKeydown",value:function(e,t){var n=t.keyCode,r=n==E.keyCodes.delete||n==E.keyCodes.arrowdown||n==E.keyCodes.arrowright;(l(n)&&this._handleDelete(r)||u(n)&&this._handleArrowKeys(r))&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var t=this,n=this.editor.document,r=n.selection;if(r.isCollapsed){var o=this._getObjectElementNextToSelection(e);return o?(n.enqueueChanges(function(){var e=r.anchor.parent;if(e.isEmpty){n.batch().remove(e)}t._setSelectionOverElement(o)}),!0):void 0}}},{key:"_handleArrowKeys",value:function(e){var t=this,n=this.editor.document,r=n.schema,o=n.selection,i=o.getSelectedElement();if(i&&r.objects.has(i.name)){var a=e?o.getLastPosition():o.getFirstPosition(),u=n.getNearestSelectionRange(a,e?"forward":"backward");return u&&n.enqueueChanges(function(){o.setRanges([u])}),!0}if(o.isCollapsed){var l=this._getObjectElementNextToSelection(e);return l instanceof O.default&&n.schema.objects.has(l.name)?(n.enqueueChanges(function(){t._setSelectionOverElement(l)}),!0):void 0}}},{key:"_setSelectionOverElement",value:function(e){this.editor.document.selection.setRanges([_.default.createOn(e)])}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.document,n=t.schema,r=t.selection,o=this.editor.data,i=g.default.createFromSelection(r);o.modifySelection(i,{direction:e?"forward":"backward"});var a=e?i.focus.nodeBefore:i.focus.nodeAfter;return a instanceof O.default&&n.objects.has(a.name)?a:null}}],[{key:"requires",get:function(){return[p.default]}}]),t}(d.default);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.parent.getAncestors().find(function(e){return e instanceof y.default})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),s=r(f),c=n(312),d=r(c),h=n(342),p=r(h),v=n(172),y=r(v),b=n(175),_=r(b),m=n(26),g=r(m),w=n(179),O=r(w),k=n(343),P=r(k),j=n(!function(){var e=new Error('Cannot find module "../theme/icons/link.svg"');throw e.code="MODULE_NOT_FOUND",e}()),M=r(j),x=n(!function(){var e=new Error('Cannot find module "../theme/icons/unlink.svg"');throw e.code="MODULE_NOT_FOUND",e}()),E=r(x);n(!function(){var e=new Error('Cannot find module "../theme/theme.scss"');throw e.code="MODULE_NOT_FOUND",e}());/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var S=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){this.editor.editing.view.addObserver(d.default),this.balloonPanelView=this._createBalloonPanel(),this.formView=this._createForm(),this._createToolbarLinkButton(),this._createToolbarUnlinkButton()}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),r=t.t;t.keystrokes.set("CTRL+K",function(){return e._showPanel()}),t.ui.componentFactory.add("link",function(t){var o=new g.default(t);return o.isEnabled=!0,o.label=r("Link"),o.icon=M.default,o.keystroke="CTRL+K",o.tooltip=!0,o.bind("isEnabled").to(n,"isEnabled"),e.listenTo(o,"execute",function(){return e._showPanel()}),o})}},{key:"_createToolbarUnlinkButton",value:function(){var e=this,t=this.editor,n=t.t,r=t.commands.get("unlink");t.ui.componentFactory.add("unlink",function(o){var i=new g.default(o);return i.isEnabled=!1,i.label=n("Unlink"),i.icon=E.default,i.tooltip=!0,i.bind("isEnabled").to(r,"isEnabled"),e.listenTo(i,"execute",function(){return t.execute("unlink")}),i})}},{key:"_createBalloonPanel",value:function(){var e=this,t=this.editor,n=t.editing.view,r=new O.default(t.locale);return r.maxWidth=300,t.ui.focusTracker.add(r.element),this.listenTo(n,"click",function(){var t=n.selection,o=u(t.getFirstPosition());t.isCollapsed&&o&&(e._attachPanelToElement(),e.listenTo(n,"render",function(){var n=u(t.getFirstPosition());t.isCollapsed&&o===n?e._attachPanelToElement(o):e._hidePanel()}),e.listenTo(r,"change:isVisible",function(){return e.stopListening(n,"render")}))}),t.keystrokes.set("Tab",function(t,n){r.isVisible&&!e.formView.focusTracker.isFocused&&(e.formView.focus(),n())}),t.keystrokes.set("Esc",function(t,n){r.isVisible&&(e._hidePanel(!0),n())}),(0,_.default)({emitter:r,activator:function(){return r.isVisible},contextElement:r.element,callback:function(){return e._hidePanel()}}),t.ui.view.body.add(r),r}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=new P.default(t.locale);return n.urlInputView.bind("value").to(t.commands.get("link"),"value"),this.listenTo(n,"submit",function(){t.execute("link",n.urlInputView.inputView.element.value),e._hidePanel(!0)}),this.listenTo(n,"unlink",function(){t.execute("unlink"),e._hidePanel(!0)}),n.keystrokes.set("Esc",function(t,n){e._hidePanel(!0),n()}),this.listenTo(n,"cancel",function(){return e._hidePanel(!0)}),this.balloonPanelView.content.add(n),n}},{key:"_attachPanelToElement",value:function(e){var t=this.editor.editing.view,n=e||u(t.selection.getFirstPosition()),r=n?t.domConverter.getCorrespondingDomElement(n):t.domConverter.viewRangeToDom(t.selection.getFirstRange());this.balloonPanelView.attachTo({target:r,limiter:t.domConverter.getCorrespondingDomElement(t.selection.editableElement)})}},{key:"_hidePanel",value:function(e){this.balloonPanelView.hide(),e&&this.editor.editing.view.focus()}},{key:"_showPanel",value:function(){this._attachPanelToElement(),this.formView.urlInputView.select()}}],[{key:"requires",get:function(){return[p.default]}}]),t}(s.default);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(23),c=r(s),d=n(3),h=r(d),p=n(149),v=r(p),y=n(150),b=r(y),_=n(171),m=r(_),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set("value",void 0),n.listenTo(n.editor.document.selection,"change:attribute",function(){n.value=n.editor.document.selection.getAttribute("linkHref")}),n}return a(t,e),u(t,[{key:"_checkEnabled",value:function(){var e=this.editor.document;return(0,b.default)("linkHref",e.selection,e.schema)}},{key:"_doExecute",value:function(e){var t=this.editor.document,n=t.selection;t.enqueueChanges(function(){var r=t.batch();if(n.isCollapsed){var o=n.getFirstPosition(),i=o.parent;if(n.hasAttribute("linkHref")){var a=(0,m.default)(n.getFirstPosition(),n.getAttribute("linkHref"));r.setAttribute(a,"linkHref",e),n.setRanges([a])}else if(t.schema.check({name:"$text",attributes:"linkHref",inside:i.name})){var u=new c.default(e,{linkHref:e});r.insert(o,u),n.setRanges([h.default.createOn(u)])}}else{var l=(0,v.default)("linkHref",n.getRanges(),t.schema),f=!0,s=!1,d=void 0;try{for(var p,y=l[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var b=p.value;r.setAttribute(b,"linkHref",e)}}catch(e){s=!0,d=e}finally{try{!f&&y.return&&y.return()}finally{if(s)throw d}}}})}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(45),c=r(s),d=n(46),h=r(d),p=n(172),v=r(p),y=n(341),b=r(y),_=n(344),m=r(_),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.data,n=e.editing;e.document.schema.allow({name:"$inline",attributes:"linkHref"}),(0,c.default)().for(t.modelToView,n.modelToView).fromAttribute("linkHref").toElement(function(e){return new v.default("a",{href:e})}),(0,h.default)().for(t.viewToModel).fromElement("a").toAttribute(function(e){return{key:"linkHref",value:e.getAttribute("href")}}),e.commands.set("link",new b.default(e)),e.commands.set("unlink",new m.default(e))}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=n(116),p=r(h),v=n(26),y=r(v),b=n(178),_=r(b),m=n(177),g=r(m),w=n(176),O=r(w),k=n(61),P=r(k),j=n(115),M=r(j),x=n(62),E=r(x),S=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.t;return n.focusTracker=new P.default,n.keystrokes=new E.default,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(r("Save")),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(r("Cancel"),"cancel"),n.unlinkButtonView=n._createButton(r("Unlink"),"unlink"),n._focusables=new p.default,n._focusCycler=new M.default({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),d.default.extend(n.saveButtonView.template,{attributes:{class:["ck-button-action"]}}),n.template=new d.default({tag:"form",attributes:{class:["ck-link-form"]},children:[n.urlInputView,{tag:"div",attributes:{class:["ck-link-form__actions"]},children:[n.saveButtonView,n.cancelButtonView,n.unlinkButtonView]}]}),(0,O.default)({view:n}),[n.urlInputView,n.saveButtonView,n.cancelButtonView,n.unlinkButtonView].forEach(function(e){n._focusables.add(e),n.focusTracker.add(e.element)}),n}return a(t,e),u(t,[{key:"init",value:function(){return this.keystrokes.listenTo(this.element),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,t=new _.default(this.locale,g.default);return t.label=e("Link URL"),t}},{key:"_createButton",value:function(e,t){var n=new y.default(this.locale);return n.label=e,n.withText=!0,t&&n.delegate("execute").to(this,t),n}}]),t}(s.default);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(171),c=r(s),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listenTo(e.document.selection,"change:attribute",function(){return n.refreshState()}),n}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this.editor.document,t=e.selection;e.enqueueChanges(function(){var n=t.isCollapsed?[(0,c.default)(t.getFirstPosition(),t.getAttribute("linkHref"))]:t.getRanges(),r=e.batch(),o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;r.removeAttribute(f,"linkHref")}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}})}},{key:"_checkEnabled",value:function(){return this.editor.document.selection.hasAttribute("linkHref")}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){if(n.test(t.item,"insert")&&n.test(t.item,"addAttribute:type")&&n.test(t.item,"addAttribute:indent")){n.consume(t.item,"insert"),n.consume(t.item,"addAttribute:type"),n.consume(t.item,"addAttribute:indent");var o=t.item;b(o,p(o,r.mapper),r.mapper)}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function i(e,t,n,r){if(n.consume(t.item,"changeAttribute:type")){var o=r.mapper.toViewElement(t.item);C.default.breakContainer(x.default.createBefore(o)),C.default.breakContainer(x.default.createAfter(o));var i=o.parent,a="numbered"==t.attributeNewValue?"ol":"ul";i=C.default.rename(i,a),y(i,i.nextSibling),y(i.previousSibling,i)}}function a(e,t,n,r){if(n.consume(t.item,"remove")){var o=r.mapper.toViewElement(t.item);C.default.breakContainer(x.default.createBefore(o)),C.default.breakContainer(x.default.createAfter(o));var i=o.parent;C.default.remove(S.default.createOn(i))}}function u(e,t,n,r){if(n.consume(t.item,"changeAttribute:indent")){var o=r.mapper.toViewElement(t.item);C.default.breakContainer(x.default.createBefore(o)),C.default.breakContainer(x.default.createAfter(o));var i=o.parent,a=i.previousSibling;C.default.remove(S.default.createOn(i)),y(a,a.nextSibling),b(t.item,o,r.mapper)}}function l(e,t,n,r){if("listItem"!=t.item.name)for(var o=r.mapper.toViewPosition(t.range.start);("ul"==o.parent.name||"ol"==o.parent.name)&&(o=C.default.breakContainer(o),null!==o.parent.parent);)o=x.default.createBefore(o.parent)}function f(e,t,n,r){var o=r.mapper.toViewPosition(t.sourcePosition);y(o.nodeBefore,o.nodeAfter)}function s(e,t,n,r){if(n.consume(t.input,{name:!0})){var o=new w.default("listItem");t.indent=t.indent?t.indent:0;var i="ul"==t.input.parent.name?"bulleted":"numbered";o.setAttribute("type",i),o.setAttribute("indent",t.indent),t.context.push(o),t.indent++;var a=[o],u=!0,l=!1,f=void 0;try{for(var s,c=t.input.getChildren()[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var d=s.value,h=r.convertItem(d,n,t);"ul"==d.name||"ol"==d.name?a=a.concat(Array.from(h.getChildren())):o.appendChildren(h)}}catch(e){l=!0,f=e}finally{try{!u&&c.return&&c.return()}finally{if(l)throw f}}t.indent--,t.context.pop(),t.output=t.output?t.output.concat(a):a}}function c(e,t,n){if(n.test(t.input,{name:!0})){var r=Array.from(t.input.getChildren()),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.name&&"li"==f.name||f.remove()}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}function d(e,t){"li"==t.viewPosition.parent.name&&"listItem"!=t.modelPosition.parent.name&&(t.viewPosition=x.default.createBefore(t.viewPosition.parent),e.stop())}function h(e,t){var n=t.viewPosition,r=t.mapper,o=n.nodeAfter,i=n.nodeBefore,a=void 0;if(o)"ul"==o.name||"ol"==o.name?a=r.toModelElement(o.getChild(0)):"li"==o.name&&(a=r.toModelElement(o)),a&&(t.modelPosition=k.default.createBefore(a));else if(i){var u=void 0;if("ul"==i.name||"ol"==i.name?u=i.getChild(i.childCount-1):"li"==i.name&&(u=i),u){a=r.toModelElement(u);var l=r.getModelLength(u);t.modelPosition=k.default.createBefore(a).getShiftedBy(l)}}null!==t.modelPosition&&e.stop()}function p(e,t){var n="numbered"==e.getAttribute("type")?"ol":"ul",r=new m.default;return new j.default(n,null).appendChildren(r),t.bindElements(e,r),r}function v(e,t){for(var n=t.getNext?"nextSibling":"previousSibling",r=!!t.checkAllSiblings,o=!!t.sameIndent,i=!!t.biggerIndent,a=e.getAttribute("indent"),u=e[n];u&&"listItem"==u.name;){var l=u.getAttribute("indent");if(o&&a==l||i&&a<l)return u;if(!r||a>l)return null;u=u[n]}return null}function y(e,t){e&&t&&("ul"==e.name||"ol"==e.name)&&e.name==t.name&&C.default.mergeContainers(x.default.createAfter(e))}function b(e,t,n){var r=t.parent,o=v(e,{sameIndent:!0,biggerIndent:!0});if(o){var i=n.toViewElement(o),a=x.default.createAfter(i);C.default.breakContainer(a)}var u=v(e,{sameIndent:!0,checkAllSiblings:!0}),l=void 0;if(u){var f=n.toViewElement(u),s=x.default.createAfter(f);l=C.default.breakContainer(s)}else{var c=e.previousSibling;l=c&&"listItem"==c.name?x.default.createAt(n.toViewElement(c),"end"):n.toViewPosition(k.default.createBefore(e))}C.default.insert(l,r);var d=v(e,{getNext:!0,biggerIndent:!0}),h=n.toViewElement(d);if(h){var p=S.default.createOn(h.parent),b=x.default.createAt(t,"end");C.default.move(p,b)}y(r,r.nextSibling),y(r.previousSibling,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.modelViewInsertion=o,t.modelViewChangeType=i,t.modelViewRemove=a,t.modelViewChangeIndent=u,t.modelViewSplitOnInsert=l,t.modelViewMergeAfter=f,t.viewModelConverter=s,t.cleanList=c,t.modelToViewPosition=d,t.viewToModelPosition=h;var _=n(350),m=r(_),g=n(5),w=r(g),O=n(1),k=r(O),P=n(39),j=r(P),M=n(25),x=r(M),E=n(34),S=r(E),T=n(75),C=r(T)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(173),c=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._indentBy="forward"==n?1:-1,r.listenTo(e.document.selection,"change:range",function(){r.refreshState()}),r.listenTo(e.document,"changesDone",function(){r.refreshState()}),r}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this,t=this.editor.document,n=t.batch(),r=(0,s.getClosestListItem)(t.selection.getFirstPosition());t.enqueueChanges(function(){for(var t=r.getAttribute("indent"),o=[r],i=r.nextSibling;i&&"listItem"==i.name&&i.getAttribute("indent")>t;)o.push(i),i=i.nextSibling;e._indentBy<0&&(o=o.reverse());var a=!0,u=!1,l=void 0;try{for(var f,s=o[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var c=f.value,d=c.getAttribute("indent")+e._indentBy;d<0?n.rename(c,"paragraph").removeAttribute(c,"indent").removeAttribute(c,"type"):n.setAttribute(c,"indent",d)}}catch(e){u=!0,l=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw l}}})}},{key:"_checkEnabled",value:function(){var e=(0,s.getClosestListItem)(this.editor.document.selection.getFirstPosition());if(!e)return!1;var t=e.previousSibling,n=e.getAttribute("indent"),r=n+this._indentBy;if(this._indentBy>0){if(!t||"listItem"!=t.name)return!1;if(t.getAttribute("indent")+1<r)return!1}return!0}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(349),c=r(s),d=n(26),h=r(d),p=n(21),v=n(!function(){var e=new Error('Cannot find module "../theme/icons/numberedlist.svg"');throw e.code="MODULE_NOT_FOUND",e}()),y=r(v),b=n(!function(){var e=new Error('Cannot find module "../theme/icons/bulletedlist.svg"');throw e.code="MODULE_NOT_FOUND",e}()),_=r(b),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this,t=this.editor.t;this._addButton("numberedList",t("Numbered List"),y.default),this._addButton("bulletedList",t("Bulleted List"),_.default),this.listenTo(this.editor.editing.view,"enter",function(t,n){var r=e.editor.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())}),this.listenTo(this.editor.editing.view,"keydown",function(t,n){var r=null;if(n.keystroke==(0,p.parseKeystroke)("tab")?r="indentList":n.keystroke==(0,p.parseKeystroke)("Shift+tab")&&(r="outdentList"),r){e.editor.commands.get(r).isEnabled&&(e.editor.execute(r),n.preventDefault(),t.stop())}})}},{key:"_addButton",value:function(e,t,n){var r=this,o=this.editor,i=o.commands.get(e);o.ui.componentFactory.add(e,function(a){var u=new h.default(a);return u.set({label:t,icon:n,tooltip:!0}),u.bind("isOn","isEnabled").to(i,"value","isEnabled"),r.listenTo(u,"execute",function(){return o.execute(e)}),u})}}],[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(1),c=r(s),d=n(173),h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.type="bulleted"==n?"bulleted":"numbered",r.set("value",!1);var a=function(){r.refreshValue(),r.refreshState()};return r.listenTo(e.document.selection,"change:range",a),r.listenTo(e.document,"changesDone",a),r}return a(t,e),u(t,[{key:"refreshValue",value:function(){var e=this.editor.document.selection.getFirstPosition(),t=(0,d.getClosestListItem)(e);this.value=null!==t&&t.getAttribute("type")==this.type}},{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.document,r=Array.from(n.selection.getSelectedBlocks()),o=this.value===!0;n.enqueueChanges(function(){var i=t.batch||n.batch();if(o){for(var a=r[r.length-1].nextSibling,u=Number.POSITIVE_INFINITY,l=[];a&&"listItem"==a.name&&0!==a.getAttribute("indent");){var f=a.getAttribute("indent");f<u&&(u=f);var s=f-u;l.push({element:a,indent:s}),a=a.nextSibling}l=l.reverse();var c=!0,d=!1,h=void 0;try{for(var p,v=l[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=p.value;i.setAttribute(y.element,"indent",y.indent)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}}var b=!0,_=!1,m=void 0;try{for(var g,w=r[Symbol.iterator]();!(b=(g=w.next()).done);b=!0){var O=g.value;o&&"listItem"==O.name?i.rename(O,"paragraph").removeAttribute(O,"type").removeAttribute(O,"indent"):o||"listItem"==O.name?o||"listItem"!=O.name||O.getAttribute("type")==e.type||i.setAttribute(O,"type",e.type):i.setAttribute(O,"type",e.type).setAttribute(O,"indent",0).rename(O,"listItem")}}catch(e){_=!0,m=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw m}}})}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.document.selection,t=this.editor.document.schema,n=e.getSelectedBlocks().next().value;return!!n&&t.check({name:"listItem",attributes:["type","indent"],inside:c.default.createBefore(n)})}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(348),c=r(s),d=n(346),h=r(d),p=n(345),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.document.schema;t.registerItem("listItem","$block"),t.allow({name:"listItem",inside:"$root",attributes:["type","indent"]}),t.requireAttributes("listItem",["type","indent"]);var n=e.data,r=e.editing;r.mapper.on("modelToViewPosition",p.modelToViewPosition),r.mapper.on("viewToModelPosition",p.viewToModelPosition),n.mapper.on("modelToViewPosition",p.modelToViewPosition),r.modelToView.on("insert",p.modelViewSplitOnInsert,{priority:"high"}),r.modelToView.on("insert:listItem",p.modelViewInsertion),n.modelToView.on("insert",p.modelViewSplitOnInsert,{priority:"high"}),n.modelToView.on("insert:listItem",p.modelViewInsertion),r.modelToView.on("changeAttribute:type:listItem",p.modelViewChangeType),n.modelToView.on("changeAttribute:type:listItem",p.modelViewChangeType),r.modelToView.on("remove:listItem",p.modelViewRemove),r.modelToView.on("remove",p.modelViewMergeAfter,{priority:"low"}),n.modelToView.on("remove:listItem",p.modelViewRemove),n.modelToView.on("remove",p.modelViewMergeAfter,{priority:"low"}),r.modelToView.on("changeAttribute:indent:listItem",p.modelViewChangeIndent),n.modelToView.on("changeAttribute:indent:listItem",p.modelViewChangeIndent),n.viewToModel.on("element:li",p.viewModelConverter),n.viewToModel.on("element:ul",p.cleanList,{priority:"high"}),n.viewToModel.on("element:ol",p.cleanList,{priority:"high"}),e.commands.set("numberedList",new c.default(e,"numbered")),e.commands.set("bulletedList",new c.default(e,"bulleted")),e.commands.set("indentList",new h.default(e,"forward")),e.commands.set("outdentList",new h.default(e,"backward"))}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:null}Object.defineProperty(t,"__esModule",{value:!0});var l=n(39),f=r(l),s=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"li",e,n));return r.getFillerOffset=u,r}return a(t,e),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set("value",!1),n.listenTo(e.document,"changesDone",function(){return n._updateValue()}),n}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.document;t.enqueueChanges(function(){var n=e.batch||t.batch(),r=(e.selection||t.selection).getSelectedBlocks(),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;f.is("paragraph")||n.rename(f,"paragraph")}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}})}},{key:"_updateValue",value:function(){var e=this.editor.document.selection.getSelectedBlocks().next().value;e&&(this.value=e.is("paragraph"))}}]),t}(f.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(277),c=r(s),d=n(320),h=r(d),p=n(358),v=r(p),y=n(378),b=r(y),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"requires",get:function(){return[c.default,h.default,v.default,b.default]}}]),t}(f.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(354),c=r(s),d=n(355),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;t.addObserver(h.default),e.commands.set("forwardDelete",new c.default(e,"forward")),e.commands.set("delete",new c.default(e,"backward")),this.listenTo(t,"delete",function(t,n){e.execute("forward"==n.direction?"forwardDelete":"delete",{unit:n.unit}),n.preventDefault()})}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),f=r(l),s=n(57),c=r(s),d=n(174),h=r(d),p=n(182),v=r(p),y=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.direction=n,r._buffer=new h.default(e.document,e.config.get("typing.undoStep")),r}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.document,r=this.editor.data;n.enqueueChanges(function(){e._buffer.lock();var o=c.default.createFromSelection(n.selection);if(o.isCollapsed&&r.modifySelection(o,{direction:e.direction,unit:t.unit}),!o.isCollapsed){var i=0;o.getFirstRange().getMinimalFlatRanges().forEach(function(e){i+=(0,v.default)(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(o,e._buffer.batch,{merge:!0}),e._buffer.input(i),n.selection.setRanges(o.getRanges(),o.isBackward),e._buffer.unlock()}})}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(48),f=r(l),s=n(112),c=r(s),d=n(21),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.on("keydown",function(t,n){var r={};if(n.keyCode==d.keyCodes.delete)r.direction="forward",r.unit="character";else{if(n.keyCode!=d.keyCodes.backspace)return;r.direction="backward",r.unit="codePoint"}r.unit=n.altKey?"word":r.unit,e.fire("delete",new c.default(e,n.domEvent,r))}),n}return a(t,e),u(t,[{key:"observe",value:function(){}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return!!e.ctrlKey||x.includes(e.keyCode)}function l(e,t){return e instanceof b.default&&t instanceof b.default?e.data===t.data:e===t}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),d=n(3),h=r(d),p=n(25),v=r(p),y=n(29),b=r(y),_=n(183),m=r(_),g=n(382),w=r(g),O=n(21),k=n(357),P=r(k),j=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,r=new P.default(t,t.config.get("typing.undoStep")||20);t.commands.set("input",r),this.listenTo(n,"keydown",function(t,n){e._handleKeydown(n,r.buffer)},{priority:"lowest"}),this.listenTo(n,"mutations",function(t,n,r){e._handleMutations(n,r)})}},{key:"_handleKeydown",value:function(e,t){var n=this,r=this.editor.document;u(e)||r.selection.isCollapsed||(t.lock(),r.enqueueChanges(function(){n.editor.data.deleteContent(r.selection,t.batch)}),t.unlock())}},{key:"_handleMutations",value:function(e,t){new M(this.editor).handle(e,t)}}]),t}(c.default);t.default=j;for(var M=function(){function e(t){o(this,e),this.editor=t,this.editing=this.editor.editing}return f(e,[{key:"handle",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;this._handleTextMutation(u,t),this._handleTextNodeInsertion(u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"_handleTextMutation",value:function(e,t){if("text"==e.type){for(var n=e.newText.replace(/\u00A0/g," "),r=e.oldText.replace(/\u00A0/g," "),o=(0,m.default)(r,n),i=null,a=null,u=0;u<o.length;u++){"equal"!=o[u]&&(i=null===i?u:i,a=u)}for(var l=0,f=0,s=i;s<=a;s++)"insert"!=o[s]&&l++,"delete"!=o[s]&&f++;var c=null;t&&(c=this.editing.mapper.toModelRange(t.getFirstRange()));var d=new v.default(e.node,i),p=this.editing.mapper.toModelPosition(d),y=h.default.createFromPositionAndShift(p,l),b=n.substr(i,f);this.editor.execute("input",{text:b,range:y,resultRange:c})}}},{key:"_handleTextNodeInsertion",value:function(e){if("children"==e.type&&e.newChildren.length-e.oldChildren.length==1){var t=(0,m.default)(e.oldChildren,e.newChildren,l),n=(0,w.default)(t,e.newChildren);if(!(n.length>1)){var r=n[0];if(r.values[0]instanceof b.default){var o=new v.default(e.node,r.index),i=this.editing.mapper.toModelPosition(o),a=r.values[0].data;this.editor.execute("input",{text:a.replace(/\u00A0/g," "),range:new h.default(i)})}}}}}]),e}(),x=[(0,O.getCode)("arrowUp"),(0,O.getCode)("arrowRight"),(0,O.getCode)("arrowDown"),(0,O.getCode)("arrowLeft"),9,16,17,18,20,27,33,34,35,36,229],E=112;E<=135;E++)x.push(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(12),s=r(f),c=n(174),d=r(c),h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._buffer=new d.default(e.document,n),r}return a(t,e),u(t,[{key:"destroy",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._buffer.destroy(),this._buffer=null}},{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.document,r=t.text||"",o=r.length,i=t.range||n.selection.getFirstRange(),a=t.resultRange;n.enqueueChanges(function(){var t=i.isCollapsed;e._buffer.lock(),t||e._buffer.batch.remove(i),e._buffer.batch.weakInsert(i.start,r),a?e.editor.data.model.selection.setRanges([a]):t&&e.editor.data.model.selection.collapse(i.start.getShiftedBy(o)),e._buffer.unlock(),e._buffer.input(o)})}},{key:"buffer",get:function(){return this._buffer}}]),t}(s.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(356),c=r(s),d=n(353),h=r(d),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"requires",get:function(){return[c.default,h.default]}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){var t=e.emitter,n=e.activator,r=e.callback;t.listenTo(document,"keydown",function(e,t){t.keyCode==o.keyCodes.esc&&n()&&r()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(21)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=r(a),l=function(){function e(t){o(this,e),this.editor=t,this._components=new Map}return i(e,[{key:"add",value:function(e,t){if(this._components.get(e))throw new u.default("componentfactory-item-exists: The item already exists in the component factory.",{name:e});this._components.set(e,t)}},{key:"create",value:function(e){return this._components.get(e)(this.editor.locale)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=new a.default(t);n.bind("label","isOn","isEnabled","withText","keystroke","tooltip").to(e);var r=new s.default(t);return new l.default(t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(26),a=r(i),u=n(363),l=r(u),f=n(362),s=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),l=r(u),f=n(6),s=r(f),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.bindTemplate;return n.set("isVisible",!1),n.children=n.createCollection(),n.template=new s.default({tag:"div",attributes:{class:["ck-reset","ck-dropdown__panel",r.if("isVisible","ck-dropdown__panel-visible")]},children:n.children}),n}return a(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=n(61),p=r(h),v=n(62),y=r(v),b=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.default.extend(n.template,{attributes:{class:["ck-dropdown__button"]}}),a.buttonView=n,a.panelView=r,a.set("isOpen",!1),a.focusTracker=new p.default,a.keystrokes=new y.default,a.template=new d.default({tag:"div",attributes:{class:["ck-dropdown"]},children:[n,r]}),a.listenTo(n,"execute",function(){return a.isOpen=!a.isOpen}),r.bind("isVisible").to(a,"isOpen"),a}return a(t,e),u(t,[{key:"init",value:function(){var e=this;this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var n=function(t,n){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,n())};return this.keystrokes.set("arrowdown",function(t,n){e.isOpen||(e.isOpen=!0,n())}),this.keystrokes.set("arrowright",function(t,n){e.isOpen&&n()}),this.keystrokes.set("arrowleft",n),this.keystrokes.set("esc",n),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"focus",value:function(){this.buttonView.focus()}}]),t}(s.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}/**
                                                                                                                                                                                                     * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                     * For licensing, see LICENSE.md.
                                                                                                                                                                                                     */
function i(e,t){var n=(0,d.default)(e,t),r=n.listView=new l.default(t);return r.items.bindTo(e.items).using(function(e){var n=new s.default(t);return n.bind.apply(n,o(Object.keys(e))).to(e),n}),r.items.delegate("execute").to(n),n.panelView.children.add(r),n.on("change:isOpen",function(e,t,r){r?a(n):n.stopListening(document)}),n.on("execute",function(){n.isOpen=!1}),n.keystrokes.set("arrowdown",function(e,t){n.isOpen&&(r.focus(),t())}),n.keystrokes.set("arrowup",function(e,t){n.isOpen&&(r.focusLast(),t())}),n}function a(e){e.listenTo(document,"click",function(t,n){var r=n.target;e.element==r||e.element.contains(r)||(e.isOpen=!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var u=n(372),l=r(u),f=n(371),s=r(f),c=n(361),d=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=r.bindTemplate;return n&&(r.element=r.editableElement=n),r.template=new d.default({tag:"div",attributes:{class:[a.to("isFocused",function(e){return e?"ck-focused":"ck-blurred"}),"ck-editor__editable"],contenteditable:a.to("isReadOnly",function(e){return!e})}}),r.set("isReadOnly",!1),r.set("isFocused",!1),r.externalElement=n,r}return a(t,e),u(t,[{key:"init",value:function(){return this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"destroy",value:function(){return this.externalElement&&this.template.revert(this.externalElement),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(s.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(365),l=r(u),f=n(6),s=r(f),c=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r.bindTemplate,u=r.t;r.set("name",null);var l=function(e){return u("Rich Text Editor, %0",[e])};return s.default.extend(r.template,{attributes:{role:"textbox","aria-label":a.to("name",l),class:"ck-editor__editable_inline"}}),r}return a(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(368),l=r(u),f=n(66),s=r(f),c=n(6),d=r(c),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.t,a=(0,s.default)();return n.set("width",null),n.set("height",null),n.top=n.createCollection(),n.main=n.createCollection(),n.template=new d.default({tag:"div",attributes:{class:["ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:"ltr",lang:e.lang,"aria-labelledby":"cke-editor__aria-label_"+a},children:[{tag:"span",attributes:{id:"cke-editor__aria-label_"+a,class:"cke-voice-label"},children:[r("Rich Text Editor")]},{tag:"div",attributes:{class:"ck-editor__top ck-reset_all",role:"presentation"},children:n.top},{tag:"div",attributes:{class:"ck-editor__main",role:"presentation"},children:n.main}]}),n}return a(t,e),t}(l.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.body=n.createCollection(),n}return a(t,e),u(t,[{key:"init",value:function(){var e=this;return Promise.resolve().then(function(){return e._renderBodyCollection()}).then(function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",e).call(e)})}},{key:"destroy",value:function(){return this._bodyCollectionContainer.remove(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_renderBodyCollection",value:function(){var e=this._bodyCollectionContainer=new d.default({tag:"div",attributes:{class:["ck-body","ck-rounded-corners","ck-reset_all"]},children:this.body}).render();document.body.appendChild(e)}}]),t}(s.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),l=r(u),f=n(6),s=r(f),c=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.bindTemplate;return e.set("content"),e.set("viewBox","0 0 20 20"),e.template=new s.default({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:"ck-icon",viewBox:n.to("viewBox")}}),e.on("change:content",function(t,n,r){for(var o=(new DOMParser).parseFromString(r.trim(),"image/svg+xml").firstChild;o.childNodes.length>0;)e.element.appendChild(o.childNodes[0])}),e}return a(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),l=r(u),f=n(6),s=r(f),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.set("text"),n.set("for");var r=n.bindTemplate;return n.template=new s.default({tag:"label",attributes:{class:["ck-label"],for:r.to("for")},children:[{text:r.to("text")}]}),n}return a(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),f=r(l),s=n(6),c=r(s),d=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.set("tabindex",-1);var n=e.bindTemplate;return e.template=new c.default({tag:"li",attributes:{class:["ck-list__item",n.to("class"),n.if("isActive","ck-list__item_active")],style:n.to("style"),tabindex:n.to("tabindex")},children:[{text:n.to("label")}],on:{click:n.to("execute")}}),e}return a(t,e),u(t,[{key:"focus",value:function(){this.element.focus()}}]),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(9),s=r(f),c=n(6),d=r(c),h=n(61),p=r(h),v=n(115),y=r(v),b=n(62),_=r(b),m=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.items=e.createCollection(),e.focusTracker=new p.default,e.keystrokes=new _.default,e._focusCycler=new y.default({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.template=new d.default({tag:"ul",attributes:{class:["ck-reset","ck-list"]},children:e.items}),e.items.on("add",function(t,n){e.focusTracker.add(n.element)}),e.items.on("remove",function(t,n){e.focusTracker.remove(n.element)}),e}return a(t,e),u(t,[{key:"init",value:function(){return this.keystrokes.listenTo(this.element),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),t}(s.default);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),a=r(i),u=n(4),l=r(u),f=n(31),s=r(f),c=function e(t,n){o(this,e),n&&(0,a.default)(this,n),t&&this.set(t)};t.default=c,(0,l.default)(c,s.default)},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=e.origin,n=e.originKeystrokeHandler,r=e.originFocusTracker,o=e.toolbar;r.add(o.element),n.set("Alt+F10",function(e,t){r.isFocused&&!o.focusTracker.isFocused&&(o.focus(),t())}),o.keystrokes.set("Esc",function(e,n){o.focusTracker.isFocused&&(t.focus(),n())})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},f=n(60),s=r(f),c=n(6),d=r(c),h=n(180),p=r(h),v=n(185),y=r(v),b=(0,y.default)("px"),_=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.bindTemplate;return n.set("isActive",!1),n.set("isSticky",!1),n.set("limiterElement",null),n.set("limiterOffset",50),n.set("_marginLeft",null),n.set("_isStickyToTheLimiter",!1),d.default.extend(n.template,{attributes:{class:[r.if("isSticky","ck-toolbar_sticky"),r.if("_isStickyToTheLimiter","ck-toolbar_sticky_bottom-limit")],style:{width:r.to("isSticky",function(e){return e?b(n._elementPlaceholder.getBoundingClientRect().width):null}),bottom:r.to("_isStickyToTheLimiter",function(e){return e?b(n.limiterOffset):null}),marginLeft:r.to("_marginLeft")}}}),n._elementPlaceholder=new d.default({tag:"div",attributes:{class:["ck-toolbar__placeholder"],style:{display:r.to("isSticky",function(e){return e?"block":"none"}),height:r.to("isSticky",function(e){return e?b(n._toolbarRect.height):null})}}}).render(),n}return a(t,e),u(t,[{key:"init",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(s.default.window,"scroll",function(){e._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){e._checkIfShouldBeSticky()})}},{key:"destroy",value:function(){var e=this;return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this).then(function(){e._elementPlaceholder.remove()})}},{key:"_checkIfShouldBeSticky",value:function(){var e=this._limiterRect=this.limiterElement.getBoundingClientRect(),t=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&e.top<0&&this._toolbarRect.height+this.limiterOffset<e.height,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:b(-s.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}]),t}(p.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),l=r(u),f=n(6),s=r(f),c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.template=new s.default({tag:"span",attributes:{class:["ck-toolbar__separator"]}}),n}return a(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(181),f=r(l),s=n(103),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this,t=this._stack.pop();this.editor.document.enqueueChanges(function(){var n=t.batch.deltas[t.batch.deltas.length-1],r=n.baseVersion+n.operations.length,o=Array.from(e.editor.document.history.getDeltas(r)).filter(function(t){return!e._createdBatches.has(t.batch)});e._restoreSelection(t.selection.ranges,t.selection.isBackward,o),e._redo(t.batch)}),this.refreshState()}},{key:"_redo",value:function(e){var t=this.editor.document,n=t.batch();this._createdBatches.add(n);var r=e.deltas.slice();r.reverse();var o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value,c=f.baseVersion+f.operations.length,d=[f.getReversed()],h=!0,p=!1,v=void 0;try{for(var y,b=t.history.getDeltas(c)[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value;this._createdBatches.has(_.batch)||(d=(0,s.transformDeltaSets)(d,[_],!0).deltasA)}}catch(e){p=!0,v=e}finally{try{!h&&b.return&&b.return()}finally{if(p)throw v}}var m=!0,g=!1,w=void 0;try{for(var O,k=d[Symbol.iterator]();!(m=(O=k.next()).done);m=!0){var P=O.value;P.baseVersion=t.version,n.addDelta(P);var j=!0,M=!1,x=void 0;try{for(var E,S=P.operations[Symbol.iterator]();!(j=(E=S.next()).done);j=!0){var T=E.value;t.applyOperation(T)}}catch(e){M=!0,x=e}finally{try{!j&&S.return&&S.return()}finally{if(M)throw x}}}}catch(e){g=!0,w=e}finally{try{!m&&k.return&&k.return()}finally{if(g)throw w}}}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(380),c=r(s),d=n(26),h=r(d),p=n(!function(){var e=new Error('Cannot find module "../theme/icons/undo.svg"');throw e.code="MODULE_NOT_FOUND",e}()),v=r(p),y=n(!function(){var e=new Error('Cannot find module "../theme/icons/redo.svg"');throw e.code="MODULE_NOT_FOUND",e}()),b=r(y),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){var e=this.editor,t=e.t;this._addButton("undo",t("Undo"),"CTRL+Z",v.default),this._addButton("redo",t("Redo"),"CTRL+Y",b.default),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}},{key:"_addButton",value:function(e,t,n,r){var o=this,i=this.editor,a=i.commands.get(e);i.ui.componentFactory.add(e,function(u){var l=new h.default(u);return l.set({label:t,icon:r,keystroke:n,tooltip:!0}),l.bind("isEnabled").to(a,"isEnabled"),o.listenTo(l,"execute",function(){return i.execute(e)}),l})}}],[{key:"requires",get:function(){return[c.default]}}]),t}(f.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(181),f=r(l),s=n(103),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"_doExecute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex(function(e){return e.batch==t}):this._stack.length-1,r=this._stack.splice(n,1)[0];this.editor.document.enqueueChanges(function(){var t=e._undo(r.batch),n=e.editor.document.history.getDeltas(r.batch.baseVersion);e._restoreSelection(r.selection.ranges,r.selection.isBackward,n),e.fire("revert",r.batch,t)}),this.refreshState()}},{key:"_getItemIndexFromBaseVersion",value:function(e){for(var t=0;t<this._stack.length;t++)if(this._stack[t].batch.baseVersion==e)return t;return null}},{key:"_undo",value:function(e){var t=this.editor.document,n=t.batch();this._createdBatches.add(n);var r=t.history,o=e.deltas.slice();o.reverse();var i=!0,a=!1,u=void 0;try{for(var f,c=o[Symbol.iterator]();!(i=(f=c.next()).done);i=!0){var d=f.value,h=d.baseVersion,p=h+d.operations.length,v=r.getDelta(h);if(null!==v){v.reverse();var y=[],b=!0,_=!1,m=void 0;try{for(var g,w=v[Symbol.iterator]();!(b=(g=w.next()).done);b=!0){var O=g.value;y.push(O.getReversed())}}catch(e){_=!0,m=e}finally{try{!b&&w.return&&w.return()}finally{if(_)throw m}}var k={},P=!0,j=!1,M=void 0;try{for(var x,E=r.getDeltas(p)[Symbol.iterator]();!(P=(x=E.next()).done);P=!0){var S=x.value,T=this._getItemIndexFromBaseVersion(S.baseVersion);null!==T&&(this._stack[T].selection.ranges=(0,l.transformRangesByDeltas)(this._stack[T].selection.ranges,y));var C=(0,s.transformDeltaSets)(y,[S],!0);y=C.deltasA;var A=C.deltasB;k[S.baseVersion]||(k[S.baseVersion]=[]),k[S.baseVersion]=k[S.baseVersion].concat(A)}}catch(e){j=!0,M=e}finally{try{!P&&E.return&&E.return()}finally{if(j)throw M}}var R=!0,F=!1,N=void 0;try{for(var V,I=y[Symbol.iterator]();!(R=(V=I.next()).done);R=!0){var D=V.value;D.baseVersion=t.version,n.addDelta(D);var B=!0,L=!1,q=void 0;try{for(var W,z=D.operations[Symbol.iterator]();!(B=(W=z.next()).done);B=!0){var K=W.value;t.applyOperation(K)}}catch(e){L=!0,q=e}finally{try{!B&&z.return&&z.return()}finally{if(L)throw q}}}}catch(e){F=!0,N=e}finally{try{!R&&I.return&&I.return()}finally{if(F)throw N}}r.removeDelta(h);var $=!0,U=!1,H=void 0;try{for(var J,G=y[Symbol.iterator]();!($=(J=G.next()).done);$=!0){var Y=J.value;r.removeDelta(Y.baseVersion)}}catch(e){U=!0,H=e}finally{try{!$&&G.return&&G.return()}finally{if(U)throw H}}for(var Q in k)r.updateDelta(Number(Q),k[Q])}}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}return n}}]),t}(f.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),s=n(379),c=r(s),d=n(377),h=r(d),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._batchRegistry=new WeakSet,n}return a(t,e),u(t,[{key:"init",value:function(){var e=this;this._undoCommand=new c.default(this.editor),this._redoCommand=new h.default(this.editor),this.editor.commands.set("undo",this._undoCommand),this.editor.commands.set("redo",this._redoCommand),this.listenTo(this.editor.document,"change",function(t,n,r,o){e._batchRegistry.has(o)||"transparent"==o.type||(e._redoCommand._createdBatches.has(o)?e._undoCommand.addBatch(o):e._undoCommand._createdBatches.has(o)||(e._undoCommand.addBatch(o),e._redoCommand.clearStack()),e._batchRegistry.add(o))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(t,n,r){e._redoCommand.addBatch(r)})}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(95),u=r(a),l=function(){function e(t,n){o(this,e),this._config={},n&&this.define(n),t&&this._setObjectToTarget(this._config,t)}return i(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"_setToTarget",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if((0,u.default)(t))return void this._setObjectToTarget(e,t,r);var o=t.split(".");t=o.pop();var i=!0,a=!1,l=void 0;try{for(var f,s=o[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value;(0,u.default)(e[c])||(e[c]={}),e=e[c]}}catch(e){a=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw l}}if((0,u.default)(n))return(0,u.default)(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,r);r&&void 0!==e[t]||(e[t]=n)}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var f=a.value;if(!(0,u.default)(e[f])){e=null;break}e=e[f]}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return e?e[t]:void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var r=this;Object.keys(t).forEach(function(o){r._setToTarget(e,o,t[o],n)})}}]),e}();t.default=l},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t){function n(){a&&(o.push(a),a=null)}function r(e){return a&&a.type==e}var o=[],i=0,a=void 0;return e.forEach(function(e){"equal"==e?(n(),i++):"insert"==e?(r("insert")?a.values.push(t[i]):(n(),a={type:"insert",index:i,values:[t[i]]}),i++):r("delete")?a.howMany++:(n(),a={type:"delete",index:i,howMany:1})}),n(),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=(0,a.default)(e),r=(0,a.default)(t),o=0;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(184),a=r(i)},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(;e&&"html"!=e.tagName.toLowerCase();){if("static"!=a.default.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(60),a=r(i)},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){return"[object Range]"==Object.prototype.toString.apply(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.element,n=e.target,r=e.positions,o=e.limiter,f=e.fitInViewport,s=(0,p.default)(t.parentElement),c=new d.default(t),h=new d.default(n),v=void 0,y=void 0;if(o||f){var b=o&&new d.default(o),_=f&&d.default.getViewportRect(),m=a(r,h,c,b,_)||i(r[0],h,c),g=l(m,2);y=g[0],v=g[1]}else{var w=i(r[0],h,c),O=l(w,2);y=O[0],v=O[1]}var k=u(v),P=k.left,j=k.top;if(s){var M=u(new d.default(s));P-=M.left,j-=M.top}return{left:P,top:j,name:y}}function i(e,t,n){var r=e(t,n),o=r.left,i=r.top;return[r.name,n.clone().moveTo(o,i)]}function a(e,t,n,r,o){var a=0,u=0,f=void 0,s=void 0,c=n.getArea();return e.some(function(e){function d(){u=_,a=b,f=y,s=v}var h=i(e,t,n),p=l(h,2),v=p[0],y=p[1],b=void 0,_=void 0;if(r)if(o){var m=r.getIntersection(o);b=m?m.getIntersectionArea(y):0}else b=r.getIntersectionArea(y);return o&&(_=o.getIntersectionArea(y)),o&&!r?_>u&&d():!o&&r?b>a&&d():_>u&&b>=a?d():_>=u&&b>a&&d(),b===c}),f?[s,f]:null}function u(e){var t=e.left,n=e.top,r=s.default.window;return{left:t+r.scrollX,top:n+r.scrollY}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * For licensing, see LICENSE.md.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */
t.getOptimalPosition=o;var f=n(60),s=r(f),c=n(390),d=r(c),h=n(385),p=r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(60),u=r(a),l=n(388),f=r(l),s=n(481),c=r(s),d=["top","right","bottom","left","width","height"],h=function(){function e(t){var n=this;o(this,e),((0,c.default)(t)||(0,f.default)(t))&&(t=t.getBoundingClientRect()),d.forEach(function(e){return n[e]=t[e]})}return i(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}}],[{key:"getViewportRect",value:function(){var t=u.default.window,n=t.innerWidth,r=t.innerHeight;return new e({top:0,right:n,bottom:r,left:0,width:n,height:r})}}]),e}();t.default=h},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e){var t=e.parentNode;t&&t.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this._replacedElements=[]}return o(e,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var t=e.element,n=e.newElement;t.style.display="",n&&n.remove()}),this._replacedElements=[]}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e.indexOf("macintosh")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=r;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var o=navigator.userAgent.toLowerCase(),i={mac:r(o)};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(497),a=r(i),u=function e(t,n){o(this,e),this.source=t,this.name=n,this.path=[],this.stop=(0,a.default)(),this.off=(0,a.default)()};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(30),u=r(a),l=(0,i.default)(u.default,"DataView");t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(443),a=r(i),u=n(444),l=r(u),f=n(445),s=r(f),c=n(446),d=r(c),h=n(447),p=r(h);o.prototype.clear=a.default,o.prototype.delete=l.default,o.prototype.get=s.default,o.prototype.has=d.default,o.prototype.set=p.default,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(30),u=r(a),l=(0,i.default)(u.default,"Promise");t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=r(o),a=i.default.Reflect;t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(30),u=r(a),l=(0,i.default)(u.default,"WeakMap");t.default=l},function(e,t,n){"use strict";function r(e,t){return e.set(t[0],t[1]),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){return e.add(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e&&(0,a.default)(t,(0,l.default)(t),e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(134),a=r(i),u=n(65),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=-1,r=null==e,o=t.length,i=Array(o);++n<o;)i[n]=r?void 0:(0,a.default)(e,t[n]);return i}Object.defineProperty(t,"__esModule",{value:!0});var i=n(222),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e)?u(e):{}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=r(i),u=Object.create;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=e.length;for(n=(0,a.default)(n),n<0&&(n=-n>o?0:o+n),r=void 0===r||r>o?o:(0,a.default)(r),r<0&&(r+=o),r=n>r?0:(0,l.default)(r);n<r;)e[n++]=t;return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=r(i),u=n(491),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=t(e);return(0,l.default)(e)?r:(0,a.default)(r,n(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=r(i),u=n(11),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e,t){return t in Object(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i){var u=(0,y.default)(e),f=(0,y.default)(t),c=k,h=k;u||(c=(0,p.default)(e),c=c==O?P:c),f||(h=(0,p.default)(t),h=h==O?P:h);var v=c==P&&!(0,_.default)(e),b=h==P&&!(0,_.default)(t),m=c==h;if(m&&!v)return i||(i=new a.default),u||(0,g.default)(e)?(0,l.default)(e,t,n,r,o,i):(0,s.default)(e,t,c,n,r,o,i);if(!(o&w)){var j=v&&M.call(e,"__wrapped__"),x=b&&M.call(t,"__wrapped__");if(j||x){var E=j?e.value():e,S=x?t.value():t;return i||(i=new a.default),n(E,S,r,o,i)}}return!!m&&(i||(i=new a.default),(0,d.default)(e,t,n,r,o,i))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),a=r(i),u=n(199),l=r(u),f=n(437),s=r(f),c=n(438),d=r(c),h=n(136),p=r(h),v=n(11),y=r(v),b=n(87),_=r(b),m=n(483),g=r(m),w=2,O="[object Arguments]",k="[object Array]",P="[object Object]",j=Object.prototype,M=j.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){c=n[o];var d=c[0],h=e[d],p=c[1];if(u&&c[2]){if(void 0===h&&!(d in e))return!1}else{var v=new a.default;if(r)var y=r(h,p,d,e,t,v);if(!(void 0===y?(0,l.default)(p,h,r,f|s,v):y))return!1}}return!0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),a=r(i),u=n(125),l=r(u),f=1,s=2;t.default=o},function(e,t,n){"use strict";function r(e){return o(Object(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.keys;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(399),a=r(i),u=n(453),l=r(u),f=Object.prototype,s=a.default?a.default.enumerate:void 0,c=f.propertyIsEnumerable;s&&!c.call({valueOf:1},"valueOf")&&(o=function(e){return(0,l.default)(s(e))}),t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,l.default)(e);return 1==t.length&&t[0][2]?(0,s.default)(t[0][0],t[0][1]):function(n){return n===e||(0,a.default)(n,e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(414),a=r(i),u=n(441),l=r(u),f=n(204),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,d.default)(e)&&(0,p.default)(t)?(0,y.default)((0,_.default)(e),t):function(n){var r=(0,l.default)(n,e);return void 0===r&&r===t?(0,s.default)(n,e):(0,a.default)(t,r,void 0,m|g)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(125),a=r(i),u=n(222),l=r(u),f=n(479),s=r(f),c=n(51),d=r(c),h=n(203),p=r(h),v=n(204),y=r(v),b=n(52),_=r(b),m=1,g=2;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.length;if(n)return t+=t<0?n:0,(0,a.default)(t,n)?e[t]:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){return(0,a.default)(t,e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(122),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){t=(0,d.default)(t,e)?[t]:(0,l.default)(t);for(var o=-1,i=t.length,u=i-1,f=e;null!=f&&++o<i;){var c=(0,y.default)(t[o]);if((0,p.default)(f)){var h=n;if(o!=u){var v=f[c];h=r?r(v,c,f):void 0,void 0===h&&(h=null==v?(0,s.default)(t[o+1])?[]:{}:v)}(0,a.default)(f,c,h)}f=f[c]}return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),a=r(i),u=n(85),l=r(u),f=n(36),s=r(f),c=n(51),d=r(c),h=n(14),p=r(h),v=n(52),y=r(v);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(t,function(t){return[t,e[t]]})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("string"==typeof e)return e;if((0,l.default)(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-f?"-0":t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(119),a=r(i),u=n(44),l=r(u),f=1/0,s=a.default?a.default.prototype:void 0,c=s?s.toString:void 0;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.Object===Object?e:null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(133),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=t?n((0,s.default)(e),!0):(0,s.default)(e);return(0,l.default)(r,a.default,new e.constructor)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(401),a=r(i),u=n(190),l=r(u),f=n(137),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}Object.defineProperty(t,"__esModule",{value:!0});var o=/\w*$/;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=t?n((0,s.default)(e),!0):(0,s.default)(e);return(0,l.default)(r,a.default,new e.constructor)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(402),a=r(i),u=n(190),l=r(u),f=n(91),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return l?Object(l.call(e)):{}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(119),a=r(i),u=a.default?a.default.prototype:void 0,l=u?u.valueOf:void 0;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t?(0,a.default)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(133),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,i=(0,a.default)(e),u=void 0!==t,l=null===t,f=t===t,s=(0,a.default)(t);if(!l&&!s&&!i&&e>t||i&&u&&f&&!l&&!s||r&&u&&f||!n&&f||!o)return 1;if(!r&&!i&&!s&&e<t||s&&n&&o&&!r&&!i||l&&n&&o||!u&&o||!f)return-1}return 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(e,(0,l.default)(e),t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(134),a=r(i),u=n(200),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,l.default)(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,u&&(0,a.default)(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(88),a=r(i),u=n(8),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(187),i=r(o),a=n(486),u=r(a),l=n(91),f=r(l),s=1/0,c=i.default&&1/(0,f.default)(new i.default([,-0]))[1]==s?function(e){return new i.default(e)}:u.default;t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=(0,l.default)(t);return n==h?(0,s.default)(t):n==p?(0,d.default)(t):(0,a.default)(t,e(t))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(422),a=r(i),u=n(136),l=r(u),f=n(137),s=r(f),c=n(467),d=r(c),h="[object Map]",p="[object Set]";t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!r(new l.default(e),new l.default(t)));case b:case _:return+e==+t;case m:return e.name==t.name&&e.message==t.message;case w:return e!=+e?t!=+t:e==+t;case O:case P:return e==t+"";case g:var u=d.default;case k:var f=i&y;if(u||(u=p.default),e.size!=t.size&&!f)return!1;var c=a.get(e);return c?c==t:(i|=v,a.set(e,t),(0,s.default)(u(e),u(t),r,o,i,a));case j:if(S)return S.call(e)==S.call(t)}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(119),a=r(i),u=n(188),l=r(u),f=n(199),s=r(f),c=n(137),d=r(c),h=n(91),p=r(h),v=1,y=2,b="[object Boolean]",_="[object Date]",m="[object Error]",g="[object Map]",w="[object Number]",O="[object RegExp]",k="[object Set]",P="[object String]",j="[object Symbol]",M="[object ArrayBuffer]",x="[object DataView]",E=a.default?a.default.prototype:void 0,S=E?E.valueOf:void 0;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i){var u=o&f,s=(0,l.default)(e),c=s.length;if(c!=(0,l.default)(t).length&&!u)return!1;for(var d=c;d--;){var h=s[d];if(!(u?h in t:(0,a.default)(t,h)))return!1}var p=i.get(e);if(p)return p==t;var v=!0;i.set(e,t);for(var y=u;++d<c;){h=s[d];var b=e[h],_=t[h];if(r)var m=u?r(_,b,h,t,e,i):r(b,_,h,e,t,i);if(!(void 0===m?b===_||n(b,_,r,o,i):m)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var g=e.constructor,w=t.constructor;g!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(v=!1)}return i.delete(e),v}Object.defineProperty(t,"__esModule",{value:!0});var i=n(193),a=r(i),u=n(65),l=r(u),f=2;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e,s.default,l.default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(410),a=r(i),u=n(200),l=r(u),f=n(65),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(126),i=r(o),a=(0,i.default)("length");t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=(0,l.default)(e),n=t.length;n--;)t[n][2]=(0,a.default)(t[n][1]);return t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(203),a=r(i),u=n(492),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){t=(0,p.default)(t,e)?[t]:(0,a.default)(t);for(var r,o=-1,i=t.length;++o<i;){var u=(0,g.default)(t[o]);if(!(r=null!=e&&n(e,u)))break;e=e[u]}if(r)return r;var i=e?e.length:0;return!!i&&(0,y.default)(i)&&(0,d.default)(u,i)&&((0,s.default)(e)||(0,_.default)(e)||(0,l.default)(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85),a=r(i),u=n(142),l=r(u),f=n(11),s=r(f),c=n(36),d=r(c),h=n(51),p=r(h),v=n(94),y=r(v),b=n(144),_=r(b),m=n(52),g=r(m);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){this.__data__=a.default?(0,a.default)(null):{}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return this.has(e)&&delete this.__data__[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this.__data__;if(a.default){var n=t[e];return n===u?void 0:n}return f.call(t,e)?t[e]:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),a=r(i),u="__lodash_hash_undefined__",l=Object.prototype,f=l.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this.__data__;return a.default?void 0!==t[e]:l.call(t,e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),a=r(i),u=Object.prototype,l=u.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return this.__data__[e]=a.default&&void 0===t?u:t,this}Object.defineProperty(t,"__esModule",{value:!0});var i=n(90),a=r(i),u="__lodash_hash_undefined__";t.default=o},function(e,t,n){"use strict";function r(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.prototype,i=o.hasOwnProperty;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=e.constructor;switch(t){case x:return(0,a.default)(e);case m:case g:return new o(+e);case E:return(0,l.default)(e,r);case S:case T:case C:case A:case R:case F:case N:case V:case I:return(0,_.default)(e,r);case w:return(0,s.default)(e,r,n);case O:case j:return new o(e);case k:return(0,d.default)(e);case P:return(0,p.default)(e,r,n);case M:return(0,y.default)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(133),a=r(i),u=n(426),l=r(u),f=n(427),s=r(f),c=n(428),d=r(c),h=n(429),p=r(h),v=n(430),y=r(v),b=n(431),_=r(b),m="[object Boolean]",g="[object Date]",w="[object Map]",O="[object Number]",k="[object RegExp]",P="[object Set]",j="[object String]",M="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",F="[object Uint8Array]",N="[object Uint8ClampedArray]",V="[object Uint16Array]",I="[object Uint32Array]";t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"function"!=typeof e.constructor||(0,s.default)(e)?{}:(0,a.default)((0,l.default)(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(408),a=r(i),u=n(135),l=r(u),f=n(89),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,l.default)(e)||(0,a.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(142),a=r(i),u=n(11),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){var t=void 0===e?"undefined":o(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";function r(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){this.__data__=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this.__data__,n=(0,a.default)(t,e);return!(n<0)&&(n==t.length-1?t.pop():l.call(t,n,1),!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),a=r(i),u=Array.prototype,l=u.splice;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this.__data__,n=(0,a.default)(t,e);return n<0?void 0:t[n][1]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(this.__data__,e)>-1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=this.__data__,r=(0,a.default)(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){this.__data__={hash:new a.default,map:new(s.default||l.default),string:new a.default}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(397),a=r(i),u=n(78),l=r(u),f=n(186),s=r(f);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(this,e).delete(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(86),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(this,e).get(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(86),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(this,e).has(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(86),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(this,e).set(e,t),this}Object.defineProperty(t,"__esModule",{value:!0});var i=n(86),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return 1==t.length?e:(0,a.default)(e,(0,l.default)(t,0,-1))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(122),a=r(i),u=n(35),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return this.__data__.set(e,o),this}Object.defineProperty(t,"__esModule",{value:!0});var o="__lodash_hash_undefined__";t.default=r},function(e,t,n){"use strict";function r(e){return this.__data__.has(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){this.__data__=new a.default}Object.defineProperty(t,"__esModule",{value:!0});var i=n(78),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return this.__data__.delete(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return this.__data__.get(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return this.__data__.has(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=this.__data__;return n instanceof a.default&&n.__data__.length==f&&(n=this.__data__=new l.default(n.__data__)),n.set(e,t),this}Object.defineProperty(t,"__esModule",{value:!0});var i=n(78),a=r(i),u=n(117),l=r(u),f=200;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(485),i=r(o),a=n(493),u=r(a),l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,f=/\\(\\)?/g,s=(0,i.default)(function(e){var t=[];return(0,u.default)(e).replace(l,function(e,n,r,o){t.push(r?o.replace(f,"$1"):n||e)}),t});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(206),i=r(o),a=n(207),u=r(a),l=n(208),f=r(l),s=n(209),c=r(s),d=n(210),h=r(d),p=n(211),v=r(p),y=n(139),b=r(y),_=n(140),m=r(_),g=n(212),w=r(g),O=n(213),k=r(O),P=n(214),j=r(P),M=n(215),x=r(M),E=n(216),S=r(E),T=n(217),C=r(T),A=n(218),R=r(A),F=n(219),N=r(F),V=n(220),I=r(V),D=n(221),B=r(D),L=n(141),q=r(L),W=n(224),z=r(W),K=n(225),$=r(K),U=n(226),H=r(U),J=n(227),G=r(J),Y=n(228),Q=r(Y),X=n(230),Z=r(X),ee=n(18),te=r(ee),ne=n(231),re=r(ne),oe=n(232),ie=r(oe),ae=n(233),ue=r(ae),le=n(145),fe=r(le),se=n(234),ce=r(se),de=n(235),he=r(de),pe=n(236),ve=r(pe),ye=n(237),be=r(ye),_e=n(238),me=r(_e),ge=n(239),we=r(ge),Oe=n(240),ke=r(Oe),Pe=n(241),je=r(Pe),Me=n(242),xe=r(Me),Ee=n(243),Se=r(Ee),Te=n(244),Ce=r(Te),Ae=n(245),Re=r(Ae),Fe=n(246),Ne=r(Fe),Ve=n(247),Ie=r(Ve),De=n(248),Be=r(De),Le=n(249),qe=r(Le),We=n(250),ze=r(We),Ke=n(251),$e=r(Ke),Ue=n(252),He=r(Ue),Je=n(254),Ge=r(Je),Ye=n(255),Qe=r(Ye),Xe=n(256),Ze=r(Xe),et=n(257),tt=r(et),nt=n(258),rt=r(nt),ot=n(259),it=r(ot),at=n(96),ut=r(at),lt=n(146),ft=r(lt),st=n(260),ct=r(st),dt=n(261),ht=r(dt),pt=n(262),vt=r(pt),yt=n(263),bt=r(yt),_t=n(264),mt=r(_t),gt=n(265),wt=r(gt),Ot=n(266),kt=r(Ot),Pt=n(267),jt=r(Pt);t.default={chunk:i.default,compact:u.default,concat:f.default,difference:c.default,differenceBy:h.default,differenceWith:v.default,drop:b.default,dropRight:m.default,dropRightWhile:w.default,dropWhile:k.default,fill:j.default,findIndex:x.default,findLastIndex:S.default,first:C.default,flatten:R.default,flattenDeep:N.default,flattenDepth:I.default,fromPairs:B.default,head:q.default,indexOf:z.default,initial:$.default,intersection:H.default,intersectionBy:G.default,intersectionWith:Q.default,join:Z.default,last:te.default,lastIndexOf:re.default,nth:ie.default,pull:ue.default,pullAll:fe.default,pullAllBy:ce.default,pullAllWith:he.default,pullAt:ve.default,remove:be.default,reverse:me.default,slice:we.default,sortedIndex:ke.default,sortedIndexBy:je.default,sortedIndexOf:xe.default,sortedLastIndex:Se.default,sortedLastIndexBy:Ce.default,sortedLastIndexOf:Re.default,sortedUniq:Ne.default,sortedUniqBy:Ie.default,tail:Be.default,take:qe.default,takeRight:ze.default,takeRightWhile:$e.default,takeWhile:He.default,union:Ge.default,unionBy:Qe.default,unionWith:Ze.default,uniq:tt.default,uniqBy:rt.default,uniqWith:it.default,unzip:ut.default,unzipWith:ft.default,without:ct.default,xor:ht.default,xorBy:vt.default,xorWith:bt.default,zip:mt.default,zipObject:wt.default,zipObjectDeep:kt.default,zipWith:jt.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(206);Object.defineProperty(t,"chunk",{enumerable:!0,get:function(){return r(o).default}});var i=n(207);Object.defineProperty(t,"compact",{enumerable:!0,get:function(){return r(i).default}});var a=n(208);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return r(a).default}});var u=n(209);Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return r(u).default}});var l=n(210);Object.defineProperty(t,"differenceBy",{enumerable:!0,get:function(){return r(l).default}});var f=n(211);Object.defineProperty(t,"differenceWith",{enumerable:!0,get:function(){return r(f).default}});var s=n(139);Object.defineProperty(t,"drop",{enumerable:!0,get:function(){return r(s).default}});var c=n(140);Object.defineProperty(t,"dropRight",{enumerable:!0,get:function(){return r(c).default}});var d=n(212);Object.defineProperty(t,"dropRightWhile",{enumerable:!0,get:function(){return r(d).default}});var h=n(213);Object.defineProperty(t,"dropWhile",{enumerable:!0,get:function(){return r(h).default}});var p=n(214);Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return r(p).default}});var v=n(215);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return r(v).default}});var y=n(216);Object.defineProperty(t,"findLastIndex",{enumerable:!0,get:function(){return r(y).default}});var b=n(217);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return r(b).default}});var _=n(218);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return r(_).default}});var m=n(219);Object.defineProperty(t,"flattenDeep",{enumerable:!0,get:function(){return r(m).default}});var g=n(220);Object.defineProperty(t,"flattenDepth",{enumerable:!0,get:function(){return r(g).default}});var w=n(221);Object.defineProperty(t,"fromPairs",{enumerable:!0,get:function(){return r(w).default}});var O=n(141);Object.defineProperty(t,"head",{enumerable:!0,get:function(){return r(O).default}});var k=n(224);Object.defineProperty(t,"indexOf",{enumerable:!0,get:function(){return r(k).default}});var P=n(225);Object.defineProperty(t,"initial",{enumerable:!0,get:function(){return r(P).default}});var j=n(226);Object.defineProperty(t,"intersection",{enumerable:!0,get:function(){return r(j).default}});var M=n(227);Object.defineProperty(t,"intersectionBy",{enumerable:!0,get:function(){return r(M).default}});var x=n(228);Object.defineProperty(t,"intersectionWith",{enumerable:!0,get:function(){return r(x).default}});var E=n(230);Object.defineProperty(t,"join",{enumerable:!0,get:function(){return r(E).default}});var S=n(18);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return r(S).default}});var T=n(231);Object.defineProperty(t,"lastIndexOf",{enumerable:!0,get:function(){return r(T).default}});var C=n(232);Object.defineProperty(t,"nth",{enumerable:!0,get:function(){return r(C).default}});var A=n(233);Object.defineProperty(t,"pull",{enumerable:!0,get:function(){return r(A).default}});var R=n(145);Object.defineProperty(t,"pullAll",{enumerable:!0,get:function(){return r(R).default}});var F=n(234);Object.defineProperty(t,"pullAllBy",{enumerable:!0,get:function(){return r(F).default}});var N=n(235);Object.defineProperty(t,"pullAllWith",{enumerable:!0,get:function(){return r(N).default}});var V=n(236);Object.defineProperty(t,"pullAt",{enumerable:!0,get:function(){return r(V).default}});var I=n(237);Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return r(I).default}});var D=n(238);Object.defineProperty(t,"reverse",{enumerable:!0,get:function(){return r(D).default}});var B=n(239);Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return r(B).default}});var L=n(240);Object.defineProperty(t,"sortedIndex",{enumerable:!0,get:function(){return r(L).default}});var q=n(241);Object.defineProperty(t,"sortedIndexBy",{enumerable:!0,get:function(){return r(q).default}});var W=n(242);Object.defineProperty(t,"sortedIndexOf",{enumerable:!0,get:function(){return r(W).default}});var z=n(243);Object.defineProperty(t,"sortedLastIndex",{enumerable:!0,get:function(){return r(z).default}});var K=n(244);Object.defineProperty(t,"sortedLastIndexBy",{enumerable:!0,get:function(){return r(K).default}});var $=n(245);Object.defineProperty(t,"sortedLastIndexOf",{enumerable:!0,get:function(){return r($).default}});var U=n(246);Object.defineProperty(t,"sortedUniq",{enumerable:!0,get:function(){return r(U).default}});var H=n(247);Object.defineProperty(t,"sortedUniqBy",{enumerable:!0,get:function(){return r(H).default}});var J=n(248);Object.defineProperty(t,"tail",{enumerable:!0,get:function(){return r(J).default}});var G=n(249);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return r(G).default}});var Y=n(250);Object.defineProperty(t,"takeRight",{enumerable:!0,get:function(){return r(Y).default}});var Q=n(251);Object.defineProperty(t,"takeRightWhile",{enumerable:!0,get:function(){return r(Q).default}});var X=n(252);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return r(X).default}});var Z=n(254);Object.defineProperty(t,"union",{enumerable:!0,get:function(){return r(Z).default}});var ee=n(255);Object.defineProperty(t,"unionBy",{enumerable:!0,get:function(){return r(ee).default}});var te=n(256);Object.defineProperty(t,"unionWith",{enumerable:!0,get:function(){return r(te).default}});var ne=n(257);Object.defineProperty(t,"uniq",{enumerable:!0,get:function(){return r(ne).default}});var re=n(258);Object.defineProperty(t,"uniqBy",{enumerable:!0,get:function(){return r(re).default}});var oe=n(259);Object.defineProperty(t,"uniqWith",{enumerable:!0,get:function(){return r(oe).default}});var ie=n(96);Object.defineProperty(t,"unzip",{enumerable:!0,get:function(){return r(ie).default}});var ae=n(146);Object.defineProperty(t,"unzipWith",{enumerable:!0,get:function(){return r(ae).default}});var ue=n(260);Object.defineProperty(t,"without",{enumerable:!0,get:function(){return r(ue).default}});var le=n(261);Object.defineProperty(t,"xor",{enumerable:!0,get:function(){return r(le).default}});var fe=n(262);Object.defineProperty(t,"xorBy",{enumerable:!0,get:function(){return r(fe).default}});var se=n(263);Object.defineProperty(t,"xorWith",{enumerable:!0,get:function(){return r(se).default}});var ce=n(264);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return r(ce).default}});var de=n(265);Object.defineProperty(t,"zipObject",{enumerable:!0,get:function(){return r(de).default}});var he=n(266);Object.defineProperty(t,"zipObjectDeep",{enumerable:!0,get:function(){return r(he).default}});var pe=n(267);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return r(pe).default}});var ve=n(474);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(ve).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),i=r(o),a=n(134),u=r(a),l=n(434),f=r(l),s=n(93),c=r(s),d=n(89),h=r(d),p=n(484),v=r(p),y=Object.prototype,b=y.propertyIsEnumerable,_=!b.call({valueOf:1},"valueOf"),m=(0,f.default)(function(e,t){if(_||(0,h.default)(t)||(0,c.default)(t))return void(0,u.default)(t,(0,v.default)(t),e);for(var n in t)(0,i.default)(e,n,t[n])});t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(e,!0,!0,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return function(){return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return null!=e&&(0,l.default)(e,t,a.default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(411),a=r(i),u=n(442),l=r(u);t.default=o},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(478),a=r(i),u=n(30),l=r(u),f={function:!0,object:!0},s=f[o(t)]&&t&&!t.nodeType?t:void 0,c=f[o(e)]&&e&&!e.nodeType?e:void 0,d=c&&c.exports===s?s:void 0,h=d?l.default.Buffer:void 0,p=h?function(e){return e instanceof h}:(0,a.default)(!1);t.default=p}).call(t,n(148)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return!!e&&1===e.nodeType&&(0,a.default)(e)&&!(0,l.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),a=r(i),u=n(95),l=r(u);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(125),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,l.default)(e)&&(0,a.default)(e.length)&&!!f[c.call(e)]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(94),a=r(i),u=n(43),l=r(u),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var s=Object.prototype,c=s.toString;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=-1,n=(0,d.default)(e),r=(0,a.default)(e),o=r.length,i=(0,l.default)(e),u=!!i,f=i||[],c=f.length;++t<o;){var h=r[t];u&&("length"==h||(0,s.default)(h,c))||"constructor"==h&&(n||!p.call(e,h))||f.push(h)}return f}Object.defineProperty(t,"__esModule",{value:!0});var i=n(416),a=r(i),u=n(201),l=r(u),f=n(36),s=r(f),c=n(89),d=r(c),h=Object.prototype,p=h.hasOwnProperty;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(u);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(o.Cache||a.default),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(117),a=r(i),u="Expected a function";o.Cache=a.default,t.default=o},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Date.now;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,s.default)(e)?(0,a.default)((0,d.default)(e)):(0,l.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),a=r(i),u=n(420),l=r(u),f=n(51),s=r(f),c=n(52),d=r(c);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(f);return(0,l.default)(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),(0,a.default)(e,t,{leading:r,maxWait:t,trailing:o})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(138),a=r(i),u=n(14),l=r(u),f="Expected a function";t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e)return 0===e?e:0;if((e=(0,a.default)(e))===u||e===-u){return(e<0?-1:1)*l}return e===e?e:0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(253),a=r(i),u=1/0,l=1.7976931348623157e308;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e?(0,a.default)((0,l.default)(e),0,f):0}Object.defineProperty(t,"__esModule",{value:!0});var i=n(407),a=r(i),u=n(15),l=r(u),f=4294967295;t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(436),i=r(o),a=n(65),u=r(a),l=(0,i.default)(u.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return null==e?"":(0,a.default)(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(423),a=r(i);t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(498),a=function(){function e(t){var n=this;r(this,e),this.lang=t||"en",this.t=function(){return n._t.apply(n,arguments)}}return o(e,[{key:"_t",value:function(e,t){var n=(0,i.translate)(this.lang,e);return t&&(n=n.replace(/\%(\d+)/g,function(e,n){return n<t.length?t[n]:e})),n}}]),e}();t.default=a},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(e,t){if(e.size!=t.size)return!1;var n=!0,r=!1,o=void 0;try{for(var i,a=e.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(JSON.stringify(u[1])!==JSON.stringify(t.get(u[0])))return!1}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var r={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};t.default=r},function(e,t,n){"use strict";/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function r(){return function e(){e.called=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){u[e]=u[e]||{},Object.assign(u[e],t)}function o(e,t){return i(e,t)?u[e][t]:t.replace(/ \[context: [^\]]+\]$/,"")}function i(e,t){return e in u&&t in u[e]}function a(){u={}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.translate=o,t._clear=a;/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var u={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(270),l=r(u),f=n(271),s=r(f),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(l.default);t.default=c,c.build={plugins:[s.default],config:{toolbar:["image","headings"]}}}])});