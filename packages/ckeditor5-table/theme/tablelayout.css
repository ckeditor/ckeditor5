/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-editor__editable {
	&.ck-editor__editable_inline {
		& > .ck-widget.ck-widget_with-selection-handle.layout-table {
			&:first-child {
				margin-top: var(--ck-spacing-large);
			}
			/*
			* This value should match with the default margins of the block elements (like .media, .image or .table)
			* to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
			*/
			&:last-child,
			/* Fallback for hidden fake selection div */
			&:nth-last-child(2):has( + .ck-fake-selection-container) {
				margin-bottom: var(--ck-spacing-large);
			}
		}
	}

	& .table.layout-table {
		/* Do not reserve space above and below the layout table. */
		margin-top: 0;
		margin-bottom: 0;

		/* Widget type around overrides. */
		&.ck-widget {
			&:hover > .ck-widget__selection-handle {
				opacity: 0.75;
				visibility: visible;

				&:hover {
					opacity: 1;
				}
			}

			&:has( .ck-widget:hover ) > .ck-widget__selection-handle {
				opacity: 0;
				visibility: hidden;
			}
		}
	}
}
