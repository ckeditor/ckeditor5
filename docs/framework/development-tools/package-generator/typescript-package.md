---
menu-title: TypeScript package
meta-title: Package generator TypeScript package content | CKEditor 5 Framework Documentation
category: package-generator
order: 43
modified_at: 2024-06-27
---

# TypeScript package content

This guide describes the contents of the TypeScript package generated by the {@link framework/development-tools/package-generator/using-package-generator Package Generator}.

## Structure of the project

An overview of the project's directory structure:

```plain-text
├─ lang
│  └─ contexts.json        # Entries used for creating translations.
├─ sample
│  ├─ (*) dll.html         # The editor initialized using the DLL builds.
│  ├─ index.html           # The sample file.
│  └─ ckeditor.ts          # The editor initialization script.
├─ scripts
│  └─ build-dist.mjs       # Script creates `npm` and browser builds for your plugin.
├─ src
│  ├─ pluginname.ts        # The plugin with example functionality.
│  ├─ augmentation.ts      # Type augmentations for the `@ckeditor/ckeditor5-core` module.
│  ├─ index.ts             # The modules exported by the package when using the DLL builds.
│  └─ **/*.ts              # All TypeScript source files should be saved here.
├─ tests
│  ├─ pluginname.ts
│  ├─ index.ts             # Tests for the plugin.
│  └─ **/*.ts              # All tests should be saved here.
├─ theme
│  ├─ icons
│  │  ├─ ckeditor.svg      # The CKEditor&nbsp;5 icon displayed in the toolbar.
│  │  └─ **/*.svg          # All icon files should be saved here.
│  └─ **/*.css             # All CSS files should be saved here.
├─ typings
│  └─ **/*.d.ts            # Files containing type definitions.
│
├─ .editorconfig           # See link below for details.
├─ .eslintrc.cjs           # ESLint configuration file.
├─ .gitattributes          # See link below for details.
├─ .gitignore              # See link below for details.
├─ .stylelintrc            # Stylelint configuration file.
├─ ckeditor5-metadata.json # See link below for details.
├─ LICENSE.md              # All created packages fall under the MIT license.
├─ package.json            # See link below for details.
├─ tsconfig.json           # General TypeScript configuration.
├─ tsconfig.dist.json      # Override for options from `tsconfig.json` file during `npm` and browser builds.
├─ tsconfig.test.json      # Override for options from `tsconfig.json` file while executing tests.
├─ tsconfig.release.json   # Override for options from `tsconfig.json` file during release process.
└─ README.md               # Description of your project and usage instructions.

```

<info-box warning>
	(*) This file is not available if the plugin was generated with the `current` value of the `--installation-methods` flag.
</info-box>

Guides for developing some of the files:
* [.editorconfig](https://editorconfig.org/)
* [.gitattributes](https://git-scm.com/docs/gitattributes)
* [.gitignore](https://git-scm.com/docs/gitignore)
* {@link framework/contributing/package-metadata ckeditor5-metadata.json}
* [package.json](https://docs.npmjs.com/cli/v7/configuring-npm/package-json)
* [tsconfig.json](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html)
* augmentation.ts - Read more in the [relevant issue](https://github.com/ckeditor/ckeditor5/issues/13433), {@link module:core/plugincollection~PluginsMap} and {@link module:core/commandcollection~CommandsMap}.

## Npm scripts

The npm scripts are a convenient way to provide commands in a project. They are defined in the `package.json` file and shared with other people contributing to the project. It ensures that the developers use the same commands with the same options (flags).

You can execute all the scripts by running `npm run <script>`. Pre-commands and post-commands with matching names will be run for those as well.

The following scripts are available in the package.

### `start`

Starts an HTTP server with the live-reload mechanism that allows previewing and testing of plugins available in the package.

When the server has been started, the default browser will open the developer sample. You can turn this off by passing the `--no-open` option to that command.

You can also define the language that will translate the created editor by specifying the `--language [LANG]` option. It defaults to `'en'`.

Examples:

```bash
# Starts the server and opens the browser.
npm run start

# Disable auto-opening the browser.
npm run start -- --no-open

# Create the editor with the interface in German.
npm run start -- --language=de
```

### `test`

Allows executing unit tests for the package, specified in the `tests/` directory. The command accepts the following modifiers:

* `--coverage` &ndash; Creates the code coverage report.
* `--watch` &ndash; Observes the source files (the command does not end after executing tests).
* `--source-map` &ndash; Generates source maps of the sources.
* `--verbose` &ndash; Prints additional webpack logs.

Examples:

```bash
# Execute tests.
npm run test

# Generate code coverage report after each change in the sources.
npm run test -- --coverage --test
```

### `lint`

Runs ESLint, which analyzes the code (all `*.ts` files) to quickly find problems.

Examples:

```bash
# Execute ESLint.
npm run lint
```

### `stylelint`

Similar to the `lint` task, `stylelint` analyzes the CSS code (`*.css` files in the `theme/` directory) in the package.

Examples:

```bash
# Execute stylelint.
npm run stylelint
```

### `build:dist`

Creates npm and browser builds of your plugin. These builds can be added to the editor by following the {@link getting-started/setup/configuration Configuring CKEditor 5 features} guide.

Examples:

```bash
# Builds the `npm` and browser files thats are ready to publish.
npm run build:dist
```

### `dll:build` (*)

<info-box warning>
	This script is not available if the plugin was generated with the `current` value of the `--installation-methods` flag.
</info-box>

Creates a DLL-compatible package build which can be loaded into an editor using {@link getting-started/advanced/dll-builds DLL builds}.

Examples:

```bash
# Build the DLL file that is ready to publish.
npm run dll:build

# Build the DLL file and listen to changes in its sources.
npm run dll:build -- --watch
```

### `dll:serve` (*)

<info-box warning>
	This script is not available if the plugin was generated with the `current` value of the `--installation-methods` flag.
</info-box>

Creates a simple HTTP server (without the live-reload mechanism) that allows verifying whether the DLL build of the package is compatible with the CKEditor&nbsp;5 {@link getting-started/advanced/dll-builds DLL builds}.

Examples:

```bash
# Starts the HTTP server and opens the browser.
npm run dll:serve
```

<info-box hint>
	You can run `npm run dll:build -- --watch` and `npm run dll:serve` in two separate command terminals. That way, after you save your changes and reload the page, the content will update.
</info-box>

### `translations:collect`

Collects translation messages (arguments of the `t()` function) and context files. Then validates whether the provided values do not interfere with the values specified in the `@ckeditor/ckeditor5-core` package.

The task may end with an error if one of the following conditions is met:

* The `Unused context` error is found &ndash; Entries specified in the `lang/contexts.json` file are not used in source files. They should be removed.
* The `Context is duplicated for the id` error is found &ndash; Some of the entries are duplicated. Consider removing them from the `lang/contexts.json` file, or rewrite them.
* The `Context for the message id is missing` error is found &ndash; Entries specified in the source files are not described in the `lang/contexts.json` file. They should be added.

Examples:

```bash
npm run translations:collect
```

### `translations:download`

Downloads translations from the Transifex server. Depending on users' activity in the project, it creates translation files used for building the editor.

<info-box info>
	The task requires passing an organization and project names. Usually, it matches the following format: `https://www.transifex.com/[ORGANIZATION]/[PROJECT]`.

	To avoid passing these options every time the command calls for it, you can store it in `package.json`, next to the `ckeditor5-package-tools translations:download` command.

```json
"scripts": {
  "translations:download": "ckeditor5-package-tools translations:upload --organization=[ORGANIZATION] --project=[PROJECT]"
},
```
</info-box>

Examples:

```bash
npm run translations:download -- --organization [ORGANIZATION] --project [PROJECT]
```

### `translations:upload`

Uploads translation messages onto the Transifex server. It allows for the creation of translations into other languages by users using the Transifex platform.

<info-box info>
The task requires passing an organization and project names. Usually, it matches the following format: `https://www.transifex.com/[ORGANIZATION]/[PROJECT]`.

To avoid passing these options every time the command calls for it, you can store it in `package.json`, next to the `ckeditor5-package-tools translations:upload` command.

```json
"scripts": {
  "translations:upload": "ckeditor5-package-tools translations:upload --organization=[ORGANIZATION] --project=[PROJECT]"
},
```
</info-box>

Examples:

```bash
npm run translations:upload -- --organization [ORGANIZATION] --project [PROJECT]
```

### `prepare`, `prepublishOnly` and `postpublish`

Npm supports some special [life cycle scripts](https://docs.npmjs.com/cli/v7/using-npm/scripts#life-cycle-scripts). They allow automatically performing operations in certain situations:

* `prepare` &ndash; Triggers during package creation and before publishing.
* `prepublishOnly` &ndash; Triggers only before publishing.
* `postpublish` &ndash; Triggers after publishing.

Scripts in this package ensure that npm, browser and DLL-compatible builds are available after the creation of the package and that correct files are published. However, if during creation of the package the `--installation-methods` flag value was set to `current` support for legacy installation methods is not available:

* `npm` and browser package builds.
* DLL-compatible package build.
* TypeScript files compiled to JavaScript, along with their type definitions exported.
* The `main` field in `package.json` points to a `.js` file.

It also ensures that cleanup is performed afterward:

* Compiled TypeScript files are removed, as they clutter the `src` directory.
* The `main` field in `package.json` reverts to pointing to a `.ts` file.

### `ts:build` and `ts:clear`

These scripts compile TypeScript and remove the compiled files. They are used in the aforementioned life cycle scripts, and there is no need to call them manually.

## How to change ESLint configuration

To change the ESLint configuration, edit the [.eslintrc.js](https://github.com/ckeditor/ckeditor5-package-generator/blob/master/.eslintrc.js) file. It is also a good idea to check out the [ESLint documentation](https://eslint.org/docs/rules/).

### Why are the predefined ESLint rules recommended

To make CKEditor&nbsp;5 plugins compatible with each other, we needed to introduce certain limitations when importing files from packages. To learn more, visit the {@link getting-started/advanced/dll-builds DLL guide} and {@link framework/contributing/code-style#dll-builds-ckeditor5-rulesckeditor-imports see a detailed explanation} about the limitations.

## Translations

Packages created by this tool, just like the entirety of the CKEditor&nbsp;5 ecosystem, include full support for localization. If you wish to include translations for your package, visit the {@link framework/deep-dive/localization dedicated translation guide} to learn more.

The package generator provides several tools for handling translations in the created package. We recommend the following flow when dealing with translations:

1. Call `npm run translations:download` &ndash; Download the latest version of translations.
    * If there are changes in the `lang/translations/*` files, commit them as they represent new or updated translation files.
1. Call `npm run translations:collect` &ndash; Verify whether contexts are up-to-date.
1. Call `npm run translations:upload` &ndash; Upload new translations.
1. Call `npm run translations:download` &ndash; If new contexts were uploaded, it updates the `en.po` file in the package. Do not forget to commit the change.

## Reporting issues

If you found a problem with CKEditor&nbsp;5 or the package generator, report an issue:

* [CKEditor&nbsp;5](https://github.com/ckeditor/ckeditor5/issues/new/choose)
* [The package generator](https://github.com/ckeditor/ckeditor5-package-generator/issues/new)
