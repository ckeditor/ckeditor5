<div id="snippet-manualsave">
	<p>Change the content of this editor, then save it on the server.</p>
</div>

<div id="snippet-manualsave-header">
	<div id="snippet-manualsave-server">
		<div id="snippet-manualsave-server_label">HTTP server lag (ms):</div>
		<input id="snippet-manualsave-lag" type="number" value="500" step="100" min="0" max="9000">
	</div>
	<div id="snippet-manualsave-container">
		<span id="snippet-manualsave-spinner"></span>
		<input id="snippet-manualsave-save" type="submit" value="Save">
	</div>
</div>

<style>
	@layer snippets {
		#snippet-manualsave-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			background: var(--color-gray-200);
			border: 1px solid var(--color-gray-400);
			padding: var(--spacing-3);
			border-radius: var(--spacing-0-5);
			margin-top: var(--spacing-0);
			margin-bottom: var(--spacing-4);
		}

		#snippet-manualsave-server,
		#snippet-manualsave-submit {
			display: flex;
			align-items: center;
		}

		#snippet-manualsave-server_label,
		#snippet-manualsave-status_label {
			font-weight: bold;
			margin-right: var(--spacing-4);
		}

		#snippet-manual + .ck.ck-editor .ck-editor__editable {
			border-bottom-right-radius: var(--spacing-0);
			border-bottom-left-radius: var(--spacing-0);
		}

		#snippet-manualsave-lag {
			padding: var(--spacing-1);
		}

		#snippet-manualsave-save {
			color: var(--color-text-contrast);
			background: var(--color-primary-500);
			opacity: 0.5;
			padding: var(--spacing-1) var(--spacing-5);
			display: inline-block;
			border: 0;
			border-radius: var(--spacing-0-5);
			font-weight: bold;
			outline: none;
			transition: 300ms ease background;
		}

		#snippet-manualsave-save:hover {
			background: var(--color-primary-600);
		}

		#snippet-manualsave-save:active,
		#snippet-manualsave-save:focus {
			box-shadow: 0 1px 0 var(--color-primary-600);
		}

		#snippet-manualsave-container.active #snippet-manualsave-save {
			cursor: pointer;
			opacity: 1;
		}

		#snippet-manualsave-container.saving #snippet-manualsave-save {
			background: var(--color-primary-500);
		}

		#snippet-manualsave-console {
			transition: background-color 500ms;
		}

		#snippet-manualsave-spinner {
			display: none;
		}

		#snippet-manualsave-container.saving #snippet-manualsave-spinner {
			display: inline-block;
			vertical-align: middle;
			margin-right: var(--spacing-4);
			width: var(--spacing-4);
			height: var(--spacing-4);
			border-radius: 50%;
			border-top: var(--spacing-1) solid var(--color-primary-500);
			border-right: var(--spacing-0-5) solid transparent;
			animation: manualsave-spinner 1s linear infinite;
		}

		@keyframes manualsave-spinner {
			to { transform: rotate( 360deg ); }
		}
	}
</style>
